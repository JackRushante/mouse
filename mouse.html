<html>
<head>
<title>mouse Game</title>
<style>
  body {
    background-color: #ffffff;
  }

  #mouse {
    position: absolute;
    left: 0;
    top: 0;
    background-image: url("mouse.gif");
    background-size: contain;
    width: 230px;
    height: 230px;
  
    
  }
</style>
</head>
<body>
  <div id="mouse"></div>
  <audio id="squit" src="squit.mp3"></audio>
  <script>
    var mouse = document.getElementById("mouse");

    // Set the object's initial position
    var x = 0;
    var y = 0;

    // Set the object's speed
    var speedX = 2;
    var speedY = 2;

    // Set the object's size
    var width = mouse.offsetWidth;
    var height = mouse.offsetHeight;

    // Set the size of the game area
    var maxX = window.innerWidth - width;
    var maxY = window.innerHeight - height;

    // Function to move the object
    function movemouse() {      
    // Calculate the new position
      x = x + speedX;
      y = y + speedY;

      // If the mouse is at the edges of the game area, reverse its direction
      if (x >= maxX || x <= 0) {
        speedX *= -1;
      }
      if (y >= maxY || y <= 0) {
        speedY *= -1;
      }

      // Set the new position
      mouse.style.left = x + 'px';
      mouse.style.top = y + 'px';
         // Calculate the angle of rotation
        var rotationAngle = Math.atan2(speedY, speedX);

        // Apply the rotation to the mouse
        mouse.style.transform = "rotate(" + rotationAngle + "rad)";
        //Prendi l'immagine
var img = document.getElementById("myGif");

//Crea un canvas
var canvas = document.createElement("canvas");

//Prendi il context del canvas
var ctx = canvas.getContext("2d");

//Imposta la larghezza e l'altezza del canvas uguale a quelle dell'immagine
canvas.width = img.width;
canvas.height = img.height;

//Disegna l'immagine sull' canvas
ctx.drawImage(img, 0, 0);

//Ruota l'immagine di 180 gradi
ctx.translate(img.width, img.height);
ctx.rotate(Math.PI);

//Disegna l'immagine specchiata
ctx.drawImage(img, 0, 0);

//Sostituisci l'immagine originale con la specchiata
document.getElementById("myGif").src = './mouse.gif';
      
    }

    // Move the mouse every 5 milliseconds
    setInterval(movemouse, 5);

    // Add an event listener to the mouse element
    // When the mouse element is clicked, play the squit sound
    
    mouse.addEventListener("click", function() {document.getElementById("squit").play();
    });

  </script>
</body>
</html>