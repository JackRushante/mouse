(function(){var __webpack_modules__={35:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(488),_src_utils_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(265),_src_adloader_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(821),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(229),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(395),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(777),_src_polyfill_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(450),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(125),_src_native_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(487),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(386),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(174);const GVLID=91,ADAPTER_VERSION=35,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.df)({gvlid:GVLID,bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=135,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:function(e,t,n,i){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion")))return[];const r=(0,_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__.nH)(),o="criteoPrebidAdapter";if(e.iframeEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__.h)(n)){const e=[];e.push(`origin=${o}`),e.push(`topUrl=${r.domain}`),n&&(n.gdprApplies&&e.push("gdpr="+(1==n.gdprApplies?1:0)),n.consentString&&e.push(`gdpr_consent=${n.consentString}`)),i&&e.push(`us_privacy=${i}`);const t=Math.random().toString(),a={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:o,requestId:t,tld:r.domain,topUrl:r.domain,version:"7.41.0".replace(/\./g,"_")};window.addEventListener("message",(function e(n){if(!n.data||"https://gum.criteo.com"!=n.origin)return;if(n.data.requestId!==t)return;this.removeEventListener("message",e),n.stopImmediatePropagation();const i=n.data;i.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):i.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,i.bundle,GUID_RETENTION_TIME_HOUR)}),!0);const s=JSON.stringify(a).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${e.join("&")}#${s}`}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(hasVideoMediaType(e)&&!hasValidVideoMediaType(e)),buildRequests:(e,t)=>{var n,i;let r,o;e=(0,_src_native_js__WEBPACK_IMPORTED_MODULE_6__.lY)(e);let a=t.ortb2||{};Object.assign(t,{publisherExt:null===(n=a.site)||void 0===n?void 0:n.ext,userExt:null===(i=a.user)||void 0===i?void 0:i.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("coppa")});const s=_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion"),d=canFastBid(s);if(!publisherTagAvailable()&&d){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();const e=getFastBidUrl(s);setTimeout((()=>{(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_7__.B)(e,BIDDER_CODE)}),t.timeout)}if(publisherTagAvailable()){const n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"7.41.0");r=n.buildCdbUrl(),o=n.buildCdbRequest()}else{const n=buildContext(e,t);r=buildCdbUrl(n),o=buildCdbRequest(n,e,t)}if(o)return{method:"POST",url:r,data:o,bidRequests:e}},interpretResponse:(e,t)=>{const n=e.body||e;if(publisherTagAvailable()){const e=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(e)return e.interpretResponse(n,t)}const i=[];return n&&n.slots&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.kJ)(n.slots)&&n.slots.forEach((r=>{var o,a,s,d;const c=(0,_src_polyfill_js__WEBPACK_IMPORTED_MODULE_9__.sE)(t.bidRequests,(e=>e.adUnitCode===r.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===r.zoneid))),u=c.bidId,l={requestId:u,cpm:r.cpm,currency:r.currency,netRevenue:!0,ttl:r.ttl||60,creativeId:r.creativecode,width:r.width,height:r.height,dealId:r.dealCode};if(null!==(o=n.ext)&&void 0!==o&&null!==(a=o.paf)&&void 0!==a&&a.transmission&&null!==(s=r.ext)&&void 0!==s&&null!==(d=s.paf)&&void 0!==d&&d.content_id){const t={content_id:r.ext.paf.content_id,transmission:e.ext.paf.transmission};l.meta=Object.assign({},l.meta,{paf:t})}r.adomain&&(l.meta=Object.assign({},l.meta,{advertiserDomains:r.adomain})),r.native?c.params.nativeCallback?l.ad=createNativeAd(u,r.native,c.params.nativeCallback):(l.native=createPrebidNativeAd(r.native),l.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5):r.video?(l.vastUrl=r.displayurl,l.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX):l.ad=r.creative,i.push(l)})),i},onTimeout:e=>{if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((e=>{if(-1===t.indexOf(e.auctionId)){t.push(e.auctionId);Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout()}}))}},onBidWon:e=>{if(publisherTagAvailable()&&e){Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)}},onSetTargeting:e=>{if(publisherTagAvailable()){Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}}};function readFromAllStorages(e){const t=storage.getCookie(e),n=storage.getDataFromLocalStorage(e);return t||n||void 0}function saveOnAllStorages(e,t,n){const i=new Date;i.setTime(i.getTime()+60*n*60*1e3);const r=`expires=${i.toUTCString()}`;storage.setCookie(e,t,r),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var n;let i="";t&&t.refererInfo&&(i=t.refererInfo.page);const r=(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.en)(null==t||null===(n=t.refererInfo)||void 0===n?void 0:n.topmostLocation).search,o={url:i,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,amp:!1};return e.forEach((e=>{"amp"===e.params.integrationMode&&(o.amp=!0)})),o}function buildCdbUrl(e){let t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("7.41.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const n=readFromAllStorages(BUNDLE_COOKIE_NAME);n&&(t+=`&bundle=${n}`);return readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,n){var i,r;let o,a;const s={publisher:{url:e.url,ext:n.publisherExt},regs:{coppa:!0===n.coppa?1:!1===n.coppa?0:void 0},slots:t.map((e=>{o=e.params.networkId||o,a=e.schain||a;const t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){const n={playersizes:parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},i=e.params.video;void 0!==i&&(n.skip=n.skip||i.skip||0,n.placement=n.placement||i.placement,n.minduration=n.minduration||i.minduration,n.playbackmethod=n.playbackmethod||i.playbackmethod,n.startdelay=n.startdelay||i.startdelay||0),t.video=n}return enrichSlotWithFloors(t,e),t}))};return o&&(s.publisher.networkid=o),a&&(s.source={ext:{schain:a}}),s.user=(null===(i=n.ortb2)||void 0===i?void 0:i.user)||{},s.site=(null===(r=n.ortb2)||void 0===r?void 0:r.site)||{},n&&n.ceh&&(s.user.ceh=n.ceh),n&&n.gdprConsent&&(s.gdprConsent={},void 0!==n.gdprConsent.gdprApplies&&(s.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),s.gdprConsent.version=n.gdprConsent.apiVersion,void 0!==n.gdprConsent.consentString&&(s.gdprConsent.consentData=n.gdprConsent.consentString)),n&&n.uspConsent&&(s.user.uspIab=n.uspConsent),s}function parseSizes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return null==e?[]:Array.isArray(e[0])?e.map((e=>t(e))):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){let t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(n){void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video."+n)&&void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"params.video."+n)&&(t=!1,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.H)("Criteo Bid Adapter: mediaTypes.video."+n+" is required"))})),t){const t=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===t)return!0;if("outstream"==e.mediaTypes.video.context&&1!==t)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((e=>e.url))}}function createNativeAd(e,t,n){var i="criteo_prebid_native_slots";return window[i]=window[i]||{},window[i][e]={callback:n,payload:t},`\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.${i};\n  if(!slots){continue;}\n  var responseSlot = slots["${e}"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>`}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{const t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch{}}function enrichSlotWithFloors(e,t){try{const o={},a=pickAvailableGetFloorFunc(t);if(a){var n,i,r;if(null!==(n=t.mediaTypes)&&void 0!==n&&n.banner){o.banner={};parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.banner.sizes")).forEach((e=>o.banner[parseSize(e).toString()]=a.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk})))}if(null!==(i=t.mediaTypes)&&void 0!==i&&i.video){o.video={};parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.video.playerSize")).forEach((e=>o.video[parseSize(e).toString()]=a.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX})))}null!==(r=t.mediaTypes)&&void 0!==r&&r.native&&(o.native={},o.native["*"]=a.call(t,{size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5})),Object.keys(o).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:o}))}}catch(e){(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.H)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){let t;if(e===FAST_BID_VERSION_LATEST)t="";else if(e){String(e).split(".")[0]<102&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)("Specifying a Fastbid version which is not supporting version selection."),t="."+e}else t="."+FAST_BID_VERSION_CURRENT;return PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function tryGetCriteoFastBid(){try{const fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){const firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{const publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.PN)("Using Criteo FastBid"),eval(publisherTag)):((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_11__.dX)(spec),window.pubtech_pbjs.installedModules.push("criteoBidAdapter")},232:function(){window.pubtech_pbjs.installedModules.push("enrichmentFpdModule")},517:function(e,t,n){"use strict";n.d(t,{Pd:function(){return c},Th:function(){return d},_U:function(){return u}});var i=n(821),r=n(488),o=n(265),a=n(450);const s="outstream";function d(e){const{url:t,config:n,id:d,callback:c,loaded:u,adUnitCode:l,renderNow:p}=e;this.url=t,this.config=n,this.handlers={},this.id=d,this.loaded=u,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,r.H)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,n=()=>{this._render?this._render.apply(this,e):(0,r.yN)("No render function was provided, please use .setRender on the renderer")};!function(e){const t=pubtech_pbjs.adUnits,n=(0,a.sE)(t,(t=>t.code===e));if(!n)return!1;const i=(0,o.Z)(n,"renderer"),r=!!(i&&i.url&&i.render),s=(0,o.Z)(n,"mediaTypes.video.renderer"),d=!!(s&&s.url&&s.render);return!!(r&&!0!==i.backupOnly||d&&!0!==s.backupOnly)}(l)?p?n():(this.cmd.unshift(n),(0,i.B)(t,s,this.callback,this.documentContext)):((0,r.yN)(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${l}`),n())}.bind(this)}function c(e){return!(!e||!e.url)}function u(e,t,n){let i=null;e.config&&e.config.documentResolver&&(i=e.config.documentResolver(t,document,n)),i||(i=document),e.documentContext=i,e.render(t,e.documentContext)}d.install=function(e){let{url:t,config:n,id:i,callback:r,loaded:o,adUnitCode:a,renderNow:s}=e;return new d({url:t,config:n,id:i,callback:r,loaded:o,adUnitCode:a,renderNow:s})},d.prototype.getConfig=function(){return this.config},d.prototype.setRender=function(e){this._render=e},d.prototype.setEventHandlers=function(e){this.handlers=e},d.prototype.handleVideoEvent=function(e){let{id:t,eventName:n}=e;"function"==typeof this.handlers[n]&&this.handlers[n](),(0,r.ji)(`Prebid Renderer event for id ${t} type ${n}`)},d.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,r.H)("Error processing Renderer command: ",e)}}},570:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var i=n(265);let r={};function o(e,t,n){let i=function(e,t){let n=r[e]=r[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return i[t]=(i[t]||0)+1,i[t]}let a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,i.Z)(r,`${e}.requestsCounter`)||0},getBidderRequestsCounter:function(e,t){return(0,i.Z)(r,`${e}.bidders.${t}.requestsCounter`)||0},getBidderWinsCounter:function(e,t){return(0,i.Z)(r,`${e}.bidders.${t}.winsCounter`)||0}}},873:function(e,t,n){"use strict";n.d(t,{VP:function(){return B},ZP:function(){return z},rp:function(){return D},uV:function(){return U},TJ:function(){return N},nX:function(){return R}});var i=n(488),r=n(265),o=n(395),a=n(450),s=n(777);let d=[];function c(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function u(){let{labels:e=[],labelAll:t=!1,activeLabels:n=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,u=l(arguments.length>3&&void 0!==arguments[3]?arguments[3]:d);(0,i.PO)(o)||(o=c?{banner:{sizes:c}}:{});let p=(0,r.Z)(o,"banner.sizes");u.shouldFilter&&p&&(o=(0,i.I8)(o),o.banner.sizes=p.filter((e=>u.sizesSupported[e])));let f={active:!o.hasOwnProperty(s.Mk)||(0,r.Z)(o,"banner.sizes.length")>0&&(0===e.length||!t&&(e.some((e=>u.labels[e]))||e.some((e=>(0,a.q9)(n,e))))||t&&e.reduce(((e,t)=>e?u.labels[t]||(0,a.q9)(n,t):e),!0)),mediaTypes:o};return p&&p.length!==o.banner.sizes.length&&(f.filterResults={before:p,after:o.banner.sizes}),f}function l(e){return e.reduce(((e,t)=>{if("object"==typeof t&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){let n=!1;try{n=(0,i.Zy)().matchMedia(t.mediaQuery).matches}catch(e){(0,i.yN)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((n=>(t[n]||[]).forEach((t=>e[n][t]=!0)))))}else(0,i.yN)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}o.vc.getConfig("sizeConfig",(e=>function(e){d=e}(e.sizeConfig)));var p=n(487),f=n(229),m=n(502),g=n(421),h=n(570),b=n(386),y=n(380),v=n(786),_=n(999),I=n(113),T=n(489);const E={CLIENT:"client",SERVER:"server"};let w={},S=w.bidderRegistry={},C=w.aliasRegistry={},A=[];o.vc.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(A=(0,i.kJ)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var x={};const O=(0,g.z3)("sync",(function(e){let{bidderCode:t,auctionId:n,bidderRequestId:o,adUnits:a,src:s,metrics:d}=e;return a.reduce(((e,a)=>{const c=a.bids.filter((e=>e.bidder===t));return null==t&&0===c.length&&null!=a.s2sBid&&c.push({bidder:null}),e.push(c.reduce(((e,t)=>{const c=null==(t=Object.assign({},t,{ortb2Imp:(0,i.Ee)({},a.ortb2Imp,t.ortb2Imp)},(0,i.iG)(a,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?a.mediaTypes:t.mediaTypes;return(0,i.FS)(c)?t=Object.assign({},t,{mediaTypes:c}):(0,i.H)(`mediaTypes is not correctly configured for adunit ${a.code}`),e.push(Object.assign({},t,{adUnitCode:a.code,transactionId:a.transactionId,sizes:(0,r.Z)(c,"banner.sizes")||(0,r.Z)(c,"video.playerSize")||[],bidId:t.bid_id||(0,i._d)(),bidderRequestId:o,auctionId:n,src:s,metrics:d,bidRequestsCount:h.f.getRequestsCounter(a.code),bidderRequestsCount:h.f.getBidderRequestsCounter(a.code,t.bidder),bidderWinsCount:h.f.getBidderWinsCounter(a.code,t.bidder)})),e}),[])),e}),[]).reduce(i.xH,[]).filter((e=>""!==e))}),"getBids");const k=(0,g.z3)("sync",(function(e,t){let{getS2SBidders:n=U}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return e;{const i=n(t);return e.filter((e=>i.has(e.bidder)))}}),"filterBidsForAdUnit");let D=new y.iK,R=new y.LO,N=new y.$e,B={getCoppa:function(){return!!o.vc.getConfig("coppa")}};const P=(0,g.z3)("sync",((e,t)=>function(e,t){return e.reduce(((e,n)=>{let{active:r,mediaTypes:o,filterResults:a}=u(c(n,t),n.mediaTypes,n.sizes);return r?(a&&(0,i.PN)(`Size mapping filtered adUnit "${n.code}" banner sizes from `,a.before,"to ",a.after),n.mediaTypes=o,n.bids=n.bids.reduce(((e,r)=>{let{active:o,mediaTypes:a,filterResults:s}=u(c(r,t),n.mediaTypes);return o?(s&&((0,i.PN)(`Size mapping filtered adUnit "${n.code}" bidder "${r.bidder}" banner sizes from `,s.before,"to ",s.after),r.mediaTypes=a),e.push(r)):(0,i.PN)(`Size mapping deactivated adUnit "${n.code}" bidder "${r.bidder}"`),e}),[]),e.push(n)):(0,i.PN)(`Size mapping disabled adUnit "${n.code}"`),e}),[])}(e,t)),"setupAdUnitMediaTypes");function U(e){(0,i.kJ)(e)||(e=[e]);const t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}const j=(0,g.z3)("sync",(function(e,t){let{getS2SBidders:n=U}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=n(t);return(0,i.pP)(e).reduce(((e,t)=>(e[r.has(t)?E.SERVER:E.CLIENT].push(t),e)),{[E.CLIENT]:[],[E.SERVER]:[]})}),"partitionBidders");function M(e,t){const n=S[e],i=(null==n?void 0:n.getSpec)&&n.getSpec();if(i&&i[t]&&"function"==typeof i[t])return[i,i[t]]}function q(e,t,n,r){try{(0,i.PN)(`Invoking ${e}.${t}`);for(var a=arguments.length,s=new Array(a>4?a-4:0),d=4;d<a;d++)s[d-4]=arguments[d];o.vc.runWithBidder(e,r.bind(n,...s))}catch(n){(0,i.yN)(`Error calling ${t} of ${e}`)}}function L(e,t,n){const i=M(e,t);null!=i&&q(e,t,...i,n)}w.makeBidRequests=(0,g.z3)("sync",(function(e,t,n,r,s){let d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;c=(0,I.Bf)(c),v.j8(_.EVENTS.BEFORE_REQUEST_BIDS,e),(0,p.Fb)(e),e=P(e,s);let{[E.CLIENT]:u,[E.SERVER]:l}=j(e,A);o.vc.getConfig("bidderSequence")===o.FD&&(u=(0,i.TV)(u));const f=(0,b.nH)();let m=[];const g=d.global||{},h=d.bidder||{};function y(e){const t=Object.freeze((0,i.Ee)({},g,h[e.bidderCode]));return e.ortb2=t,e.bids.forEach((e=>e.ortb2=t)),e}A.forEach((r=>{if(r&&r.enabled){let{adUnits:o,hasModuleBids:s}=function(e,t){let n=(0,i.I8)(e),r=!1;return n.forEach((e=>{const n=e.bids.filter((e=>{var n;return"pbsBidAdapter"===e.module&&(null===(n=e.params)||void 0===n?void 0:n.configName)===t.configName}));1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=(0,i.Ee)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&(0,i.yN)('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=k(e.bids,t).map((e=>(e.bid_id=(0,i._d)(),e)))})),n=n.filter((e=>0!==e.bids.length||null!=e.s2sBid)),{adUnits:n,hasModuleBids:r}}(e,r),d=(0,i.DO)();(0===l.length&&s?[null]:l).forEach((e=>{const a=(0,i._d)(),s=c.fork(),u=y({bidderCode:e,auctionId:n,bidderRequestId:a,uniquePbsTid:d,bids:O({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:(0,i.I8)(o),src:_.S2S.SRC,metrics:s}),auctionStart:t,timeout:r.timeout,src:_.S2S.SRC,refererInfo:f,metrics:s});0!==u.bids.length&&m.push(u)})),o.forEach((e=>{let t=e.bids.filter((e=>(0,a.sE)(m,(t=>(0,a.sE)(t.bids,(t=>t.bidId===e.bid_id))))));e.bids=t})),m.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));let T=function(e){let t=(0,i.I8)(e);return t.forEach((e=>{e.bids=k(e.bids,null)})),t=t.filter((e=>0!==e.bids.length)),t}(e);return u.forEach((e=>{const o=(0,i._d)(),a=c.fork(),d=y({bidderCode:e,auctionId:n,bidderRequestId:o,bids:O({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:(0,i.I8)(T),labels:s,src:"client",metrics:a}),auctionStart:t,timeout:r,refererInfo:f,metrics:a}),u=S[e];u||(0,i.H)(`Trying to make a request for bidder that does not exist: ${e}`),u&&d.bids&&0!==d.bids.length&&m.push(d)})),m.forEach((e=>{D.getConsentData()&&(e.gdprConsent=D.getConsentData()),R.getConsentData()&&(e.uspConsent=R.getConsentData()),N.getConsentData()&&(e.gppConsent=N.getConsentData())})),m.forEach((e=>{o.vc.runWithBidder(e.bidderCode,(()=>{const t=o.vc.getConfig("fledgeEnabled");e.fledgeEnabled=navigator.runAdAuction&&t}))})),m}),"makeBidRequests"),w.callBids=function(e,t,n,r,a,s,d){let c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!t.length)return void(0,i.yN)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[u,l]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===_.S2S.SRC)].push(t),e)),[[],[]]);var p=[];l.forEach((e=>{for(var t=-1,n=0;n<p.length;++n)if(e.uniquePbsTid===p[n].uniquePbsTid){t=n;break}t<=-1&&p.push(e)}));let f=0;A.forEach((e=>{if(e&&p[f]&&U(e).has(p[f].bidderCode)){const t=(0,m.O)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0);let o=e.bidders;const d=S[e.adapter];let u=p[f].uniquePbsTid,g=p[f].adUnitsS2SCopy,h=l.filter((e=>e.uniquePbsTid===u));if(d){let a={ad_units:g,s2sConfig:e,ortb2Fragments:c};if(a.ad_units.length){let e=h.map((e=>(e.start=(0,i.AB)(),r.bind(e))));const s=(0,i.pP)(a.ad_units).filter((e=>o.includes(e)));(0,i.ji)(`CALLING S2S HEADER BIDDERS ==== ${s.length>0?s.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),h.forEach((e=>{v.j8(_.EVENTS.BID_REQUESTED,{...e,tid:e.auctionId})})),d.callBids(a,l,n,(()=>e.forEach((e=>e()))),t)}}else(0,i.H)("missing "+e.adapter);f++}})),u.forEach((e=>{e.start=(0,i.AB)();const t=S[e.bidderCode];o.vc.runWithBidder(e.bidderCode,(()=>{(0,i.ji)("CALLING BIDDER"),v.j8(_.EVENTS.BID_REQUESTED,e)}));let c=(0,m.O)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0);const u=r.bind(e);try{o.vc.runWithBidder(e.bidderCode,i.ak.call(t.callBids,t,e,n,u,c,d,o.vc.callbackWithBidder(e.bidderCode)))}catch(t){(0,i.H)(`${e.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:t,bidRequest:e}),u()}}))},w.videoAdapters=[],w.registerBidAdapter=function(e,t){let{supportedMediaTypes:n=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&t?"function"==typeof e.callBids?(S[t]=e,(0,a.q9)(n,"video")&&w.videoAdapters.push(t),(0,a.q9)(n,"native")&&p.Sg.push(t)):(0,i.H)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,i.H)("bidAdapter or bidderCode not specified")},w.aliasBidAdapter=function(e,t,n){if(void 0===S[t]){let r=S[e];if(void 0===r){const n=[];A.forEach((i=>{if(i.bidders&&i.bidders.length){const r=i&&i.bidders;i&&(0,a.q9)(r,t)?C[t]=e:n.push(e)}})),n.forEach((e=>{(0,i.H)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{let i,o=function(e){let t=[];return(0,a.q9)(w.videoAdapters,e)&&t.push("video"),(0,a.q9)(p.Sg,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)i=new r.constructor,i.setBidderCode(t);else{let o=r.getSpec(),a=n&&n.gvlid,s=n&&n.skipPbsAliasing;i=(0,f.PZ)(Object.assign({},o,{code:t,gvlid:a,skipPbsAliasing:s})),C[t]=e}w.registerBidAdapter(i,t,{supportedMediaTypes:o})}catch(t){(0,i.H)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,i.ji)('alias name "'+t+'" has been already specified.')},w.registerAnalyticsAdapter=function(e){let{adapter:t,code:n,gvlid:r}=e;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,x[n]={adapter:t,gvlid:r}):(0,i.H)(`Prebid Error: Analytics adaptor error for analytics "${n}"\n        analytics adapter must implement an enableAnalytics() function`):(0,i.H)("Prebid Error: analyticsAdapter or analyticsCode not specified")},w.enableAnalytics=function(e){(0,i.kJ)(e)||(e=[e]),(0,i.yi)(e,(e=>{const t=x[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):(0,i.H)(`Prebid Error: no analytics adapter found in registry for '${e.provider}'.`)}))},w.getBidAdapter=function(e){return S[e]},w.getAnalyticsAdapter=function(e){return x[e]},w.callTimedOutBidders=function(e,t,n){t=t.map((t=>(t.params=(0,i.S0)(e,t.adUnitCode,t.bidder),t.timeout=n,t))),t=(0,i.vM)(t,"bidder"),Object.keys(t).forEach((e=>{L(e,"onTimeout",t[e])}))},w.callBidWonBidder=function(e,t,n){t.params=(0,i.S0)(n,t.adUnitCode,t.bidder),h.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),L(e,"onBidWon",t)},w.callSetTargetingBidder=function(e,t){L(e,"onSetTargeting",t)},w.callBidViewableBidder=function(e,t){L(e,"onBidViewable",t)},w.callBidderError=function(e,t,n){L(e,"onBidderError",{error:t,bidderRequest:n})},w.callDataDeletionRequest=(0,g.z3)("sync",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r="onDataDeletionRequest";Object.keys(S).filter((e=>!C.hasOwnProperty(e))).forEach((e=>{const n=M(e,r);if(null!=n){const i=T.K.getBidsRequested().filter((t=>function(e){const t=new Set;for(;C.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=C[e];return e}(t.bidderCode)===e));q(e,r,...n,i,...t)}})),Object.entries(x).forEach((e=>{var n;let[o,a]=e;const s=null==a||null===(n=a.adapter)||void 0===n?void 0:n[r];if("function"==typeof s)try{s.apply(a.adapter,t)}catch(e){(0,i.H)(`error calling ${r} of ${o}`,e)}}))}));var z=w},229:function(e,t,n){"use strict";function i(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}n.d(t,{Q1:function(){return k},PZ:function(){return C},dX:function(){return S}});var r=n(873),o=n(395),a=n(239),s=n(824),d=n(487),c=n(756),u=n(999),l=n(786),p=n(450),f=n(502),m=n(488),g=n(265),h=n(777),b=n(421),y=n(125),v=n(489),_=n(190),I=n(113);const T=(0,y.eA)("bidderFactory"),E=["cpm","ttl","creativeId","netRevenue","currency"],w=1;function S(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){const n=C(e);r.ZP.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((t=>{let i,o,a=t;(0,m.PO)(t)&&(a=t.code,i=t.gvlid,o=t.skipPbsAliasing),r.ZP.aliasRegistry[a]=e.code,n(Object.assign({},e,{code:a,gvlid:i,skipPbsAliasing:o}))}))}function C(e){return Object.assign(new i(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(i,s,f,g,h,b){if(!Array.isArray(i.bids))return;const y={};function T(e,t){const n=(0,I.Bf)(t.metrics);n.checkpoint("addBidResponse"),y[e]=!0,n.measureTime("addBidResponse.validate",(()=>function(e,t){let{index:n=v.K.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function i(){let e=Object.keys(t);return E.every((n=>(0,p.q9)(e,n)&&!(0,p.q9)([void 0,null],t[n])))}function r(e){return`Invalid bid from ${t.bidderCode}. Ignoring bid: ${e}`}if(!e)return(0,m.yN)("No adUnitCode was supplied to addBidResponse."),!1;if(!t)return(0,m.yN)(`Some adapter tried to add an undefined bid for ${e}.`),!1;if(!i())return(0,m.H)(r(`Bidder ${t.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1;if("native"===t.mediaType&&!(0,d.r4)(t,{index:n}))return(0,m.H)(r("Native bid missing some required properties.")),!1;if("video"===t.mediaType&&!(0,c.Dn)(t,{index:n}))return(0,m.H)(r("Video bid does not have required vastUrl or renderer property")),!1;if("banner"===t.mediaType&&!function(e,t){let{index:n=v.K.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const i=n.getBidRequest(t),r=n.getMediaTypes(t),o=i&&i.sizes||r&&r.banner&&r.banner.sizes,a=(0,m.sF)(o);if(1===a.length){const[e,n]=a[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(n,10),!0}return!1}(e,t,{index:n}))return(0,m.H)(r("Banner bids require a width and height")),!1;return!0}(e,t)))?s(e,t):s.reject(e,t,u.REJECTION_REASON.INVALID)}const w=[];function S(){f(),o.vc.runWithBidder(e.code,(()=>{l.j8(u.EVENTS.BIDDER_DONE,i),t(w,i.gdprConsent,i.uspConsent,i.gppConsent)}))}const C=D(i).measureTime("validate",(()=>i.bids.filter(n)));if(0===C.length)return void S();const x={};C.forEach((e=>{x[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),A(e,C,i,g,b,{onRequest:e=>l.j8(u.EVENTS.BEFORE_BIDDER_HTTP,i,e),onResponse:t=>{h(e.code),w.push(t)},onFledgeAuctionConfigs:e=>{e.forEach((e=>{const t=x[e.bidId];t&&O(t,e)}))},onError:(t,n)=>{h(e.code),r.ZP.callBidderError(e.code,n,i),l.j8(u.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:i}),(0,m.H)(`Server call for ${e.code} failed: ${t} ${n.status}. Continuing without bids.`)},onBid:t=>{const n=x[t.requestId];if(n){if(t.adapterCode=n.bidder,function(e,t){let n=_.S.get(t,"allowAlternateBidderCodes")||!1,i=_.S.get(t,"allowedAlternateBidderCodes");if(e&&t&&t!==e&&(i=(0,m.kJ)(i)?i.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(m.tT):i,!n||(0,m.kJ)(i)&&"*"!==i[0]&&!i.includes(e)))return!0;return!1}(t.bidderCode,n.bidder))return(0,m.yN)(`${t.bidderCode} is not a registered partner or known bidder of ${n.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void s.reject(n.adUnitCode,t,u.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[n.bidder]);const e=Object.assign((0,a.m)(u.STATUS.GOOD,n),t);T(n.adUnitCode,e)}else(0,m.yN)(`Bidder ${e.code} made bid for unknown request ID: ${t.requestId}. Ignoring.`),s.reject(null,t,u.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:S})}});function t(t,n,i,r){x(e,t,n,i,r)}function n(t){return!!e.isBidRequestValid(t)||((0,m.yN)(`Invalid bid sent to bidder ${e.code}: ${JSON.stringify(t)}`),!1)}}const A=(0,b.z3)("sync",(function(e,t,n,i,r,o){let{onRequest:a,onResponse:s,onFledgeAuctionConfigs:d,onError:c,onBid:u,onCompletion:l}=o;const p=D(n);l=p.startTiming("total").stopBefore(l);let f=p.measureTime("buildRequests",(()=>e.buildRequests(t,n)));if(!f||0===f.length)return void l();Array.isArray(f)||(f=[f]);const g=(0,m.yx)(l,f.length);f.forEach((t=>{const n=p.fork();function o(e){null!=e&&(e.metrics=n.fork().renameWith()),u(e)}const l=r((function(i,r){h();try{i=JSON.parse(i)}catch(e){}i={body:i,headers:{get:r.getResponseHeader.bind(r)}},s(i);try{i=n.measureTime("interpretResponse",(()=>e.interpretResponse(i,t)))}catch(t){return(0,m.H)(`Bidder ${e.code} failed to interpret the server's response. Continuing without bids`,null,t),void g()}let a;i&&(0,m.kJ)(i.fledgeAuctionConfigs)?(d(i.fledgeAuctionConfigs),a=i.bids):a=i,a&&((0,m.kJ)(a)?a.forEach(o):o(a)),g()})),f=r((function(e,t){h(),c(e,t),g()}));a(t);const h=n.startTiming("net");switch(t.method){case"GET":i(`${t.url}${function(e){if(e)return`?${"object"==typeof e?(0,m.Re)(e):e}`;return""}(t.data)}`,{success:l,error:f},void 0,Object.assign({method:"GET",withCredentials:!0},t.options));break;case"POST":i(t.url,{success:l,error:f},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,m.yN)(`Skipping invalid request from ${e.code}. Request type ${t.type} must be GET or POST`),g()}}))}),"processBidderRequests"),x=(0,b.z3)("async",(function(e,t,n,i,a){const d=o.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!r.ZP.aliasRegistry[e.code])){let r=o.vc.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!r||!r.iframe&&!r.all),pixelEnabled:!(!r||!r.image&&!r.all)},t,n,i,a);d&&(Array.isArray(d)||(d=[d]),d.forEach((t=>{s.k_.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs"),O=(0,b.z3)("sync",((e,t)=>{(0,m.PN)("bidderFactory.addComponentAuction",t)}),"addComponentAuction");function k(e,t){let n=r.ZP.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){let i=n.getSpec().getMappingFileInfo(),r=i.localStorageKey?i.localStorageKey:n.getBidderCode(),o=T.getDataFromLocalStorage(r);if(o){try{o=JSON.parse(o)}catch(t){(0,m.H)(`Failed to parse ${e} mapping data stored in local storage`)}return o.mapping[t]?o.mapping[t]:null}}}function D(e){return(0,I.Bf)(e.metrics).renameWith((t=>[`adapter.client.${t}`,`adapters.client.${e.bidderCode}.${t}`]))}(0,b.v5)("checkAdUnitSetup").before((function(e,t){if(!o.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((e=>(0,g.Z)(e,"mediaTypes.video.context")===h.Oh)).map((e=>e.bids.map((e=>e.bidder)))).reduce(m.xH,[]).filter(m.tT).forEach((e=>{let t=r.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){let n=t.getSpec().getMappingFileInfo(),i=n.refreshInDays?n.refreshInDays:w,r=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=T.getDataFromLocalStorage(r);try{o=o?JSON.parse(o):void 0,(!o||(0,m.AB)()>o.lastUpdated+24*i*60*60*1e3)&&(0,f.h)(n.url,{success:t=>{try{t=JSON.parse(t);let e={lastUpdated:(0,m.AB)(),mapping:t.mapping};T.setDataInLocalStorage(r,JSON.stringify(e))}catch(t){(0,m.H)(`Failed to parse ${e} bidder translation mapping file`)}},error:()=>{(0,m.H)(`Failed to load ${e} bidder translation file`)}})}catch(t){(0,m.H)(`Failed to parse ${e} bidder translation mapping file`)}}})),e.call(this,t)}))},821:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var i=n(450),r=n(488);const o=new WeakMap,a=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan"];function s(e,t,n,s,d){if(!t||!e)return void(0,r.H)("cannot load external script without url and moduleCode");if(!(0,i.q9)(a,t))return void(0,r.H)(`${t} not whitelisted for loading external JavaScript`);s||(s=document);const c=p(s,e);if(c)return n&&"function"==typeof n&&(c.loaded?n():c.callbacks.push(n)),c.tag;const u=o.get(s)||{},l={loaded:!1,tag:null,callbacks:[]};return u[e]=l,o.set(s,u),n&&"function"==typeof n&&l.callbacks.push(n),(0,r.yN)(`module ${t} is loading external JavaScript`),function(t,n,i,o){i||(i=document);var a=i.createElement("script");a.type="text/javascript",a.async=!0;const s=p(i,e);s&&(s.tag=a);a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,n())}:a.onload=function(){n()};a.src=t,o&&(0,r.D9)(a,o);return(0,r.jC)(a,i),a}(e,(function(){l.loaded=!0;try{for(let e=0;e<l.callbacks.length;e++)l.callbacks[e]()}catch(e){(0,r.H)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,d);function p(e,t){const n=o.get(e);return n&&n[t]?n[t]:null}}},502:function(e,t,n){"use strict";n.d(t,{O:function(){return s},h:function(){return a}});var i=n(395),r=n(488);const o=4,a=s();function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,s,d){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{let u,l=c.method||(d?"POST":"GET"),p=document.createElement("a");p.href=a;let f="object"==typeof s&&null!==s?s:{success:function(){(0,r.ji)("xhr success")},error:function(e){(0,r.H)("xhr error",null,e)}};if("function"==typeof s&&(f.success=s),u=new window.XMLHttpRequest,u.onreadystatechange=function(){if(u.readyState===o){"function"==typeof n&&n(p.origin);let e=u.status;e>=200&&e<300||304===e?f.success(u.responseText,u):f.error(u.statusText,u)}},i.vc.getConfig("disableAjaxTimeout")||(u.ontimeout=function(){(0,r.H)("  xhr timeout after ",u.timeout,"ms")}),"GET"===l&&d){let e=(0,r.en)(a,c);Object.assign(e.search,d),a=(0,r.Q2)(e)}u.open(l,a,!0),i.vc.getConfig("disableAjaxTimeout")||(u.timeout=e),c.withCredentials&&(u.withCredentials=!0),(0,r.yi)(c.customHeaders,((e,t)=>{u.setRequestHeader(t,e)})),c.preflight&&u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Content-Type",c.contentType||"text/plain"),"function"==typeof t&&t(p.origin),"POST"===l&&d?u.send(d):u.send()}catch(e){(0,r.H)("xhr construction",e),"object"==typeof s&&null!==s&&s.error(e)}}}},489:function(e,t,n){"use strict";n.d(t,{K:function(){return te}});var i=n(488),r=n(265),o=n(914),a=n(487),s=n(502),d=n(395);const c=15;function u(e){let{index:t=te.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.vastXml?e.vastXml:(i=e.vastUrl,r=e.vastImpUrl,`<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${i}]]></VASTAdTagURI>\n        <Impression>${r?`<![CDATA[${r}]]>`:""}</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>`);var i,r;const o=t.getAuction(e);let a={type:"xml",value:n,ttlseconds:Number(e.ttl)+c};return d.vc.getConfig("cache.vasttrack")&&(a.bidder=e.bidder,a.bidid=e.requestId,a.aid=e.auctionId),null!=o&&(a.timestamp=o.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(a.key=e.customCacheKey),a}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.O;const i={puts:e.map(u)};n(d.vc.getConfig("cache.timeout"))(d.vc.getConfig("cache.url"),function(e){return{success:function(t){let n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(n)}`),[])}}}(t),JSON.stringify(i),{contentType:"text/plain",withCredentials:!0})}var p=n(517),f=n(824),m=n(421),g=n(450),h=n(756),b=n(777),y=n(190),v=n(786),_=n(873),I=n(999),T=n(409),E=n(113),w=n(239),S=n(182);const{syncUsers:C}=f.k_,A="started",x="inProgress",O="completed";v.on(I.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){let t=(0,S.O)(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));const k=4,D={},R={},N=[];function B(e){let{adUnits:t,adUnitCodes:n,callback:a,cbTimeout:s,labels:c,auctionId:u,ortb2Fragments:l,metrics:f}=e;f=(0,E.Bf)(f);const m=t,y=c,S=n,B=u||(0,i.DO)(),M=s,z=new Set;let F,$,H,W,V=[],K=a,X=[],J=[],Y=[],ee=[],ne=[];function ie(){return{auctionId:B,timestamp:F,auctionEnd:$,auctionStatus:W,adUnits:m,adUnitCodes:S,labels:y,bidderRequests:X,noBids:Y,bidsReceived:J,bidsRejected:V,winningBids:ee,timeout:M,metrics:f,seatNonBids:ne}}function re(e,n){if(n&&clearTimeout(H),void 0===$){let n=[];e&&((0,i.ji)(`Auction ${B} timedOut`),r=z,n=X.map((e=>(e.bids||[]).filter((e=>!r.has(e.bidder))))).reduce(i.xH,[]),n.length&&v.j8(I.EVENTS.BID_TIMEOUT,n)),W=O,$=Date.now(),f.checkpoint("auctionEnd"),f.timeBetween("requestBids","auctionEnd","requestBids.total"),f.timeBetween("callBids","auctionEnd","requestBids.callBids"),v.j8(I.EVENTS.AUCTION_END,ie()),j(m,(function(){try{if(null!=K){const t=S,n=J.filter(i.ak.call(i.IK,this,t)).reduce(Q,{});K.apply(pubtech_pbjs,[n,e,B]),K=null}}catch(e){(0,i.H)("Error executing bidsBackHandler",null,e)}finally{n.length&&_.ZP.callTimedOutBidders(t,n,M);let e=d.vc.getConfig("userSync")||{};e.enableOverride||C(e.syncDelay)}}))}var r}function oe(){d.vc.resetBidder(),(0,i.PN)(`Bids Received for Auction with id: ${B}`,J),W=O,re(!1,!0)}function ae(e){z.add(e)}function se(e){e.forEach((e=>{var t;t=e,X=X.concat(t)}));let t={},n={bidRequests:e,run:()=>{!function(){const e=re.bind(null,!0);let t=setTimeout(e,M);H=t}(),W=x,v.j8(I.EVENTS.AUCTION_INIT,ie());let n=function(e,t){let{index:n=te.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=0,s=!1,c=new Set,u={};const l={};function f(e,t){null==l[e]&&(l[e]=T.Z.resolve()),l[e]=l[e].then((()=>T.Z.resolve(t).catch((()=>{}))))}function m(e,n){let i=e.timeout;(null==i||i>t.getTimeout())&&(i=t.getTimeout());const r=t.getAuctionStart()+i-Date.now(),o=l[e.bidderRequestId],a=l[""];(null!=o||null!=a)&&r>0?T.Z.race([T.Z.timeout(r),T.Z.resolve(a).then((()=>o))]).then(n):n()}function y(){a--,s&&0===a&&e()}function _(e,t,n){return u[t.requestId]=!0,function(e,t){let{index:n=te.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=n.getBidderRequest(e),o=n.getAdUnit(e),a=r&&r.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,i.AB)(),requestTimestamp:e.requestTimestamp||a,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==o?void 0:o.ttlBuffer)&&(e.ttlBuffer=o.ttlBuffer);e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),a++,n(y)}function E(e,n){_(e,n,(e=>{let a=function(e){var t;let{index:n=te.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.j8(I.EVENTS.BID_ADJUSTMENT,e);const i=(null===(t=n.getBidRequest(e))||void 0===t?void 0:t.renderer)||n.getAdUnit(e).renderer,r=e.mediaType,a=n.getMediaTypes(e),s=a&&a[r];var c=s&&s.renderer,u=null;c&&c.url&&c.render&&(!0!==c.backupOnly||!e.renderer)?u=c:i&&i.url&&i.render&&(!0!==i.backupOnly||!e.renderer)&&(u=i);u&&(e.renderer=p.Th.install({url:u.url,config:u.options}),e.renderer.setRender(u.render));const l=G(e.mediaType,a,d.vc.getConfig("mediaTypePriceGranularity")),f=(0,o.D)(e.cpm,"object"==typeof l?l:d.vc.getConfig("customPriceBucket"),d.vc.getConfig("currency.granularityMultiplier"));return e.pbLg=f.low,e.pbMg=f.med,e.pbHg=f.high,e.pbAg=f.auto,e.pbDg=f.dense,e.pbCg=f.custom,e}(n);a.mediaType===b.pX?function(e,t,n){let{index:o=te.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!0;const s=(0,r.Z)(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),c=s&&(0,r.Z)(s,"context"),u=s&&(0,r.Z)(s,"useCacheKey");d.vc.getConfig("cache.url")&&(u||c!==h.gZ)&&(!t.videoCacheKey||d.vc.getConfig("cache.ignoreBidderCacheKey")?(a=!1,Z(e,t,n,s)):t.vastUrl||((0,i.H)("videoCacheKey specified but not required vastUrl for video bid"),a=!1));a&&(q(e,t),n())}(t,a,e):(null!=a.native&&"object"==typeof a.native&&L(a),q(t,a),e())}))}function S(e,n,r){return _(e,n,(e=>{var o;const a=(0,w.m)(I.STATUS.NO_BID,null===(o=n.getIdentifiers)||void 0===o?void 0:o.call(n));return Object.assign(a,Object.fromEntries(Object.entries(n).filter((e=>{let[t]=e;return!a.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)})))),a.status=I.BID_STATUS.BID_REJECTED,a.cpm=0,n.rejectionReason=r,(0,i.yN)(`Bid from ${n.bidder||"unknown bidder"} was rejected: ${r}`,n),v.j8(I.EVENTS.BID_REJECTED,n),t.addBidRejected(n),e(),a}))}function C(){let n=this,r=t.getBidRequests();const o=d.vc.getConfig("auctionOptions");if(c.add(n),o&&!(0,i.xb)(o)){const e=o.secondaryBidders;e&&!r.every((t=>(0,g.q9)(e,t.bidderCode)))&&(r=r.filter((t=>!(0,g.q9)(e,t.bidderCode))))}s=r.every((e=>c.has(e))),n.bids.forEach((e=>{u[e.bidId]||(t.addNoBid(e),v.j8(I.EVENTS.NO_BID,e))})),s&&0===a&&e()}return{addBidResponse:function(){function e(e,t){const i=n.getBidderRequest(t);f(i&&i.bidderRequestId||"",P.call({dispatch:E},e,t,(()=>{let n;return i=>(null==n&&(n=S(e,t,i)),n)})()))}return e.reject=S,e}(),adapterDone:function(){m(this,C.bind(this))}}}(oe,this);_.ZP.callBids(m,e,n.addBidResponse,n.adapterDone,{request(e,n){s(D,n),s(t,e),R[e]||(R[e]={SRA:!0,origin:n}),t[e]>1&&(R[e].SRA=!1)},done(e){D[e]--,N[0]&&a(N[0])&&N.shift()}},M,ae,l)}};function a(e){let t=!0,n=d.vc.getConfig("maxRequestsPerOrigin")||k;return e.bidRequests.some((e=>{let i=1,r=void 0!==e.src&&e.src===I.S2S.SRC?"s2s":e.bidderCode;return R[r]&&(!1===R[r].SRA&&(i=Math.min(e.bids.length,n)),D[R[r].origin]+i>n&&(t=!1)),!t})),t&&e.run(),t}function s(e,t){void 0===e[t]?e[t]=1:e[t]++}a(n)||((0,i.yN)("queueing auction due to limited endpoint capacity"),N.push(n))}return v.on(I.EVENTS.SEAT_NON_BID,(e=>{var t;e.auctionId===B&&(t=e.seatnonbid,ne=ne.concat(t))})),{addBidReceived:function(e){J=J.concat(e)},addBidRejected:function(e){V=V.concat(e)},addNoBid:function(e){Y=Y.concat(e)},executeCallback:re,callBids:function(){W=A,F=Date.now();let e=f.measureTime("requestBids.makeRequests",(()=>_.ZP.makeBidRequests(m,F,B,M,y,l,f)));(0,i.PN)(`Bids Requested for Auction with id: ${B}`,e),f.checkpoint("callBids"),e.length<1?((0,i.yN)("No valid bid requests returned for auction"),oe()):U.call({dispatch:se,context:this},e)},addWinningBid:function(e){ee=ee.concat(e),_.ZP.callBidWonBidder(e.adapterCode||e.bidder,e,t)},setBidTargeting:function(e){_.ZP.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>ee,getAuctionStart:()=>F,getTimeout:()=>M,getAuctionId:()=>B,getAuctionStatus:()=>W,getAdUnits:()=>m,getAdUnitCodes:()=>S,getBidRequests:()=>X,getBidsReceived:()=>J,getNoBids:()=>Y,getNonBids:()=>ne,getFPD:()=>l,getMetrics:()=>f}}const P=(0,m.z3)("sync",(function(e,t,n){this.dispatch.call(null,e,t)}),"addBidResponse"),U=(0,m.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),j=(0,m.z3)("async",(function(e,t){t&&t()}),"bidsBackCallback");function M(e,t){t.timeToRespond>e.getTimeout()+d.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function q(e,t){!function(e){let t;const n=!0===y.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t){let{index:n=te.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};const i=n.getBidRequest(t);var r={};const o=J(t.mediaType,e);Y(r,o,t,i),e&&y.S.getOwn(e,I.JSON_MAPPING.ADSERVER_TARGETING)&&(Y(r,y.S.ownSettingsFor(e),t,i),t.sendStandardTargeting=y.S.get(e,"sendStandardTargeting"));t.native&&(r=Object.assign({},r,(0,a.Ur)(t)));return r}(e.bidderCode,e));e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,E.Bf)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),v.j8(I.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),M(e,t)}const L=e=>{var t,n;const i=null===(t=te.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,r=null===(n=e.native)||void 0===n?void 0:n.ortb;if(i&&r){const t=(0,a.zq)(r,i);Object.assign(e.native,t)}},z=e=>{l(e.map((e=>e.bidResponse)),(function(t,n){n.forEach(((n,r)=>{const{auctionInstance:o,bidResponse:a,afterBidAdded:s}=e[r];var c;t?((0,i.yN)(`Failed to save to the video cache: ${t}. Video bid must be discarded.`),M(o,a)):""===n.uuid?((0,i.yN)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),M(o,a)):(a.videoCacheKey=n.uuid,a.vastUrl||(a.vastUrl=(c=a.videoCacheKey,`${d.vc.getConfig("cache.url")}?uuid=${c}`)),q(o,a),s())}))}))};let F,$;d.vc.getConfig("cache",(e=>{F="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,$="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));const H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=[[]],i=!1;const r=e=>e();return function(o,a,s){const d=$>0?e:r;n[n.length-1].length>=F&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),i||(i=!0,d((()=>{n.forEach(t),n=[[]],i=!1}),$))}}(),Z=(0,m.z3)("async",(function(e,t,n,i){H(e,t,n)}),"callPrebidCache");function G(e,t,n){if(e&&n){if(e===b.pX){const e=(0,r.Z)(t,`${b.pX}.context`,"instream");if(n[`${b.pX}-${e}`])return n[`${b.pX}-${e}`]}return n[e]}}const W=e=>t=>{const n=e||function(e){let{index:t=te.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=G(e.mediaType,t.getMediaTypes(e),d.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&n?"string"==typeof n?n:"custom":d.vc.getConfig("priceGranularity")}(t);return n===I.GRANULARITY_OPTIONS.AUTO?t.pbAg:n===I.GRANULARITY_OPTIONS.DENSE?t.pbDg:n===I.GRANULARITY_OPTIONS.LOW?t.pbLg:n===I.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:n===I.GRANULARITY_OPTIONS.HIGH?t.pbHg:n===I.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0},V=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:"",K=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function X(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return(0,i.NA)(e,t)}}}function J(e,t){const n=I.TARGETING_KEYS,o=Object.assign({},y.S.settingsFor(null));if(o[I.JSON_MAPPING.ADSERVER_TARGETING]||(o[I.JSON_MAPPING.ADSERVER_TARGETING]=function(){const e=I.TARGETING_KEYS;return[X(e.BIDDER,"bidderCode"),X(e.AD_ID,"adId"),X(e.PRICE_BUCKET,W()),X(e.SIZE,"size"),X(e.DEAL,"dealId"),X(e.SOURCE,"source"),X(e.FORMAT,"mediaType"),X(e.ADOMAIN,V()),X(e.ACAT,K())]}()),"video"===e){const e=o[I.JSON_MAPPING.ADSERVER_TARGETING].slice();if(o[I.JSON_MAPPING.ADSERVER_TARGETING]=e,[n.UUID,n.CACHE_ID].forEach((t=>{void 0===(0,g.sE)(e,(e=>e.key===t))&&e.push(X(t,"videoCacheKey"))})),d.vc.getConfig("cache.url")&&(!t||!1!==y.S.get(t,"sendStandardTargeting"))){const t=(0,i.en)(d.vc.getConfig("cache.url"));void 0===(0,g.sE)(e,(e=>e.key===n.CACHE_HOST))&&e.push(X(n.CACHE_HOST,(function(e){return(0,r.Z)(e,`adserverTargeting.${n.CACHE_HOST}`)?e.adserverTargeting[n.CACHE_HOST]:t.hostname})))}}return o}function Y(e,t,n,r){var o=t[I.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),(0,i.yi)(o,(function(o){var a=o.key,s=o.val;if(e[a]&&(0,i.yN)("The key: "+a+" is being overwritten"),(0,i.LQ)(s))try{s=s(n,r)}catch(e){(0,i.H)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==I.TARGETING_KEYS.DEAL&&a!==I.TARGETING_KEYS.ACAT||!(0,i.jH)(s)&&null!=s?e[a]=s:(0,i.PN)("suppressing empty key '"+a+"' from adserver targeting")})),e}function Q(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function ee(e){Object.assign(this,{getAuction(t){let{auctionId:n}=t;if(null!=n)return e().find((e=>e.getAuctionId()===n))},getAdUnit(t){let{transactionId:n}=t;if(null!=n)return e().flatMap((e=>e.getAdUnits())).find((e=>e.transactionId===n))},getMediaTypes(e){let{transactionId:t,requestId:n}=e;if(null!=n){const e=this.getBidRequest({requestId:n});if(null!=e&&(null==t||e.transactionId===t))return e.mediaTypes}else if(null!=t){const e=this.getAdUnit({transactionId:t});if(null!=e)return e.mediaTypes}},getBidderRequest(t){let{requestId:n,bidderRequestId:i}=t;if(null!=n||null!=i){let t=e().flatMap((e=>e.getBidRequests()));return null!=i&&(t=t.filter((e=>e.bidderRequestId===i))),null==n?t[0]:t.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===n))))}},getBidRequest(t){let{requestId:n}=t;if(null!=n)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===n))}})}const te=function(){const e=[],t={};return t.addWinningBid=function(t){const n=(0,E.Bf)(t.metrics);n.checkpoint("bidWon"),n.timeBetween("auctionEnd","bidWon","render.pending"),n.timeBetween("requestBids","bidWon","render.e2e");const r=(0,g.sE)(e,(e=>e.getAuctionId()===t.auctionId));r?(t.status=I.BID_STATUS.RENDERED,r.addWinningBid(t)):(0,i.yN)("Auction not found when adding winning bid")},t.getAllWinningBids=function(){return e.map((e=>e.getWinningBids())).reduce(i.xH,[])},t.getBidsRequested=function(){return e.map((e=>e.getBidRequests())).reduce(i.xH,[])},t.getNoBids=function(){return e.map((e=>e.getNoBids())).reduce(i.xH,[])},t.getBidsReceived=function(){return e.map((e=>{if(e.getAuctionStatus()===O)return e.getBidsReceived()})).reduce(i.xH,[]).filter((e=>e))},t.getAllBidsForAdUnitCode=function(t){return e.map((e=>e.getBidsReceived())).reduce(i.xH,[]).filter((e=>e&&e.adUnitCode===t))},t.getAdUnits=function(){return e.map((e=>e.getAdUnits())).reduce(i.xH,[])},t.getAdUnitCodes=function(){return e.map((e=>e.getAdUnitCodes())).reduce(i.xH,[]).filter(i.tT)},t.createAuction=function(t){const n=B(t);return function(t){e.push(t)}(n),n},t.findBidByAdId=function(t){return(0,g.sE)(e.map((e=>e.getBidsReceived())).reduce(i.xH,[]),(e=>e.adId===t))},t.getStandardBidderAdServerTargeting=function(){return J()[I.JSON_MAPPING.ADSERVER_TARGETING]},t.setStatusForBids=function(n,i){let r=t.findBidByAdId(n);if(r&&(r.status=i),r&&i===I.BID_STATUS.BID_TARGETING_SET){const t=(0,g.sE)(e,(e=>e.getAuctionId()===r.auctionId));t&&t.setBidTargeting(r)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t.clearAllAuctions=function(){e.length=0},t.index=new ee((()=>e)),t}()},190:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var i=n(265),r=n(488),o=n(272),a=n(999);function s(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var c=new WeakSet;function u(e){return null==e?this.defaultScope:e}const l=new class{constructor(e,t){s(this,c),this.getSettings=e,this.defaultScope=t}get(e,t){let n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}getOwn(e,t){return e=d(this,c,u).call(this,e),(0,i.Z)(this.getSettings(),`${e}.${t}`)}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return(0,r.Ee)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=d(this,c,u).call(this,e),this.getSettings()[e]||{}}}((()=>(0,o.R)().bidderSettings||{}),a.JSON_MAPPING.BD_SETTING_STANDARD)},239:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var i=n(488);function r(e){let{src:t="client",bidder:n="",bidId:r,transactionId:o,auctionId:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s=t,d=e||0;this.bidderCode=n,this.width=0,this.height=0,this.statusMessage=function(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=(0,i._d)(),this.requestId=r,this.transactionId=o,this.auctionId=a,this.mediaType="banner",this.source=s,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function o(e,t){return new r(e,t)}},395:function(e,t,n){"use strict";n.d(t,{FD:function(){return h},vc:function(){return I}});var i=n(914),r=n(450),o=n(488),a=n(265),s=n(999);const d="TRUE"===(0,o.rD)(s.DEBUG_MODE).toUpperCase(),c=3e3,u=!0,l=!1,p=!1,f=!0,m=10,g=400,h="random",b={};b[h]=!0,b.fixed=!0;const y=h,v={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},_="*";const I=function(){let e,t,n,s=[],h=null;function I(){e={};let a={_debug:d,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:c,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:null,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){(0,o.yN)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),this._publisherDomain=e},_priceGranularity:v.MEDIUM,set priceGranularity(e){h(e)&&("string"==typeof e?this._priceGranularity=s(e)?e:v.MEDIUM:(0,o.PO)(e)&&(this._customPriceBucket=e,this._priceGranularity=v.CUSTOM,(0,o.ji)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){this._mediaTypePriceGranularity=Object.keys(e).reduce(((t,n)=>(h(e[n])?"string"==typeof e?t[n]=s(e[n])?e[n]:this._priceGranularity:(0,o.PO)(e)&&(t[n]=e[n],(0,o.ji)(`Using custom price granularity for ${n}`)):(0,o.yN)(`Invalid price granularity for media type: ${n}`),t)),{})},_sendAllBids:u,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:p,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:f,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:y,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){b[e]?this._bidderSequence=e:(0,o.yN)(`Invalid order: ${e}. Bidder Sequence was not set.`)},_timeoutBuffer:g,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:l,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:m,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!(0,o.PO)(e))return(0,o.yN)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,o.yN)(`Auction Options given an incorrect param: ${t}`),!1;if("secondaryBidders"===t){if(!(0,o.kJ)(e[t]))return(0,o.yN)(`Auction Options ${t} must be of type Array`),!1;if(!e[t].every(o.d8))return(0,o.yN)(`Auction Options ${t} must be only string`),!1}else if("suppressStaleRender"===t&&!(0,o.jn)(e[t]))return(0,o.yN)(`Auction Options ${t} must be of type boolean`),!1}return!0})(e)&&(this._auctionOptions=e)}};function s(e){return(0,r.sE)(Object.keys(v),(t=>e===v[t]))}function h(e){if(!e)return(0,o.H)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)s(e)||(0,o.yN)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,o.PO)(e)&&!(0,i.t)(e))return(0,o.H)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&O(Object.keys(t).reduce(((e,n)=>(t[n]!==a[n]&&(e[n]=a[n]||{}),e)),{})),t=a,n={}}function T(){if(h&&n&&(0,o.PO)(n[h])){let e=n[h];const i=new Set(Object.keys(t).concat(Object.keys(e)));return(0,r.Oc)(i).reduce(((n,i)=>(void 0===e[i]?n[i]=t[i]:void 0===t[i]?n[i]=e[i]:(0,o.PO)(e[i])?n[i]=(0,o.Ee)({},t[i],e[i]):n[i]=e[i],n)),{})}return Object.assign({},t)}const[E,w]=[T,function(){const e=T();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){const t=arguments.length<=0?void 0:arguments[0];return t?(0,a.Z)(e(),t):T()}return x(...arguments)})),[S,C]=[w,E].map((e=>function(){let t=e(...arguments);return t&&"object"==typeof t&&(t=(0,o.I8)(t)),t}));function A(n){if(!(0,o.PO)(n))return void(0,o.H)("setConfig options must be an object");let i=Object.keys(n),r={};i.forEach((i=>{let a=n[i];(0,o.PO)(e[i])&&(0,o.PO)(a)&&(a=Object.assign({},e[i],a));try{r[i]=t[i]=a}catch(e){(0,o.yN)(`Cannot set config for property ${i} : `,e)}})),O(r)}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=_,n=t||{}),"function"!=typeof i)return void(0,o.H)("listener must be a function");const r={topic:e,callback:i};return s.push(r),n.init&&i(e===_?w():{[e]:w(e)}),function(){s.splice(s.indexOf(r),1)}}function O(e){const t=Object.keys(e);s.filter((e=>(0,r.q9)(t,e.topic))).forEach((t=>{t.callback({[t.topic]:e[t.topic]})})),s.filter((e=>e.topic===_)).forEach((t=>t.callback(e)))}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{!function(e){if(!(0,o.PO)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,o.PO)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((i=>{n[i]||(n[i]={}),Object.keys(e.config).forEach((r=>{let a=e.config[r];if((0,o.PO)(a)){const e=t?o.Ee:Object.assign;n[i][r]=e({},n[i][r]||{},a)}else n[i][r]=a}))}))}catch(e){(0,o.H)(e)}}function D(e,t){h=e;try{return t()}finally{R()}}function R(){h=null}return I(),{getCurrentBidder:function(){return h},resetBidder:R,getConfig:w,getAnyConfig:E,readConfig:S,readAnyConfig:C,setConfig:A,mergeConfig:function(e){if(!(0,o.PO)(e))return void(0,o.H)("mergeConfig input must be an object");const t=(0,o.Ee)(T(),e);return A({...t}),t},setDefaults:function(n){(0,o.PO)(e)?(Object.assign(e,n),Object.assign(t,n)):(0,o.H)("defaults must be an object")},resetConfig:I,runWithBidder:D,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return D(e,o.ak.call(t,this,...i))}(0,o.yN)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:k,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return k(e,!0)}}}()},380:function(e,t,n){"use strict";n.d(t,{iK:function(){return v},$e:function(){return _},LO:function(){return y},$P:function(){return u}});var i=n(33),r=n(92),o=n(488),a=n(409);function s(e,t,n){d(e,t),t.set(e,n)}function d(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}const u=Object.freeze({});var l=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakSet;class h{constructor(){var e,t;d(e=this,t=g),t.add(e),s(this,l,{writable:!0,value:void 0}),s(this,p,{writable:!0,value:void 0}),s(this,f,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"generatedTime",void 0),this.reset()}reset(){(0,r.Z)(this,f,(0,a.P)()),(0,r.Z)(this,l,!1),(0,r.Z)(this,p,null),(0,r.Z)(this,m,!1),this.generatedTime=null}enable(){(0,r.Z)(this,l,!0)}get enabled(){return(0,i.Z)(this,l)}get ready(){return(0,i.Z)(this,m)}get promise(){return(0,i.Z)(this,m)?a.Z.resolve((0,i.Z)(this,p)):((0,i.Z)(this,l)||c(this,g,b).call(this,null),(0,i.Z)(this,f).promise)}setConsentData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.AB)();this.generatedTime=t,c(this,g,b).call(this,e)}getConsentData(){return(0,i.Z)(this,p)}}function b(e){(0,r.Z)(this,m,!0),(0,r.Z)(this,p,e),(0,i.Z)(this,f).resolve(e)}class y extends h{getConsentMeta(){const e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}class v extends h{getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,o.d8)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}class _ extends h{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}},914:function(e,t,n){"use strict";n.d(t,{D:function(){return p},t:function(){return m}});var i=n(450),r=n(488),o=n(395);const a=2,s={buckets:[{max:5,increment:.5}]},d={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},u={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},l={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=parseFloat(e);return isNaN(i)&&(i=""),{low:""===i?"":f(e,s,n),med:""===i?"":f(e,d,n),high:""===i?"":f(e,c,n),auto:""===i?"":f(e,l,n),dense:""===i?"":f(e,u,n),custom:""===i?"":f(e,t,n)}}function f(e,t,n){let s="";if(!m(t))return s;const d=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let c=0,u=(0,i.sE)(t.buckets,(t=>{if(e>d.max*n){let e=t.precision;void 0===e&&(e=a),s=(t.max*n).toFixed(e)}else{if(e<=t.max*n&&e>=c*n)return t.min=c,t;c=t.max}}));return u&&(s=function(e,t,n){const i=void 0!==t.precision?t.precision:a,s=t.increment*n,d=t.min*n;let c=Math.floor,u=o.vc.getConfig("cpmRoundingFunction");"function"==typeof u&&(c=u);let l,p,f=Math.pow(10,i+2),m=(e*f-d*f)/(s*f);try{l=c(m)*s+d}catch(e){p=!0}(p||"number"!=typeof l)&&((0,r.yN)("Invalid rounding function passed in config"),l=Math.floor(m)*s+d);return l=Number(l.toFixed(10)),l.toFixed(i)}(e,u,n)),s}function m(e){if((0,r.xb)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}},786:function(e,t,n){"use strict";n.d(t,{S1:function(){return p},j8:function(){return g},on:function(){return l},vw:function(){return m}});var i=n(488),r=n(999),o=Array.prototype.slice,a=Array.prototype.push,s=i.HA(r.EVENTS,(function(e){return e})),d=r.EVENT_ID_PATHS,c=[];const u=function(){var e={},t={};return t.on=function(t,n,r){if(function(e){return i.r3(s,e)}(t)){var o=e[t]||{que:[]};r?(o[r]=o[r]||{que:[]},o[r].que.push(n)):o.que.push(n),e[t]=o}else i.H("Wrong event name : "+t+" Valid event names :"+s)},t.emit=function(t){!function(t,n){i.ji("Emitting event for: "+t);var r=n[0]||{},o=r[d[t]],s=e[t]||{que:[]},u=i.HA(s,(function(e,t){return t})),l=[];c.push({eventType:t,args:r,id:o,elapsedTime:i.bd()}),o&&i.r3(u,o)&&a.apply(l,s[o].que),a.apply(l,s.que),i.yi(l,(function(e){if(e)try{e.apply(null,n)}catch(e){i.H("Error executing handler:","events.js",e)}}))}(t,o.call(arguments,1))},t.off=function(t,n,r){var o=e[t];i.xb(o)||i.xb(o.que)&&i.xb(o[r])||r&&(i.xb(o[r])||i.xb(o[r].que))||(r?i.yi(o[r].que,(function(e){var t=o[r].que;e===n&&t.splice(t.indexOf(e),1)})):i.yi(o.que,(function(e){var t=o.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.addEvents=function(e){s=s.concat(e)},t.getEvents=function(){var e=[];return i.yi(c,(function(t){var n=Object.assign({},t);e.push(n)})),e},t}();i.u2(u.emit.bind(u));const{on:l,off:p,get:f,getEvents:m,emit:g,addEvents:h}=u},421:function(e,t,n){"use strict";n.d(t,{Bx:function(){return p},Cd:function(){return d},IF:function(){return f},bA:function(){return l},v5:function(){return c},z3:function(){return a}});var i=n(432),r=n.n(i),o=n(409);let a=r()({ready:r().SYNC|r().ASYNC|r().QUEUE});const s=(0,o.P)();a.ready=(()=>{const e=a.ready;return function(){try{return e.apply(a,arguments)}finally{s.resolve()}}})();const d=s.promise,c=a.get;const u={};function l(e,t){let{postInstallAllowed:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a("async",(function(i){i.forEach((e=>t(...e))),n&&(u[e]=t)}),e)([])}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=u[e];if(r)return r(...n);c(e).before(((e,t)=>{t.push(n),e(t)}))}function f(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}},777:function(e,t,n){"use strict";n.d(t,{B5:function(){return i},Mk:function(){return o},Oh:function(){return a},pX:function(){return r}});const i="native",r="video",o="banner",a="adpod"},487:function(e,t,n){"use strict";n.d(t,{Fb:function(){return T},JL:function(){return O},Sg:function(){return c},Ur:function(){return C},e6:function(){return S},eK:function(){return x},lY:function(){return R},r4:function(){return w},xc:function(){return u},zq:function(){return P}});var i=n(265),r=n(488),o=n(450),a=n(489),s=n(999),d=n(777);const c=[],u=Object.keys(s.NATIVE_KEYS).map((e=>s.NATIVE_KEYS[e])),l={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},{NATIVE_ASSET_TYPES:p,NATIVE_IMAGE_TYPES:f,PREBID_NATIVE_DATA_KEYS_TO_ORTB:m,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:g,NATIVE_KEYS:h}=s,b=U(m),y=U(p),v={img:1,js:2,1:"img",2:"js"},_={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function I(e){if(e&&e.type&&function(e){if(!e||!(0,o.q9)(Object.keys(l),e))return(0,r.H)(`${e} nativeParam is not supported`),!1;return!0}(e.type)&&(e=l[e.type]),!e||!e.ortb||E(e.ortb))return e}function T(e){e.forEach((e=>{const t=e.nativeParams||(0,i.Z)(e,"mediaTypes.native");t&&(e.nativeParams=I(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!(0,r.PO)(e))return void(0,r.H)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let n in e){if(g.includes(n))continue;if(!h.hasOwnProperty(n)){(0,r.H)(`Unrecognized native asset code: ${n}. Asset will be ignored.`);continue}const i=e[n];let o=0;i.required&&(0,r.jn)(i.required)&&(o=Number(i.required));const a={id:t.assets.length,required:o};if(n in m)a.data={type:p[m[n]]},i.len&&(a.data.len=i.len);else if("icon"===n||"image"===n){if(a.img={type:"icon"===n?f.ICON:f.MAIN},i.aspect_ratios)if((0,r.kJ)(i.aspect_ratios))if(i.aspect_ratios.length){const{min_width:e,min_height:t}=i.aspect_ratios[0];(0,r.U)(e)&&(0,r.U)(t)?(a.img.wmin=e,a.img.hmin=t):(0,r.H)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const n=i.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));n.length>0&&(a.img.ext={aspectratios:n})}else(0,r.H)("image.aspect_ratios was passed, but it's empty:",i.aspect_ratios);else(0,r.H)("image.aspect_ratios was passed, but it's not a an array:",i.aspect_ratios);i.sizes&&(2===i.sizes.length&&(0,r.U)(i.sizes[0])&&(0,r.U)(i.sizes[1])?(a.img.w=i.sizes[0],a.img.h=i.sizes[1],delete a.img.hmin,delete a.img.wmin):(0,r.H)("image.sizes was passed, but its value is not an array of integers:",i.sizes))}else"title"===n?a.title={len:i.len||140}:"ext"===n&&(a.ext=i,delete a.required);t.assets.push(a)}return t}(e.nativeParams))}))}function E(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,r.H)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const n=t.map((e=>e.id));return t.length!==new Set(n).size||n.some((e=>e!==parseInt(e,10)))?((0,r.H)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,r.H)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!(0,r.PO)(e))return(0,r.H)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,r.hj)(e.img.w)&&!(0,r.hj)(e.img.wmin))return(0,r.H)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,r.hj)(e.img.h)&&!(0,r.hj)(e.img.hmin))return(0,r.H)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,r.hj)(e.title.len))return(0,r.H)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,r.hj)(e.data.type))return(0,r.H)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,r.hj)(e.video.minduration)&&(0,r.hj)(e.video.maxduration)))return(0,r.H)("video asset is not properly configured"),!1;return!0}(e)))}function w(e){var t;let{index:n=a.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n.getAdUnit(e);if(!s)return!1;let d=s.nativeOrtbRequest;return function(e,t){if(!(0,i.Z)(e,"link.url"))return(0,r.H)("native response doesn't have 'link' property. Ortb response: ",e),!1;let n=t.assets.filter((e=>1===e.required)).map((e=>e.id)),a=e.assets.map((e=>e.id));const s=n.every((e=>(0,o.q9)(a,e)));s||(0,r.H)(`didn't receive a bid with all required assets. Required ids: ${n}, but received ids in response: ${a}`);return s}((null===(t=e.native)||void 0===t?void 0:t.ortb)||B(e.native,d),d)}function S(e,t){const n=t.native.ortb||N(t.native);return"click"===e.action?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{fetchURL:n=r.hq}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var i;const r=(e.assets||[]).filter((e=>e.link)).reduce(((e,t)=>(e[t.id]=t.link,e)),{}),o=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[];let a=r[t],s=o;a&&(s=a.clicktrackers||[]),s.forEach((e=>n(e)))}else{var o;((null===(o=e.link)||void 0===o?void 0:o.clicktrackers)||[]).forEach((e=>n(e)))}}(n,null==e?void 0:e.assetId):function(e){let{runMarkup:t=(e=>(0,r.$8)(e)),fetchURL:n=r.hq}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(e.eventtrackers||[]).filter((e=>e.event===_.impression));let{img:o,js:a}=i.reduce(((e,t)=>(v.hasOwnProperty(t.method)&&e[v[t.method]].push(t.url),e)),{img:[],js:[]});e.imptrackers&&(o=o.concat(e.imptrackers));o.forEach((e=>n(e))),a=a.map((e=>`<script async src="${e}"><\/script>`)),e.jstracker&&(a=a.concat([e.jstracker]));a.length&&t(a.join("\n"))}(n),e.action}function C(e){let{index:t=a.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};const r=t.getAdUnit(e);(0,i.Z)(r,"nativeParams.rendererUrl")?e.native.rendererUrl=k(r.nativeParams.rendererUrl):(0,i.Z)(r,"nativeParams.adTemplate")&&(e.native.adTemplate=k(r.nativeParams.adTemplate));const o=!1!==(0,i.Z)(r,"nativeParams.sendTargetingKeys"),d=function(e){const t={};(0,i.Z)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]=`hb_native_${e}`}));return{...s.NATIVE_KEYS,...t}}(r),c={...e.native,...e.native.ext};return delete c.ext,Object.keys(c).forEach((t=>{const a=d[t];let s=k(e.native[t])||k((0,i.Z)(e,`native.ext.${t}`));if("adTemplate"===t||!a||!s)return;let c=(0,i.Z)(r,`nativeParams.${t}.sendId`);if("boolean"!=typeof c&&(c=(0,i.Z)(r,`nativeParams.ext.${t}.sendId`)),c){s=`${a}:${e.adId}`}let u=(0,i.Z)(r,`nativeParams.${t}.sendTargetingKeys`);"boolean"!=typeof u&&(u=(0,i.Z)(r,`nativeParams.ext.${t}.sendTargetingKeys`));("boolean"==typeof u?u:o)&&(n[a]=s)})),n}function A(e,t,n){var i,r;let{index:o=a.K.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d={message:"assetResponse",adId:e.adId},c=o.getAdUnit(t);let u=t.native;return t.native.ortb?d.ortb=t.native.ortb:null!==(i=c.mediaTypes)&&void 0!==i&&null!==(r=i.native)&&void 0!==r&&r.ortb&&(d.ortb=B(t.native,c.nativeOrtbRequest)),d.assets=[],(null==n?Object.keys(u):n).forEach((function(e){if("adTemplate"===e&&u[e])d.adTemplate=k(u[e]);else if("rendererUrl"===e&&u[e])d.rendererUrl=k(u[e]);else if("ext"===e)Object.keys(u[e]).forEach((t=>{if(u[e][t]){const n=k(u[e][t]);d.assets.push({key:t,value:n})}}));else if(u[e]&&s.NATIVE_KEYS.hasOwnProperty(e)){const t=k(u[e]);d.assets.push({key:e,value:t})}})),d}function x(e,t){const n=e.assets.map((e=>(0,r.V9)(s.NATIVE_KEYS,e)));return A(e,t,n)}function O(e,t){return A(e,t,null)}function k(e){return(null==e?void 0:e.url)||e}function D(e){if(!E(e))return;const t={};for(const n of e.assets)if(n.title){const e={required:!!n.required&&Boolean(n.required),len:n.title.len};t.title=e}else if(n.img){const e={required:!!n.required&&Boolean(n.required)};n.img.w&&n.img.h?e.sizes=[n.img.w,n.img.h]:n.img.wmin&&n.img.hmin&&(e.aspect_ratios={min_width:n.img.wmin,min_height:n.img.hmin,ratio_width:n.img.wmin,ratio_height:n.img.hmin}),n.img.type===f.MAIN?t.image=e:t.icon=e}else if(n.data){let e=Object.keys(p).find((e=>p[e]===n.data.type)),i=Object.keys(m).find((t=>m[t]===e));t[i]={required:!!n.required&&Boolean(n.required)},n.data.len&&(t[i].len=n.data.len)}return t}function R(e){{if(!e||!(0,r.kJ)(e))return e;if(!e.some((e=>{var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[d.B5])||void 0===t?void 0:t.ortb})))return e;let t=(0,r.I8)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[d.B5]&&e.mediaTypes[d.B5].ortb&&(e.mediaTypes[d.B5]=Object.assign((0,r.ei)(e.mediaTypes[d.B5],g),D(e.mediaTypes[d.B5].ortb)),e.nativeParams=I(e.mediaTypes[d.B5]));return t}}function N(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach((e=>{let[n,i]=e;switch(n){case"clickUrl":t.link.url=i;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((e=>{t.eventtrackers.push({event:_.impression,method:v.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(i)?i.join(""):i}})),t}function B(e,t){const n={...N(e),assets:[]};function i(e,i){let o=t.assets.find(e);null!=o&&(o=(0,r.I8)(o),i(o),n.assets.push(o))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{const n=k(e[t]);switch(t){case"title":i((e=>null!=e.title),(e=>{e.title={text:n}}));break;case"image":case"icon":const e="image"===t?f.MAIN:f.ICON;i((t=>null!=t.img&&t.img.type===e),(e=>{e.img={url:n}}));break;default:t in m&&i((e=>null!=e.data&&e.data.type===p[m[t]]),(e=>{e.data={value:n}}))}})),n}function P(e,t){const n={},i=(null==t?void 0:t.assets)||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;for(const t of(null==e?void 0:e.assets)||[]){const e=i.find((e=>t.id===e.id));t.title?n.title=t.title.text:t.img?n[e.img.type===f.MAIN?"image":"icon"]=t.img.url:t.data&&(n[b[y[e.data.type]]]=t.data.value)}n.impressionTrackers=[];let r=[];null!=t&&t.imptrackers&&n.impressionTrackers.push(...t.imptrackers);for(const t of(null==e?void 0:e.eventtrackers)||[])t.event===_.impression&&t.method===v.img&&n.impressionTrackers.push(t.url),t.event===_.impression&&t.method===v.js&&r.push(t.url);return r=r.map((e=>`<script async src="${e}"><\/script>`)),null!=e&&e.jstracker&&r.push(e.jstracker),r.length&&(n.javascriptTrackers=r.join("\n")),n}function U(e){var t={};for(var n in e)t[e[n]]=n;return t}},450:function(e,t,n){"use strict";function i(e,t,n){return e&&e.includes(t,n)||!1}function r(){return Array.from.apply(Array,arguments)}function o(e,t,n){return e&&e.find(t,n)}n.d(t,{Oc:function(){return r},q9:function(){return i},sE:function(){return o}})},272:function(e,t,n){"use strict";function i(){return window.pubtech_pbjs}n.d(t,{R:function(){return i}}),window.pubtech_pbjs=window.pubtech_pbjs||{},window.pubtech_pbjs.cmd=window.pubtech_pbjs.cmd||[],window.pubtech_pbjs.que=window.pubtech_pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pubtech_pbjs")},386:function(e,t,n){"use strict";n.d(t,{hh:function(){return a},nH:function(){return s}});var i=n(395),r=n(488);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;let n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:`${n}//${e}`}function a(e){let{noLeadingWww:t=!1,noPort:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=new URL(o(e))}catch(e){return}return e=n?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}const s=function(e){function t(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){const n=[],s=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),d=i.vc.getConfig("maxNestedIframes");let c,u,l,p,f=!1,m=0,g=!1,h=!1,b=!1;do{const i=c,o=h;let a,d=!1,p=null;h=!1,c=c?c.parent:e;try{a=c.location.href||null}catch(e){d=!0}if(d)if(o){const t=i.context;try{p=t.sourceUrl,u=p,b=!0,g=!0,c===e.top&&(f=!0),t.canonicalUrl&&(l=t.canonicalUrl)}catch(e){}}else{(0,r.yN)("Trying to access cross domain iframe. Continuing without referrer and location");try{const t=i.document.referrer;t&&(p=t,c===e.top&&(f=!0))}catch(e){}!p&&s&&s[m-1]&&(p=s[m-1],c===e.top&&(b=!0)),p&&!g&&(u=p)}else{if(a&&(p=a,u=p,g=!1,c===e.top)){f=!0;const e=t(c.document);e&&(l=e)}c.context&&c.context.sourceUrl&&(h=!0)}n.push(p),m++}while(c!==e.top&&m<d);n.reverse();try{p=e.top.document.referrer}catch(e){}const y=f||b?u:null,v=i.vc.getConfig("pageUrl")||l||null;let _=i.vc.getConfig("pageUrl")||y||o(v,e);return y&&y.indexOf("?")>-1&&-1===_.indexOf("?")&&(_=`${_}${y.substring(y.indexOf("?"))}`),{reachedTop:f,isAmp:g,numIframes:m-1,stack:n,topmostLocation:u||null,location:y,canonicalUrl:v,page:_,domain:a(_)||null,ref:p||null,legacy:{reachedTop:f,isAmp:g,numIframes:m-1,stack:n,referer:u||null,canonicalUrl:v}}}}(window)},125:function(e,t,n){"use strict";n.d(t,{Ld:function(){return d},df:function(){return p},eA:function(){return l}});var i=n(421),r=n(488),o=n(190),a=n(380);const s=["core","prebid-module"];let d=[];function c(){let{gvlid:e,moduleName:t,bidderCode:n,moduleType:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{bidderSettings:c=o.S}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function l(i){if(function(){if(null==n)return!0;const e=c.get(n,"storageAllowed");return null!=e&&e}()){let o;return u(e,n||t,{hasEnforcementHook:!1},(function(e){if(e&&e.hasEnforcementHook)o=i(e);else{let e={hasEnforcementHook:!1,valid:(0,r.wn)()};o=i(e)}})),o}(0,r.PN)(`bidderSettings denied access to device storage for bidder '${n}'`);return i({valid:!1})}s.includes(i)&&(e=e||a.$P);const p=function(e){let t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,r.H)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return l(t);d.push((function(){let n=l(t);e(n)}))};return{setCookie:function(e,t,n,i,r,o){let a=function(o){if(o&&o.valid){const o=r&&""!==r?` ;domain=${encodeURIComponent(r)}`:"",a=n&&""!==n?` ;expires=${n}`:"",s=null!=i&&"none"==i.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${a}; path=/${o}${i?`; SameSite=${i}`:""}${s}`}};if(!o||"function"!=typeof o)return l(a);d.push((function(){let e=l(a);o(e)}))},getCookie:function(e,t){let n=function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null};if(!t||"function"!=typeof t)return l(n);d.push((function(){let e=l(n);t(e)}))},localStorageIsEnabled:function(e){let t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return l(t);d.push((function(){let n=l(t);e(n)}))},cookiesAreEnabled:function(e){let t=function(e){return!(!e||!e.valid)&&(0,r.IG)()};if(!e||"function"!=typeof e)return l(t);d.push((function(){let n=l(t);e(n)}))},setDataInLocalStorage:function(e,t,n){let i=function(n){n&&n.valid&&p()&&window.localStorage.setItem(e,t)};if(!n||"function"!=typeof n)return l(i);d.push((function(){let e=l(i);n(e)}))},getDataFromLocalStorage:function(e,t){let n=function(t){return t&&t.valid&&p()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return l(n);d.push((function(){let e=l(n);t(e)}))},removeDataFromLocalStorage:function(e,t){let n=function(t){t&&t.valid&&p()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return l(n);d.push((function(){let e=l(n);t(e)}))},hasLocalStorage:p,findSimilarCookies:function(e,t){let n=function(t){if(t&&t.valid){const t=[];if((0,r.wn)()){const n=document.cookie.split(";");for(;n.length;){const i=n.pop();let r=i.indexOf("=");r=r<0?i.length:r;decodeURIComponent(i.slice(0,r).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(i.slice(r+1)))}}return t}};if(!t||"function"!=typeof t)return l(n);d.push((function(){let e=l(n);t(e)}))}}}const u=(0,i.z3)("async",(function(e,t,n,i){i(n)}),"validateStorageEnforcement");function l(e){return c({moduleName:e,moduleType:"core"})}function p(){let{gvlid:e,moduleName:t,bidderCode:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(arguments.length>1||arguments.length>0&&!(0,r.PO)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return c({gvlid:e,moduleName:t,bidderCode:n})}},824:function(e,t,n){"use strict";n.d(t,{k_:function(){return d}});var i=n(488),r=n(395),o=n(450),a=n(125);r.vc.setDefaults({userSync:(0,i.I8)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});const s=(0,a.eA)("usersync");const d=function(e){let t={},n={image:[],iframe:[]},a=new Set,s={},d={image:!0,iframe:!1},c=e.config;function u(){if(c.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!d.iframe)return;l(n.iframe,(e=>{let[t,r]=e;(0,i.ji)(`Invoking iframe user sync for bidder: ${t}`),(0,i.Vs)(r),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(n,t)}))}(),function(){if(!d.image)return;l(n.image,(e=>{let[t,n]=e;(0,i.ji)(`Invoking image pixel user sync for bidder: ${t}`),(0,i.hq)(n)}))}()}catch(e){return(0,i.H)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function l(e,t){(0,i.TV)(e).forEach((e=>{t(e),a.add(e[0])}))}function p(e,t){let n=c.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,i.yN)(`Detected presence of the "filterSettings.all" and "filterSettings.${t}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;let o=n.filter,a=n.bidders;if(o&&"include"!==o&&"exclude"!==o)return(0,i.yN)(`UserSync "filterSettings.${r}.filter" setting '${o}' is not a valid option; use either 'include' or 'exclude'.`),!1;if("*"!==a&&!(Array.isArray(a)&&a.length>0&&a.every((e=>(0,i.d8)(e)&&"*"!==e))))return(0,i.yN)(`Detected an invalid setup in userSync "filterSettings.${r}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1;return!0}(n,e)){d[e]=!0;let i=n.all?n.all:n[e],r="*"===i.bidders?[t]:i.bidders;const a={include:(e,t)=>!(0,o.q9)(e,t),exclude:(e,t)=>(0,o.q9)(e,t)};return a[i.filter||"include"](r,t)}return!d[e]}return r.vc.getConfig("userSync",(e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,i.PO)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}c=Object.assign(c,e.userSync)})),t.registerSync=(e,r,o)=>{if(a.has(r))return(0,i.ji)(`already fired syncs for "${r}", ignoring registerSync call`);if(!c.syncEnabled||!(0,i.kJ)(n[e]))return(0,i.yN)(`User sync type "${e}" not supported`);if(!r)return(0,i.yN)("Bidder is required for registering sync");if(0!==c.syncsPerBidder&&Number(s[r])>=c.syncsPerBidder)return(0,i.yN)(`Number of user syncs exceeded for "${r}"`);if(!t.canBidderRegisterSync(e,r))return(0,i.yN)(`Bidder "${r}" not permitted to register their "${e}" userSync pixels.`);n[e].push([r,o]),s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,r)},t.syncUsers=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(u,Number(e));u()},t.triggerUserSyncs=()=>{c.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!c.filterSettings||!p(e,t),t}(Object.defineProperties({config:r.vc.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!(0,i.fr)()&&s.cookiesAreEnabled()}}}))},488:function(e,t,n){"use strict";n.d(t,{$8:function(){return ge},$u:function(){return X},AB:function(){return je},An:function(){return N},Bq:function(){return nt},D9:function(){return vt},DO:function(){return R},EE:function(){return C},Ee:function(){return mt},FS:function(){return He},G2:function(){return Qe},H:function(){return G},HA:function(){return ce},HC:function(){return rt},HP:function(){return yt},I8:function(){return Re},IG:function(){return Le},IK:function(){return De},K$:function(){return xe},LQ:function(){return Q},NA:function(){return Te},Ob:function(){return U},PN:function(){return H},PO:function(){return ie},Q2:function(){return pt},RI:function(){return ue},R_:function(){return me},Re:function(){return P},S0:function(){return Ze},SG:function(){return be},T9:function(){return Se},TV:function(){return ke},U:function(){return Ye},V9:function(){return Ee},Vs:function(){return he},W$:function(){return ht},X4:function(){return Ce},XV:function(){return st},Yp:function(){return ut},ZH:function(){return Ae},Zy:function(){return L},_R:function(){return gt},_d:function(){return D},ak:function(){return x},bd:function(){return Me},d5:function(){return dt},d8:function(){return ee},dj:function(){return bt},e7:function(){return z},eB:function(){return K},ei:function(){return tt},en:function(){return lt},ew:function(){return Pe},fr:function(){return Be},fz:function(){return et},hj:function(){return ne},hl:function(){return ot},hq:function(){return fe},iG:function(){return $e},jC:function(){return le},jH:function(){return ae},ji:function(){return $},jn:function(){return re},kJ:function(){return te},ky:function(){return Xe},oV:function(){return Ge},or:function(){return Je},pP:function(){return we},qp:function(){return W},r3:function(){return de},rD:function(){return J},s:function(){return M},sF:function(){return j},t0:function(){return B},tT:function(){return ve},u2:function(){return T},uh:function(){return it},vM:function(){return Fe},wn:function(){return qe},xH:function(){return _e},x_:function(){return Ue},xb:function(){return oe},yL:function(){return Ne},yN:function(){return Z},yi:function(){return se},yo:function(){return at},yx:function(){return ze},zE:function(){return Ie},zV:function(){return Ve}});var i=n(395),r=n(79),o=n.n(r),a=n(450),s=n(999),d=n(409),c="Array",u="String",l="Function",p="Number",f="Object",m="Boolean",g=Object.prototype.toString;let h,b=Boolean(window.console),y=Boolean(b&&window.console.log),v=Boolean(b&&window.console.info),_=Boolean(b&&window.console.warn),I=Boolean(b&&window.console.error);function T(e){h=e}function E(){null!=h&&h(...arguments)}const w={checkCookieSupport:Le,createTrackPixelIframeHtml:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";t&&(e=encodeURI(e));n&&(n=`sandbox="${n}"`);return`<iframe ${n} id="${D()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`},getWindowSelf:z,getWindowTop:L,getWindowLocation:F,insertUserSyncIframe:he,insertElement:le,isFn:Q,triggerPixel:fe,logError:G,logWarn:Z,logMessage:$,logInfo:H,parseQS:ct,formatQS:ut,deepEqual:ft};let S={};function C(){return S}var A={};let x=function(e,t){return t}.bind(null,1,A)()===A?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}};var O,k=(O=0,function(){return++O});function D(){return k()+Math.random().toString(16).substr(2)}function R(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,R)}function N(e,t){return t&&t[e]?t[e]:""}function B(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e}function P(e){let t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t=t.replace(/&$/,""),t}function U(e){return e&&Object.getOwnPropertyNames(e).length>0?(t=e,Object.keys(t)).map((t=>`${t}=${encodeURIComponent(Te(e,t))}`)).join("&"):"";var t}function j(e){var t=[];if("string"==typeof e){var n=e.split(","),i=/^(\d)+x(\d)+$/i;if(n)for(var r in n)ue(n,r)&&n[r].match(i)&&t.push(n[r])}else if("object"==typeof e){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(M(e));else for(var a=0;a<o;a++)t.push(M(e[a]))}return t}function M(e){if(q(e))return e[0]+"x"+e[1]}function q(e){return te(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function L(){return window.top}function z(){return window.self}function F(){return window.location}function $(){K()&&y&&console.log.apply(console,V(arguments,"MESSAGE:"))}function H(){K()&&v&&console.info.apply(console,V(arguments,"INFO:"))}function Z(){K()&&_&&console.warn.apply(console,V(arguments,"WARNING:")),E(s.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function G(){K()&&I&&console.error.apply(console,V(arguments,"ERROR:")),E(s.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function W(e){function t(t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t(e,...i)}}return{logError:t(G),logWarn:t(Z),logMessage:t($),logInfo:t(H)}}function V(e,t){e=[].slice.call(e);let n=i.vc.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?`%c${n}`:"")),e;function r(e){return`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`}}function K(){return!!i.vc.getConfig("debug")}function X(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function J(e){return ct(F().search)[e]||""}function Y(e,t){return g.call(e)==="[object "+t+"]"}function Q(e){return Y(e,l)}function ee(e){return Y(e,u)}function te(e){return Y(e,c)}function ne(e){return Y(e,p)}function ie(e){return Y(e,f)}function re(e){return Y(e,m)}function oe(e){if(!e)return!0;if(te(e)||ee(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function ae(e){return ee(e)&&(!e||0===e.length)}function se(e,t){if(!oe(e)){if(Q(e.forEach))return e.forEach(t,this);var n=0,i=e.length;if(i>0)for(;n<i;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function de(e,t){if(oe(e))return!1;if(Q(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function ce(e,t){if(oe(e))return[];if(Q(e.map))return e.map(t);var n=[];return se(e,(function(i,r){n.push(t(i,r,e))})),n}function ue(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function le(e,t,n,i){let r;t=t||document,r=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if(r=r.length?r:t.getElementsByTagName("body"),r.length){r=r[0];let t=i?null:r.firstChild;return r.insertBefore(e,t)}}catch(e){}}function pe(e,t){let n=null;return new d.Z((i=>{const r=function(){e.removeEventListener("load",r),e.removeEventListener("error",r),null!=n&&window.clearTimeout(n),i()};e.addEventListener("load",r),e.addEventListener("error",r),null!=t&&(n=window.setTimeout(r,t))}))}function fe(e,t,n){const i=new Image;t&&w.isFn(t)&&pe(i,n).then(t),i.src=e}function me(e){let{source:t,burl:n}=e;t===s.S2S.SRC&&n&&w.triggerPixel(n)}function ge(e){if(!e)return;let t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",w.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}function he(e,t,n){let i=w.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=i;let o=r.firstChild;t&&w.isFn(t)&&pe(o,n).then(t),w.insertElement(o,document,"html",!0)}function be(e){if(!e)return"";let t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>',t}function ye(e,t,n){return null==t?n:ee(t)?t:ne(t)?t.toString():void w.logWarn("Unsuported type for param: "+e+" required type: String")}function ve(e,t,n){return n.indexOf(e)===t}function _e(e,t){return e.concat(t)}function Ie(e,t){if(!e)return;let n;return t.some((t=>{let i=(0,a.sE)(t.bids,(t=>["bidId","adId","bid_id"].some((n=>t[n]===e))));return i&&(n=i),i})),n}function Te(e,t){return e[t]}function Ee(e,t){for(let n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}function we(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pubtech_pbjs.adUnits).map((e=>e.bids.map((e=>e.bidder)).reduce(_e,[]))).reduce(_e,[]).filter((e=>void 0!==e)).filter(ve)}function Se(){if(window.googletag&&Q(window.googletag.pubads)&&Q(window.googletag.pubads().getSlots))return!0}function Ce(){if(window.apntag&&Q(window.apntag.getTag))return!0}const Ae=Oe("timeToRespond",((e,t)=>e>t)),xe=Oe("responseTimestamp",((e,t)=>e>t));Oe("responseTimestamp",((e,t)=>e<t));function Oe(e,t){return(n,i)=>n.cpm===i.cpm?t(n[e],i[e])?i:n:n.cpm<i.cpm?i:n}function ke(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--;let i=e[t];e[t]=e[n],e[n]=i}return e}function De(e,t){return(0,a.q9)(e,t&&t.adUnitCode)}function Re(e){return o()(e)}function Ne(){try{return w.getWindowSelf()!==w.getWindowTop()}catch(e){return!0}}function Be(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Pe(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Ue(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function je(){return(new Date).getTime()}function Me(){return window.performance&&window.performance.now&&window.performance.now()||0}function qe(){return!1!==i.vc.getConfig("deviceAccess")}function Le(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function ze(e,t){if(t<1)throw new Error(`numRequiredCalls must be a positive number. Got ${t}`);let n=0;return function(){n++,n===t&&e.apply(this,arguments)}}function Fe(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function $e(e,t){return t.filter((t=>e[t])).reduce(((t,n)=>Object.assign(t,{[n]:e[n]})),{})}function He(e){const t=["banner","native","video"],n=["instream","outstream","adpod"];return!!Object.keys(e).every((e=>(0,a.q9)(t,e)))&&(!e.video||!e.video.context||(0,a.q9)(n,e.video.context))}function Ze(e,t,n){return e.filter((e=>e.code===t)).map((e=>e.bids)).reduce(_e,[]).filter((e=>e.bidder===n)).map((e=>e.params||{}))}function Ge(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}const We=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function Ve(e){return t=>We(e,t)}function Ke(e){let t;return Se()&&(t=(0,a.sE)(window.googletag.pubads().getSlots(),function(e){return t=>We(t,e)}(e))),t}function Xe(e){const t=Ke(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function Je(e,t){const n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return`\n    ${e.code} is a ${n} ad unit\n    containing bidders that don't support ${n}: ${t}.\n    This bidder won't fetch demand.\n  `}function Ye(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Qe(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function et(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}function tt(e,t){return"object"!=typeof e?{}:t.reduce(((n,i,r)=>{if("function"==typeof i)return n;let o=i,a=i.match(/^(.+?)\sas\s(.+?)$/i);a&&(i=a[1],o=a[2]);let s=e[i];return"function"==typeof t[r+1]&&(s=t[r+1](s,n)),void 0!==s&&(n[o]=s),n}),{})}function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return se(e,((e,i)=>{if(te(e)){let n=[];se(e,(e=>{((e=ye(t+"."+i,e))||""===e)&&n.push(e)})),e=n}else{if(!ee(e=ye(t+"."+i,e)))return;e=[e]}n.push({key:i,value:e})})),n}function it(e,t){return Object.keys(e).forEach((n=>{var i,r;t[n]&&(Q(e[n])?t[n]=e[n](t[n]):t[n]=(i=e[n],r=t[n],"string"===i?r&&r.toString():"number"===i?Number(r):r),isNaN(t[n])&&delete t.key)})),t}function rt(e,t){return te(e)&&(!t||e.length===t)&&e.every((e=>Ye(e)))}function ot(e,t){let n=[];for(let i=0;i<t;i++){let t=ie(e)?Re(e):e;n.push(t)}return n}function at(e,t){let n=[];for(let i=0;i<Math.ceil(e.length/t);i++){let r=i*t,o=r+t;n.push(e.slice(r,o))}return n}function st(e){return Math.min(...e)}function dt(e){return Math.max(...e)}function ct(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[n,i]=t.split("=");return/\[\]$/.test(n)?(n=n.replace("[]",""),e[n]=e[n]||[],e[n].push(i)):e[n]=i||"",e}),{}):{}}function ut(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>`${t}[]=${e}`)).join("&"):`${t}=${e[t]}`)).join("&")}function lt(e,t){let n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);let i=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:i?n.search:w.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function pt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?`:${e.port}`:""))+(e.pathname||"")+(e.search?`?${w.formatQS(e.search||"")}`:"")+(e.hash?`#${e.hash}`:"")}function ft(e,t){let{checkTypes:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||n&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e){if(!t.hasOwnProperty(i))return!1;if(!ft(e[i],t[i],{checkTypes:n}))return!1}return!0}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;const r=n.shift();if(ie(e)&&ie(r))for(const t in r)ie(r[t])?(e[t]||Object.assign(e,{[t]:{}}),mt(e[t],r[t])):te(r[t])?e[t]?te(e[t])&&r[t].forEach((n=>{let i=1;for(let r=0;r<e[t].length;r++)if(ft(e[t][r],n)){i=0;break}i&&e[t].push(n)})):Object.assign(e,{[t]:[...r[t]]}):Object.assign(e,{[t]:r[t]});return mt(e,...n)}function gt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(Q(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^t,r=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),i=n(i^t,2654435761),r=n(r^t,1597334677);return i=n(i^i>>>16,2246822507)^n(r^r>>>13,3266489909),r=n(r^r>>>16,2246822507)^n(i^i>>>13,3266489909),(4294967296*(2097151&r)+(i>>>0)).toString()}function ht(e){return e?e.defaultView:null}function bt(e){try{return JSON.parse(e)}catch(e){}}function yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};const n=new Map,i=function(){const i=t.apply(this,arguments);return n.has(i)||n.set(i,e.apply(this,arguments)),n.get(i)};return i.clear=n.clear.bind(n),i}function vt(e,t){for(let n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}(()=>{const e={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"}})()},182:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var i=n(489),r=n(190),o=n(488);function a(e,t,n){var a;let{index:s=i.K.index,bs:d=r.S}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n=n||s.getBidRequest(t);const c=d.get((null==t?void 0:t.bidderCode)||(null===(a=n)||void 0===a?void 0:a.bidder),"bidCpmAdjustment");if(c&&"function"==typeof c)try{return c(e,Object.assign({},t),n)}catch(e){(0,o.H)("Error during bid adjustment",e)}return e}},174:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var i=n(265);function r(e){return null==e||!e.gdprApplies||!0===(0,i.Z)(e,"vendorData.purpose.consents.1")}},113:function(e,t,n){"use strict";n.d(t,{A:function(){return b},Bf:function(){return f},V6:function(){return m},g3:function(){return h}});var i=n(395);const r="performanceMetrics",o=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),a=new WeakMap;function s(){let{now:e=o,mkNode:t=u,mkTimer:n=c,mkRenamer:i=(e=>e),nodes:r=a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){return function o(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>({forEach(t){t(e)}});s=i(s);const d=(c="timestamps",function(e){return a.dfWalk({visit(t,n){const i=n[c];if(i.hasOwnProperty(e))return i[e]}})});var c;function u(e,t){const n=s(e);a.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,i){n.forEach((n=>{null==e?i.metrics[n]=t:(i.groups.hasOwnProperty(n)||(i.groups[n]=[]),i.groups[n].push(t))}))}})}function l(t){return n(e,(e=>u(t,e)))}function p(){let e={};return a.dfWalk({visit(t,n){e=Object.assign({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}const f={startTiming:l,measureTime:function(e,t){return l(e).stopAfter(t)()},measureHookTime:function(e,t,n){const i=l(e);return n(function(e){const t=i.stopBefore(e);return t.bail=e.bail&&i.stopBefore(e.bail),t.stopTiming=i,t.untimed=e,t}(t))},checkpoint:function(t){a.timestamps[t]=e()},timeSince:function(t,n){const i=d(t),r=null!=i?e()-i:null;return null!=n&&u(n,r),r},timeBetween:function(e,t,n){const i=d(e),r=d(t),o=null!=i&&null!=r?r-i:null;return null!=n&&u(n,o),o},setMetric:u,getMetrics:p,fork:function(){let{propagate:e=!0,stopPropagation:n=!1,includeGroups:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t([[a,{propagate:e,stopPropagation:n,includeGroups:i}]]),s)},join:function(e){let{propagate:t=!0,stopPropagation:n=!1,includeGroups:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=r.get(e);null!=o&&o.addParent(a,{propagate:t,stopPropagation:n,includeGroups:i})},newMetrics:function(){return o(a.newSibling(),s)},renameWith:function(e){return o(a,e)},toJSON:()=>p()};return r.set(f,a),f}(t([]))}}function d(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function c(e,t){const n=e();let i=!1;function r(){i||(t(e()-n),i=!0)}return r.stopBefore=e=>d(e,r),r.stopAfter=e=>d(e,null,r),r}function u(e){return{metrics:{},timestamps:{},groups:{},addParent(t,n){e.push([t,n])},newSibling:()=>u(e.slice()),dfWalk(){let t,{visit:n,follow:i=(()=>!0),visited:r=new Set,inEdge:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.has(this)){if(r.add(this),t=n(o,this),null!=t)return t;for(const[a,s]of e)if(i(o,s)&&(t=a.dfWalk({visit:n,follow:i,visited:r,inEdge:s}),null!=t))return t}}}}const l=(()=>{const e=function(){},t=()=>({}),n={forEach:e},i=()=>null;i.stopBefore=e=>e,i.stopAfter=e=>e;const r=Object.defineProperties({dfWalk:e,newSibling:()=>r,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return s({now:()=>0,mkNode:()=>r,mkRenamer:()=>()=>n,mkTimer:()=>i,nodes:{get:e,set:e}})()})();let p=!0;function f(e){return p&&e||l}i.vc.getConfig(r,(e=>{p=!!e[r]}));const m=(()=>{const e=s();return function(){return p?e():l}})();function g(e,t){return function(n,i){return function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];const d=this;return f(t.apply(d,a)).measureHookTime(e+n,r,(function(e){return i.call(d,e,...a)}))}}}const h=g("requestBids.",(e=>e.metrics)),b=g("addBidResponse.",((e,t)=>t.metrics))},409:function(e,t,n){"use strict";n.d(t,{P:function(){return f},Z:function(){return l}});var i=n(33),r=n(92);function o(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function a(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}const s=0,d=1;var c=new WeakMap,u=new WeakMap;class l{static timeout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new l((t=>{0===e?t():setTimeout(t,e)}))}constructor(e){if(o(this,c,{writable:!0,value:void 0}),o(this,u,{writable:!0,value:void 0}),"function"!=typeof e)throw new Error("resolver not a function");const t=[],n=[];let[i,a]=[s,d].map((e=>function(r){if(e===s&&"function"==typeof(null==r?void 0:r.then))r.then(i,a);else if(!t.length)for(t.push(e,r);n.length;)n.shift()()}));try{e(i,a)}catch(e){a(e)}(0,r.Z)(this,c,t),(0,r.Z)(this,u,n)}then(e,t){const n=(0,i.Z)(this,c);return new this.constructor(((r,o)=>{const a=()=>{let i=n[1],[a,d]=n[0]===s?[e,r]:[t,o];if("function"==typeof a){try{i=a(i)}catch(e){return void o(e)}d=r}d(i)};n.length?a():(0,i.Z)(this,u).push(a)}))}catch(e){return this.then(null,e)}finally(e){let t;return this.then((n=>(t=n,e())),(n=>(t=this.constructor.reject(n),e()))).then((()=>t))}static race(e){return new this(((t,n)=>{a(this,l,p).call(this,e,((e,i)=>e?t(i):n(i)))}))}static all(e){return new this(((t,n)=>{let i=[];a(this,l,p).call(this,e,((e,t,r)=>e?i[r]=t:n(t)),(()=>t(i)))}))}static allSettled(e){return new this((t=>{let n=[];a(this,l,p).call(this,e,((e,t,i)=>n[i]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(n)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,n)=>n(e)))}}function p(e,t,n){let i=e.length;function r(){t.apply(this,arguments),--i<=0&&n&&n()}0===e.length&&n?n():e.forEach(((e,t)=>this.resolve(e).then((e=>r(!0,e,t)),(e=>r(!1,e,t)))))}function f(){let e,t,{promiseFactory:n=(e=>new l(e))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function i(e){return t=>e(t)}return{promise:n(((n,i)=>{e=n,t=i})),resolve:i(e),reject:i(t)}}},756:function(e,t,n){"use strict";n.d(t,{Dn:function(){return u},LD:function(){return c},gZ:function(){return d}});var i=n(265),r=n(488),o=n(395),a=n(421),s=n(489);const d="outstream",c="instream";function u(e){let{index:t=s.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,i.Z)(t.getMediaTypes(e),"video"),r=n&&(0,i.Z)(n,"context"),o=n&&(0,i.Z)(n,"useCacheKey"),a=t.getAdUnit(e);return l(e,a,n,r,o)}const l=(0,a.z3)("sync",(function(e,t,n,i,a){return n&&(a||i!==d)?o.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,r.H)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pubtech_pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(i===d&&!a)||!!(e.renderer||t&&t.renderer||n.renderer)}),"checkVideoBidSetup")},611:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,n="",i=this.t,r=this.DB-i*this.DB%4;if(i-- >0)for(r<this.DB&&(e=this[i]>>r)>0&&(t=!0,n=l(e));i>=0;)r<4?(e=(this[i]&(1<<r)-1)<<4-r,e|=this[--i]>>(r+=this.DB-4)):(e=this[i]>>(r-=4)&15,r<=0&&(r+=this.DB,--i)),e>0&&(t=!0),t&&(n+=l(e));return t?n:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var n=t.length,i=!1,r=0;--n>=0;){var o=c(t,n);o<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==r?this[this.t++]=o:r+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,(r+=4)>=this.DB&&(r-=this.DB))}0,this.clamp(),i&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=r();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var n=r();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,i=this.DB-n,r=(1<<i)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>i|a,a=(this[s]&r)<<n;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,n){var i=this.abs(),r=t.abs(),o=i.t;for(n.t=o+r.t;--o>=0;)n[o]=0;for(o=0;o<r.t;++o)n[o+i.t]=i.am(0,r[o],n,o,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.divRemTo=function(t,n,i){var a=t.abs();if(!(a.t<=0)){var s=this.abs();if(s.t<a.t)return null!=n&&n.fromHexString("0"),void(null!=i&&this.copyTo(i));null==i&&(i=r());var d=r(),c=this.s,u=t.s,l=this.DB-o(a[a.t-1]);l>0?(a.lShiftTo(l,d),s.lShiftTo(l,i)):(a.copyTo(d),s.copyTo(i));var p=d.t,f=d[p-1];if(0!=f){var m=f*(1<<this.F1)+(p>1?d[p-2]>>this.F2:0),g=this.FV/m,h=(1<<this.F1)/m,b=1<<this.F2,y=i.t,v=y-p,_=null==n?r():n;for(d.dlShiftTo(v,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),e.ONE.dlShiftTo(p,_),_.subTo(d,d);d.t<p;)d[d.t++]=0;for(;--v>=0;){var I=i[--y]==f?this.DM:Math.floor(i[y]*g+(i[y-1]+b)*h);if((i[y]+=d.am(0,I,i,v,0,p))<I)for(d.dlShiftTo(v,_),i.subTo(_,i);i[y]<--I;)i.subTo(_,i)}null!=n&&(i.drShiftTo(p,n),c!=u&&e.ZERO.subTo(n,n)),i.t=p,i.clamp(),l>0&&i.rShiftTo(l,i),c<0&&e.ZERO.subTo(i,i)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<r,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new m(t):new g(t),this.exp(e,n)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var i=r(),a=r(),s=n.convert(this),d=o(t)-1;for(s.copyTo(i);--d>=0;)if(n.sqrTo(i,a),(t&1<<d)>0)n.mulTo(a,s,i);else{var c=i;i=a,a=c}return n.revert(i)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.am1=function(e,t,n,i,r,o){for(;--o>=0;){var a=t*this[e++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},e.prototype.am2=function(e,t,n,i,r,o){for(var a=32767&t,s=t>>15;--o>=0;){var d=32767&this[e],c=this[e++]>>15,u=s*d+c*a;r=((d=a*d+((32767&u)<<15)+n[i]+(1073741823&r))>>>30)+(u>>>15)+s*c+(r>>>30),n[i++]=1073741823&d}return r},e.prototype.am3=function(e,t,n,i,r,o){for(var a=16383&t,s=t>>14;--o>=0;){var d=16383&this[e],c=this[e++]>>14,u=s*d+c*a;r=((d=a*d+((16383&u)<<14)+n[i]+r)>>28)+(u>>14)+s*c,n[i++]=268435455&d}return r},e}();function r(){return new i(null)}function o(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}t.BigInteger=i,t.nbi=r,t.nbits=o;var a,s,d=[];for(a="0".charCodeAt(0),s=0;s<=9;++s)d[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)d[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)d[a++]=s;function c(e,t){var n=d[e.charCodeAt(t)];return null==n?-1:n}t.intAt=c;var u="0123456789abcdefghijklmnopqrstuvwxyz";function l(e){return u.charAt(e)}t.int2char=l;var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="=";t.b64toHex=function(e){var t,n="",i=0,r=0;for(t=0;t<e.length&&e.charAt(t)!=f;++t){var o=p.indexOf(e.charAt(t));o<0||(0==i?(n+=l(o>>2),r=3&o,i=1):1==i?(n+=l(r<<2|o>>4),r=15&o,i=2):2==i?(n+=l(r),n+=l(o>>2),r=3&o,i=3):(n+=l(r<<2|o>>4),n+=l(15&o),i=0))}return 1==i&&(n+=l(r<<2)),n},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var m=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),g=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function h(e){var t=r();return t.fromHexString(e.toString()),t}t.nbv=h,i.ZERO=h(0),i.ONE=h(1),"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=i.prototype.am2,n=30):"Netscape"!=navigator.appName?(i.prototype.am=i.prototype.am1,n=26):(i.prototype.am=i.prototype.am3,n=28),i.prototype.DB=n,i.prototype.DM=(1<<n)-1,i.prototype.DV=1<<n;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-n,i.prototype.F2=2*n-52},950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(r/16),a=new Array(o),s=0;s<o;s++){a[s]=new Array(16);for(var d=0;d<16;d++)a[s][d]=t.charCodeAt(64*s+4*d)<<24|t.charCodeAt(64*s+4*d+1)<<16|t.charCodeAt(64*s+4*d+2)<<8|t.charCodeAt(64*s+4*d+3)<<0}var c=8*(t.length-1)/Math.pow(2,32),u=8*(t.length-1)>>>0;a[o-1][14]=Math.floor(c),a[o-1][15]=u;for(s=0;s<o;s++){for(var l=new Array(64),p=0;p<16;p++)l[p]=a[s][p];for(p=16;p<64;p++)l[p]=e.q1(l[p-2])+l[p-7]+e.q0(l[p-15])+l[p-16]>>>0;var f=i[0],m=i[1],g=i[2],h=i[3],b=i[4],y=i[5],v=i[6],_=i[7];for(p=0;p<64;p++){var I=_+e.z1(b)+e.Ch(b,y,v)+n[p]+l[p],T=e.z0(f)+e.Maj(f,m,g);_=v,v=y,y=b,b=h+I>>>0,h=g,g=m,m=f,f=I+T>>>0}i[0]=i[0]+f>>>0,i[1]=i[1]+m>>>0,i[2]=i[2]+g>>>0,i[3]=i[3]+h>>>0,i[4]=i[4]+b>>>0,i[5]=i[5]+y>>>0,i[6]=i[6]+v>>>0,i[7]=i[7]+_>>>0}var E=new Array(i.length);for(_=0;_<i.length;_++)E[_]=("00000000"+i[_].toString(16)).slice(-8);return E.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,n){return e&t^~e&n},e.Maj=function(e,t,n){return e&t^e&n^t&n},e}();t.Sha256=n},582:function(e,t,n){"use strict";var i=n(611),r=n(950);t.T=function(e,t,n,o){var a=new i.BigInteger(i.b64toHex(t)),s=new i.BigInteger(i.b64toHex(n)),d=a.modPowInt(o,s);return i.removeExtraSymbols(d.toHexString())===r.Sha256.hash(e)}},265:function(e,t,n){"use strict";function i(e,t,n,i,r){for(t=t.split?t.split("."):t,i=0;i<t.length;i++)e=e?e[t[i]]:r;return e===r?n:e}n.d(t,{Z:function(){return i}})},432:function(e){s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var t="fun-hooks";var n=Object.freeze({useProxy:!0,ready:0}),i=new WeakMap,r="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,i=Object(this),r=i.length>>>0,o=0;if(t)n=t;else{for(;o<r&&!(o in i);)o++;n=i[o++]}for(;o<r;)o in i&&(n=e(n,i[o],o,i)),o++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var a=Object.assign||function(e){return r.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function s(e){var d,c={},u=[];function l(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?p.apply(null,arguments):void 0}function p(e,t,n){var i=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),i=!1);var r={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var i=t.split(":"),o=i[0],a=i[1]||"sync";if(!r[o]){var s=e[o];r[o]=e[o]=g(a,s,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(i&&e);return r}function f(e){var n=Array.isArray(e)?e:e.split(".");return r.call(n,(function(i,r,o){var a=i[r],s=!1;return a||(o===n.length-1?(d||u.push((function(){s||console.warn(t+": referenced '"+e+"' but it was never created")})),i[r]=m((function(e){i[r]=e,s=!0}))):i[r]={})}),c)}function m(e){var t=[],n=[],r=function(){},o={before:function(e,n){return d.call(this,t,"before",e,n)},after:function(e,t){return d.call(this,n,"after",e,t)},getHooks:function(e){var i=t.concat(n);"object"==typeof e&&(i=i.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{a(i,{remove:function(){return i.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return i},removeAll:function(){return this.getHooks().remove()}},s={install:function(i,o,a){this.type=i,r=a,a(t,n),e&&e(o)}};return i.set(o.after,s),o;function d(e,i,o,a){var s={hook:o,type:i,priority:a||10,remove:function(){var i=e.indexOf(s);-1!==i&&(e.splice(i,1),r(t,n))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),r(t,n),this}}function g(n,r,c){var l=r.after&&i.get(r.after);if(l){if(l.type!==n)throw t+": recreated hookable with different type";return r}var p,g,h=c?f(c):m(),b={get:function(e,t){return h[t]||Reflect.get.apply(Reflect,arguments)}};return d||u.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(r,b):(g=function(){return b.apply?b.apply(r,this,o(arguments)):r.apply(this,arguments)},a(g,h)),i.get(g.after).install(n,g,(function(e,t){var i,r=[];e.length||t.length?(e.forEach(a),i=r.push(void 0)-1,t.forEach(a),p=function(e,t,a){var s,d=0,c="async"===n&&"function"==typeof a[a.length-1]&&a.pop();function u(e){"sync"===n?s=e:c&&c.apply(null,arguments)}function l(e){if(r[d]){var i=o(arguments);return l.bail=u,i.unshift(l),r[d++].apply(t,i)}"sync"===n?s=e:c&&c.apply(null,arguments)}return r[i]=function(){var i=o(arguments,1);"async"===n&&c&&(delete l.bail,i.push(l));var r=e.apply(t,i);"sync"===n&&l(r)},l.apply(null,a),s}):p=void 0;function a(e){r.push(e.hook)}y()})),g;function y(){!d&&("sync"!==n||e.ready&s.SYNC)&&("async"!==n||e.ready&s.ASYNC)?"sync"!==n&&e.ready&s.QUEUE?b.apply=function(){var e=arguments;u.push((function(){g.apply(e[1],e[2])}))}:b.apply=function(){throw t+": hooked function not ready"}:b.apply=p}}return(e=a({},n,e)).ready?l.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(u)}:d=!0,l.get=f,l}e.exports=s},79:function(e){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var i in t){var r=t[i];n[i]=r&&"object"==typeof r?e(r):r}return n}},519:function(e,t,n){"use strict";function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{Z:function(){return i}})},33:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(519);function r(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,i.Z)(e,t,"get"))}},92:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(519);function r(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,(0,i.Z)(e,t,"set"),n),n}},999:function(e){"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={};!function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class t{constructor(){e(this,"head",void 0),e(this,"onReadyScriptQueue",{}),e(this,"readyScript",[]),this.head=document.head||document.getElementsByTagName("head")[0]}static getInstance(){return t.instance||(t.instance=new t),t.instance}loadScript(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=document.createElement("script");r.type="text/javascript",r.async=!0,r.setAttribute("data-cfasync","false"),r.src=e,void 0===this.onReadyScriptQueue[n]&&(this.onReadyScriptQueue[n]=[]),r.onload=function(){"function"==typeof t&&t(),"string"==typeof n&&(this.readyScript.push(n),this.onReadyScriptQueue[n].forEach((e=>{e()})))}.bind(this),null===i?this.head.appendChild(r):document.body.appendChild(r)}loadCssFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.href=e,null===t?this.head.appendChild(n):document.body.appendChild(n)}onReadyScript(e,t){if("function"!=typeof t)throw new TypeError("onScriptLoaded must be a function");this.readyScript.includes(e)?t():("object"!=typeof this.onReadyScriptQueue[e]&&(this.onReadyScriptQueue[e]=[]),this.onReadyScriptQueue[e].push(t))}preloadScriptAndLoad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=document.createElement("link");n.rel="preload",n.href=e,n.as="script",this.head.prepend(n),this.loadScript(e,t)}prefetchUrl(e){this.createLinkWithRel(e,"preconnect"),this.createLinkWithRel(e,"dns-prefetch")}createLinkWithRel(e,t){const n=document.createElement("link");n.rel=t,n.href=e,this.head.append(n)}}e(t,"instance",void 0);var n=__webpack_require__(272),i=__webpack_require__(488),r=__webpack_require__(265);function o(e,t,n){t.split&&(t=t.split("."));for(var i,r,o=0,a=t.length,s=e;o<a&&"__proto__"!==(r=t[o++])&&"constructor"!==r&&"prototype"!==r;)s=s[r]=o===a?n:typeof(i=s[r])==typeof t?i:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}var a=__webpack_require__(786),s=__webpack_require__(487),d=__webpack_require__(999),c=__webpack_require__(489),u=__webpack_require__(450),l=__webpack_require__(517),p=__webpack_require__(395);const{AD_RENDER_FAILED:f,AD_RENDER_SUCCEEDED:m}=d.EVENTS;function g(e){let{reason:t,message:n,bid:r,id:o}=e;const s={reason:t,message:n};r&&(s.bid=r),o&&(s.adId=o),(0,i.H)(n),a.j8(f,s)}function h(e){let{doc:t,bid:n,id:i}=e;const r={doc:t};n&&(r.bid=n),i&&(r.adId=i),a.j8(m,r)}const b=d.EVENTS.BID_WON,y=d.EVENTS.STALE_RENDER,v=new WeakSet,_={"Prebid Request":function(e,t,n){if(null==n)return void g({reason:d.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:`Cannot find ad '${t.adId}' for cross-origin render request`,id:t.adId});if(n.status===d.BID_STATUS.RENDERED&&((0,i.yN)(`Ad id ${n.adId} has been rendered before`),a.j8(y,n),(0,r.Z)(p.vc.getConfig("auctionOptions"),"suppressStaleRender")))return;try{!function(e,t){const{adId:n,ad:r,adUrl:o,width:a,height:s,renderer:d,cpm:c,originalCpm:u}=e;(0,l.Pd)(d)?(0,l._U)(d,e):n&&(T(e),t({message:"Prebid Response",ad:(0,i.ew)(r,u||c),adUrl:(0,i.ew)(o,u||c),adId:n,width:a,height:s}))}(n,e)}catch(e){return void g({reason:d.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:n})}c.K.addWinningBid(n),a.j8(b,n)},"Prebid Event":function(e,t,n){if(null==n)return void(0,i.H)(`Cannot find ad '${t.adId}' for x-origin event request`);if(n.status!==d.BID_STATUS.RENDERED)return void(0,i.yN)(`Received x-origin event request without corresponding render request for ad '${t.adId}'`);switch(t.event){case d.EVENTS.AD_RENDER_FAILED:g({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case d.EVENTS.AD_RENDER_SUCCEEDED:h({doc:null,bid:n,id:t.adId});break;default:(0,i.H)(`Received x-origin event request for unsupported event: '${t.event}' (adId: '${t.adId}')`)}}};function I(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message){const t=(0,u.sE)(c.K.getBidsReceived(),(function(e){return e.adId===n.adId}));_.hasOwnProperty(n.message)&&_[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,i.H)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,t)}}function T(e){let{adId:t,adUnitCode:n,width:r,height:o}=e;["div","iframe"].forEach((e=>{let a=function(e){let r=function(e,t){return(0,i.T9)()?function(e){const t=(0,u.sE)(window.googletag.pubads().getSlots(),(t=>(0,u.sE)(t.getTargetingKeys(),(n=>(0,u.q9)(t.getTargeting(n),e)))));return t?t.getSlotElementId():null}(e):(0,i.X4)()?function(e){let t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),o=document.getElementById(r);return o&&o.querySelector(e)}(e+':not([style*="display: none"])');if(a){let e=a.style;e.width=r?r+"px":"100%",e.height=o+"px"}else(0,i.yN)(`Unable to locate matching page element for adUnitCode ${n}.  Can't resize it to ad's dimensions.  Please review setup.`)}))}Object.assign(_,{"Prebid Native":function(e,t,n){if(null==n)return void(0,i.H)(`Cannot find ad '${t.adId}' for x-origin event request`);v.has(n)||(v.add(n),c.K.addWinningBid(n),a.j8(b,n));switch(t.action){case"assetRequest":e((0,s.eK)(t,n));break;case"allAssetRequest":e((0,s.JL)(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,T(n);break;default:(0,s.e6)(t,n)}}});var E=__webpack_require__(824),w=__webpack_require__(777),S=__webpack_require__(421),C=__webpack_require__(190),A=[];const x=20;let O=1;p.vc.getConfig("ttlBuffer",(e=>{"number"==typeof e.ttlBuffer?O=e.ttlBuffer:(0,i.H)("Invalid value for ttlBuffer",e.ttlBuffer)}));const k="targetingControls.allowTargetingKeys",D="targetingControls.addTargetingKeys",R=`Only one of "${k}" or "${D}" can be set`,N=Object.keys(d.TARGETING_KEYS).map((e=>d.TARGETING_KEYS[e]));let B={isActualBid:e=>e.getStatusCode()===d.STATUS.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:O))>(0,i.AB)(),isUnusedBid:e=>e&&(e.status&&!(0,u.q9)([d.BID_STATUS.RENDERED],e.status)||!e.status)};function P(e){return!Object.values(B).some((t=>!t(e)))}const U=(0,S.z3)("sync",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){const r=[],o=p.vc.getConfig("sendBidsControl.dealPrioritization");let a=(0,i.vM)(e,"adUnitCode");return Object.keys(a).forEach((e=>{let s=[],d=(0,i.vM)(a[e],"bidderCode");Object.keys(d).forEach((e=>s.push(d[e].reduce(t)))),n>0?(s=o?s.sort(j(!0)):s.sort(((e,t)=>t.cpm-e.cpm)),r.push(...s.slice(0,n))):r.push(...s)})),r}return e}));function j(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}const M=function(e){let t={},n={};function o(e,t){return e.adserverTargeting&&t&&((0,i.kJ)(t)&&(0,u.q9)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function a(t){return"string"==typeof t?[t]:(0,i.kJ)(t)?t:e.getAdUnitCodes()||[]}function c(){let t=e.getBidsReceived();if(p.vc.getConfig("useBidCache")){const e=p.vc.getConfig("bidCacheFilterFunction");"function"==typeof e&&(t=t.filter((t=>n[t.adUnitCode]===t.auctionId||!!e(t))))}else t=t.filter((e=>n[e.adUnitCode]===e.auctionId));return t=t.filter((e=>(0,r.Z)(e,"video.context")!==w.Oh)).filter(P),U(t,i.K$)}function l(e,n){let i=t.getWinningBids(e,n),r=f();return i=i.map((e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter((t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===r.indexOf(t))).reduce(((t,n)=>{const i=[e.adserverTargeting[n]],r={[n.substring(0,x)]:i};if(n===d.TARGETING_KEYS.DEAL){const o={[`${n}_${e.bidderCode}`.substring(0,x)]:i};return[...t,r,o]}return[...t,r]}),[])}))),i}function f(){return e.getStandardBidderAdServerTargeting().map((e=>e.key)).concat(N).filter(i.tT)}function m(e,t,n,r){return Object.keys(t.adserverTargeting).filter(g()).forEach((n=>{e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){(0,i.kJ)(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.tT),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function g(){let e=f();return e=e.concat(s.xc),function(t){return-1===e.indexOf(t)}}function h(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(g()).map((t=>({[t.substring(0,x)]:[e.adserverTargeting[t]]})))}}function b(e,t){return t.map((t=>({[`${t}_${e.bidderCode}`.substring(0,x)]:[e.adserverTargeting[t]]})))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if((0,i.T9)()){const r=a(t),o=e.getAdUnits().filter((e=>(0,u.q9)(r,e.code)));let s=A.reduce(((e,t)=>(e[t]=null,e)),{});window.googletag.pubads().getSlots().forEach((e=>{let t=(0,i.LQ)(n)&&n(e);o.forEach((n=>{(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||(0,i.LQ)(t)&&t(n.code))&&e.updateTargetingFromMap(s)}))}))}},t.resetPresetTargetingAST=function(e){a(e).forEach((function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const n=Object.keys(t.keywords),i={};n.forEach((e=>{(0,u.q9)(A,e.toLowerCase())||(i[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:i})}}))},t.getAllTargeting=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();const f=a(t);var g=l(f,n).concat(function(e,t){return t.filter((t=>(0,u.q9)(e,t.adUnitCode))).map((e=>Object.assign({},e))).reduce(m,[]).map(h).filter((e=>e))}(f,n)).concat(p.vc.getConfig("enableSendAllBids")?function(e,t){const n=N.concat(s.xc),r=p.vc.getConfig("sendBidsControl.bidLimit"),a=U(t,i.ZH,r),c=p.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),u=c?c.map((e=>d.TARGETING_KEYS[e])):n;return a.map((t=>{if(o(t,e))return{[t.adUnitCode]:b(t,n.filter((e=>void 0!==t.adserverTargeting[e]&&-1!==u.indexOf(e))))}})).filter((e=>e))}(f,n):function(e,t){if(!0===p.vc.getConfig("targetingControls.alwaysIncludeDeals")){const n=N.concat(s.xc);return U(t,i.ZH).map((t=>{if(t.dealId&&o(t,e))return{[t.adUnitCode]:b(t,n.filter((e=>void 0!==t.adserverTargeting[e])))}})).filter((e=>e))}return[]}(f,n)).concat(function(t){function n(e){return(0,r.Z)(e,d.JSON_MAPPING.ADSERVER_TARGETING)}function o(e){const t=n(e);return Object.keys(t).map((function(e){return(0,i.d8)(t[e])&&(t[e]=t[e].split(",").map((e=>e.trim()))),(0,i.kJ)(t[e])||(t[e]=[t[e]]),{[e]:t[e]}}))}return e.getAdUnits().filter((e=>(0,u.q9)(t,e.code)&&n(e))).map((e=>({[e.code]:o(e)})))}(f));g.map((e=>{Object.keys(e).map((t=>{e[t].map((e=>{-1===A.indexOf(Object.keys(e)[0])&&(A=Object.keys(e).concat(A))}))}))}));const y=Object.keys(Object.assign({},d.DEFAULT_TARGETING_KEYS,d.NATIVE_KEYS));let v=p.vc.getConfig(k);const _=p.vc.getConfig(D);if(null!=_&&null!=v)throw new Error(R);v=null!=_?y.concat(_):v||y,Array.isArray(v)&&v.length>0&&(g=function(e,t){const n=Object.assign({},d.TARGETING_KEYS,d.NATIVE_KEYS),r=Object.keys(n),o={};(0,i.PN)(`allowTargetingKeys - allowed keys [ ${t.map((e=>n[e])).join(", ")} ]`),e.map((e=>{const i=Object.keys(e)[0],a=e[i].filter((e=>{const i=Object.keys(e)[0],a=0===r.filter((e=>0===i.indexOf(n[e]))).length||(0,u.sE)(t,(e=>{const t=n[e];return 0===i.indexOf(t)}));return o[i]=!a,a}));e[i]=a}));const a=Object.keys(o).filter((e=>o[e]));return(0,i.PN)(`allowTargetingKeys - removed keys [ ${a.join(", ")} ]`),e.filter((e=>e[Object.keys(e)[0]].length>0))}(g,v)),g=function(e){let t=e.map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")}))).reduce(((e,t)=>Object.assign(t,e)),{})}))).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=Object.assign({},e[n],t[n]),e}),{});return t}(g);const I=p.vc.getConfig("targetingControls.auctionKeyMaxChars");return I&&((0,i.PN)(`Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ${I} characters.  Running checks on auction keys...`),g=function(e,t){let n=(0,i.I8)(e),r=Object.keys(n).map((e=>({adUnitCode:e,adserverTargeting:n[e]}))).sort(j());return r.reduce((function(e,r,o,a){let s=(d=r.adserverTargeting,Object.keys(d).reduce((function(e,t){return e+`${t}%3d${encodeURIComponent(d[t])}%26`}),""));var d;o+1===a.length&&(s=s.slice(0,-3));let c=r.adUnitCode,u=s.length;return u<=t?(t-=u,(0,i.PN)(`AdUnit '${c}' auction keys comprised of ${u} characters.  Deducted from running threshold; new limit is ${t}`,n[c]),e[c]=n[c]):(0,i.yN)(`The following keys for adUnitCode '${c}' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ${u}, the current allotted amount was ${t}.\n`,n[c]),o+1===a.length&&0===Object.keys(e).length&&(0,i.H)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(g,I)),f.forEach((e=>{g[e]||(g[e]={})})),g},p.vc.getConfig("targetingControls",(function(e){null!=(0,r.Z)(e,k)&&null!=(0,r.Z)(e,D)&&(0,i.H)(R)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((n=>{Object.keys(e).filter(t?t(n):(0,i.zV)(n)).forEach((t=>{Object.keys(e[t]).forEach((n=>{let i=e[t][n];"string"==typeof i&&-1!==i.indexOf(",")&&(i=i.split(",")),e[t][n]=i})),(0,i.ji)(`Attempting to set targeting-map for slot: ${n.getSlotElementId()} with targeting-map:`,e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();const n=a(e);return t.filter((e=>(0,u.q9)(n,e.adUnitCode))).filter((e=>!0===C.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0)).map((e=>e.adUnitCode)).filter(i.tT).map((e=>t.filter((t=>t.adUnitCode===e?t:null)).reduce(i.ZH)))},t.setTargetingForAst=function(e){let n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,i.H)("unable to reset targeting for AST"+e)}Object.keys(n).forEach((e=>Object.keys(n[e]).forEach((t=>{if((0,i.ji)(`Attempting to set targeting for targetId: ${e} key: ${t} value: ${n[e][t]}`),(0,i.d8)(n[e][t])||(0,i.kJ)(n[e][t])){let i={},r=/pt[0-9]/;t.search(r)<0?i[t.toUpperCase()]=n[e][t]:i[t]=n[e][t],window.apntag.setKeywords(e,i,{overrideKeyValue:!0})}}))))},t.isApntagDefined=function(){if(window.apntag&&(0,i.LQ)(window.apntag.setKeywords))return!0},t}(c.K);var q=__webpack_require__(239),L=__webpack_require__(821),z=__webpack_require__(409);const F="__pubtech_pbjs_debugging__";function $(){return(0,n.R)().installedModules.includes("debugging")}function H(e){return new z.Z((t=>{(0,L.B)(e,"debugging",t)}))}function Z(){let{alreadyInstalled:e=$,script:t=H}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null;return function(){return null==r&&(r=new z.Z(((r,o)=>{setTimeout((()=>{if(e())r();else{const e="https://cdn.jsdelivr.net/npm/prebid.js@7.41.0/dist/debugging-standalone.js";(0,i.ji)(`Debugging module not installed, loading it from "${e}"...`),(0,n.R)()._installDebugging=!0,t(e).then((()=>{(0,n.R)()._installDebugging({DEBUG_KEY:F,hook:S.z3,config:p.vc,createBid:q.m,logger:(0,i.qp)("DEBUG:")})})).then(r,o)}}))}))),r}}const G=function(){let{load:e=Z(),hook:t=(0,S.v5)("requestBids")}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null,i=!1;function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return(n||z.Z.resolve()).then((()=>e.apply(this,i)))}function o(){t.getHooks({hook:r}).remove(),i=!1}return{enable:function(){i||(n=e(),t.before(r,99),i=!0)},disable:o,reset:function(){n=null,o()}}}();G.reset;p.vc.getConfig("debugging",(function(e){let{debugging:t}=e;null!=t&&t.enabled?G.enable():G.disable()}));var W=__webpack_require__(570),V=__webpack_require__(125),K=__webpack_require__(873),X=__webpack_require__(113),J=__webpack_require__(386);const Y=(0,V.eA)(),Q=(0,i.HP)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!Y.cookiesAreEnabled())return e;const t=e.split(".");if(2===t.length)return e;let n,r,o=-2;const a=`_rdc${Date.now()}`,s="writeable";do{n=t.slice(o).join(".");let e=new Date((0,i.AB)()+1e4).toUTCString();Y.setCookie(a,s,e,"Lax",n,void 0);Y.getCookie(a,void 0)===s?(r=!1,Y.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,n,void 0)):(o+=-1,r=Math.abs(o)<=t.length)}while(r);return n})),ee=1,te=2,ne=["architecture","bitness","model","platformVersion","fullVersionList"],ie=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData;const n=(0,i.xb)(t)?null:Object.freeze(oe(ee,t));return function(){return n}}(),re=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData;const n={},r=new WeakMap;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;if(!r.has(e)){const t=Array.from(e);t.sort(),r.set(e,t.join("|"))}const o=r.get(e);if(!n.hasOwnProperty(o))try{n[o]=t.getHighEntropyValues(e).then((e=>(0,i.xb)(e)?null:Object.freeze(oe(te,e)))).catch((()=>null))}catch(e){n[o]=z.Z.resolve(null)}return n[o]}}();function oe(e,t){function n(e,t){const n={brand:e};return(0,i.d8)(t)&&!(0,i.jH)(t)&&(n.version=t.split(".")),n}const r={source:e};return t.platform&&(r.platform=n(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(r.browsers=(t.fullVersionList||t.brands).map((e=>{let{brand:t,version:i}=e;return n(t,i)}))),t.hasOwnProperty("mobile")&&(r.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((e=>{const n=t[e];(0,i.d8)(n)&&(r[e]=n)})),r}const ae={getRefererInfo:J.nH,findRootDomain:Q,getWindowTop:i.Zy,getWindowSelf:i.e7,getHighEntropySUA:re,getLowEntropySUA:ie},se=(0,S.z3)("sync",(e=>z.Z.all([e,ce().catch((()=>null))]).then((e=>{let[t,n]=e;return Object.entries(ue).forEach((e=>{let[n,r]=e;const o=r();o&&Object.keys(o).length>0&&(t[n]=(0,i.Ee)({},o,t[n]))})),n&&o(t,"device.sua",Object.assign({},n,t.device.sua)),t}))));function de(e){try{return e(ae.getWindowTop())}catch(t){return e(ae.getWindowSelf())}}function ce(){const e=p.vc.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0===e.length?z.Z.resolve(ae.getLowEntropySUA()):ae.getHighEntropySUA(e)}const ue={site(){var e,t,n;const r=ae.getRefererInfo(),o=(0,J.hh)(r.page,{noLeadingWww:!0}),a=null===(e=de((e=>e.document.querySelector("meta[name='keywords']"))))||void 0===e||null===(t=e.content)||void 0===t||null===(n=t.replace)||void 0===n?void 0:n.call(t,/\s/g,"");return s={page:r.page,ref:r.ref,domain:o,keywords:a,publisher:{domain:ae.findRootDomain(o)}},(0,i.iG)(s,Object.keys(s));var s},device:()=>de((e=>({w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,i.oV)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}))),regs(){const e={};de((e=>e.navigator.globalPrivacyControl))&&o(e,"ext.gpc",1);const t=p.vc.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}},le=(0,n.R)(),{triggerUserSyncs:pe}=E.k_,{ADD_AD_UNITS:fe,BID_WON:me,REQUEST_BIDS:ge,SET_TARGETING:he,STALE_RENDER:be}=d.EVENTS,{PREVENT_WRITING_ON_MAIN_DOCUMENT:ye,NO_AD:ve,EXCEPTION:_e,CANNOT_FIND_AD:Ie,MISSING_DOC_OR_ADID:Te}=d.AD_RENDER_FAILED_REASON,Ee={bidWon:function(e){var t=c.K.getBidsRequested().map((e=>e.bids.map((e=>e.adUnitCode)))).reduce(i.xH).filter(i.tT);if(!(0,i.r3)(t,e))return void(0,i.H)('The "'+e+'" placement is not defined.');return!0}};function we(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function Se(e,t){let n=[];return(0,i.kJ)(e)&&(t?e.length===t:e.length>0)&&(e.every((e=>(0,i.HC)(e,2)))?n=e:(0,i.HC)(e,2)&&n.push(e)),n}function Ce(e){const t=(0,i.I8)(e),n=t.mediaTypes.banner,r=Se(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):((0,i.H)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Ae(e){const t=(0,i.I8)(e),n=t.mediaTypes.video;if(n.playerSize){let e="number"==typeof n.playerSize[0]?2:1;const r=Se(n.playerSize,e);r.length>0?(2===e&&(0,i.PN)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=r,t.sizes=r):((0,i.H)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function xe(e){const t=(0,i.I8)(e),n=t.mediaTypes.native;if(n.ortb){const e=Object.keys(d.NATIVE_KEYS).filter((e=>d.NATIVE_KEYS[e].includes("hb_native_"))),r=Object.keys(n).filter((t=>e.includes(t)));r.length>0&&((0,i.H)(`when using native OpenRTB format, you cannot use legacy native properties. Deleting ${r} keys from request.`),r.forEach((e=>delete t.mediaTypes.native[e])))}return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&((0,i.H)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&((0,i.H)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&((0,i.H)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Oe(e,t){let n=(0,r.Z)(e,`mediaTypes.${t}.pos`);if(!(0,i.hj)(n)||isNaN(n)||!isFinite(n)){let n=`Value of property 'pos' on ad unit ${e.code} should be of type: Number`;(0,i.yN)(n),a.j8(d.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:n}),delete e.mediaTypes[t].pos}return e}function ke(e){const t=t=>`adUnit.code '${e.code}' ${t}`,n=e.mediaTypes,r=e.bids;return null==r||(0,i.kJ)(r)?null==r&&null==e.ortb2Imp?((0,i.H)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],(0,i.ji)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,i.H)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,i.H)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=G,n=null;try{n=e.getItem(F)}catch(e){}null!==n&&t.enable()}}(),le.bidderSettings=le.bidderSettings||{},le.libLoaded=!0,le.version="v7.41.0",(0,i.PN)("Prebid.js v7.41.0 loaded"),le.installedModules=le.installedModules||[],le.adUnits=le.adUnits||[],le.triggerUserSyncs=pe;const De={validateAdUnit:ke,validateBannerMediaType:Ce,validateVideoMediaType:Ae,validateSizes:Se};Object.assign(De,{validateNativeMediaType:xe});const Re=(0,S.z3)("sync",(function(e){const t=[];return e.forEach((e=>{if(null==(e=ke(e)))return;const n=e.mediaTypes;let i,r,o;n.banner&&(i=Ce(e),n.banner.hasOwnProperty("pos")&&(i=Oe(i,"banner"))),n.video&&(r=Ae(i||e),n.video.hasOwnProperty("pos")&&(r=Oe(r,"video"))),n.native&&(o=xe(r||(i||e)));const a=Object.assign({},i,r,o);t.push(a)})),t}),"checkAdUnitSetup");function Ne(e){const t=c.K[e]().filter(i.ak.call(i.IK,this,c.K.getAdUnitCodes())),n=c.K.getLastAuctionId();return t.map((e=>e.adUnitCode)).filter(i.tT).map((e=>t.filter((t=>t.auctionId===n&&t.adUnitCode===e)))).filter((e=>e&&e[0]&&e[0].adUnitCode)).map((e=>({[e[0].adUnitCode]:{bids:e}}))).reduce(((e,t)=>Object.assign(e,t)),{})}function Be(e,t,n){const r=t.querySelector(n);e.parentNode&&e.parentNode===r||(0,i.jC)(e,t,n)}le.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,i.PN)("Invoking pubtech_pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=le.getAdserverTargetingForAdUnitCode(e);return(0,i.Ob)(t)}(0,i.ji)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},le.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=c.K.getAllBidsForAdUnitCode(e).filter(P);return t.length?t.reduce(i.ZH):{}}(0,i.ji)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},le.getAdserverTargetingForAdUnitCode=function(e){return le.getAdserverTargeting(e)[e]},le.getAdserverTargeting=function(e){return(0,i.PN)("Invoking pubtech_pbjs.getAdserverTargeting",arguments),M.getAllTargeting(e)},le.getConsentMetadata=function(){return(0,i.PN)("Invoking pubtech_pbjs.getConsentMetadata"),{gdpr:K.rp.getConsentMeta(),usp:K.nX.getConsentMeta(),gpp:K.TJ.getConsentMeta(),coppa:!!p.vc.getConfig("coppa")}},le.getNoBids=function(){return(0,i.PN)("Invoking pubtech_pbjs.getNoBids",arguments),Ne("getNoBids")},le.getNoBidsForAdUnitCode=function(e){return{bids:c.K.getNoBids().filter((t=>t.adUnitCode===e))}},le.getBidResponses=function(){return(0,i.PN)("Invoking pubtech_pbjs.getBidResponses",arguments),Ne("getBidsReceived")},le.getBidResponsesForAdUnitCode=function(e){return{bids:c.K.getBidsReceived().filter((t=>t.adUnitCode===e))}},le.setTargetingForGPTAsync=function(e,t){if((0,i.PN)("Invoking pubtech_pbjs.setTargetingForGPTAsync",arguments),!(0,i.T9)())return void(0,i.H)("window.googletag is not defined on the page");let n=M.getAllTargeting(e);M.resetPresetTargeting(e,t),M.setTargetingForGPT(n,t),Object.keys(n).forEach((e=>{Object.keys(n[e]).forEach((t=>{"hb_adid"===t&&c.K.setStatusForBids(n[e][t],d.BID_STATUS.BID_TARGETING_SET)}))})),a.j8(he,n)},le.setTargetingForAst=function(e){(0,i.PN)("Invoking pubtech_pbjs.setTargetingForAn",arguments),M.isApntagDefined()?(M.setTargetingForAst(e),a.j8(he,M.getAllTargeting())):(0,i.H)("window.apntag is not defined on the page")},le.renderAd=(0,S.z3)("async",(function(e,t,n){if((0,i.PN)("Invoking pubtech_pbjs.renderAd",arguments),(0,i.ji)("Calling renderAd with adId :"+t),t)try{const o=c.K.findBidByAdId(t);if(!o){return void g({reason:Ie,message:`Error trying to write ad. Cannot find ad by given id : ${t}`,id:t})}if(o.status===d.BID_STATUS.RENDERED&&((0,i.yN)(`Ad id ${o.adId} has been rendered before`),a.j8(be,o),(0,r.Z)(p.vc.getConfig("auctionOptions"),"suppressStaleRender")))return;if(o.ad=(0,i.ew)(o.ad,o.originalCpm||o.cpm),o.adUrl=(0,i.ew)(o.adUrl,o.originalCpm||o.cpm),n&&n.clickThrough){const{clickThrough:e}=n;o.ad=(0,i.x_)(o.ad,e),o.adUrl=(0,i.x_)(o.adUrl,e)}c.K.addWinningBid(o),a.j8(me,o);const{height:s,width:u,ad:f,mediaType:m,adUrl:b,renderer:y}=o,v=o.adUnitCode,_=le.adUnits.filter((e=>e.code===v)),I=le.videoModule;if(_.video&&I)return void I.renderBid(_.video.divId,o);if(!e){return void g({reason:Te,message:`Error trying to write ad Id :${t} to the page. Missing document`,id:t})}const T=document.createComment(`Creative ${o.creativeId} served by ${o.bidder} Prebid.js Header Bidding`);if((0,i.jC)(T,e,"html"),(0,l.Pd)(y))(0,l._U)(y,o,e),Be(T,e,"html"),h({doc:e,bid:o,id:t});else if(e===document&&!(0,i.yL)()||"video"===m){g({reason:ye,message:`Error trying to write ad. Ad render call ad id ${t} was prevented from writing to the main document.`,bid:o,id:t})}else if(f)e.write(f),e.close(),we(e,u,s),Be(T,e,"html"),(0,i.R_)(o),h({doc:e,bid:o,id:t});else if(b){const n=(0,i.$u)();n.height=s,n.width=u,n.style.display="inline",n.style.overflow="hidden",n.src=b,(0,i.jC)(n,e,"body"),we(e,u,s),Be(T,e,"html"),(0,i.R_)(o),h({doc:e,bid:o,id:t})}else{g({reason:ve,message:`Error trying to write ad. No ad for bid response id: ${t}`,bid:o,id:t})}}catch(e){const n=`Error trying to write ad Id :${t} to the page:${e.message}`;g({reason:_e,message:n,id:t})}else{g({reason:Te,message:`Error trying to write ad Id :${t} to the page. Missing adId`,id:t})}})),le.removeAdUnit=function(e){if((0,i.PN)("Invoking pubtech_pbjs.removeAdUnit",arguments),!e)return void(le.adUnits=[]);let t;t=(0,i.kJ)(e)?e:[e],t.forEach((e=>{for(let t=le.adUnits.length-1;t>=0;t--)le.adUnits[t].code===e&&le.adUnits.splice(t,1)}))},le.requestBids=function(){const e=(0,S.z3)("async",(function(){let{bidsBackHandler:e,timeout:t,adUnits:n,adUnitCodes:r,labels:o,auctionId:s,ttlBuffer:d,ortb2:c,metrics:l,defer:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.j8(ge);const m=t||p.vc.getConfig("bidderTimeout");(0,i.PN)("Invoking pubtech_pbjs.requestBids",arguments),r&&r.length?n=n.filter((e=>(0,u.q9)(r,e.code))):r=n&&n.map((e=>e.code));const g={global:(0,i.Ee)({},p.vc.getAnyConfig("ortb2")||{},c||{}),bidder:Object.fromEntries(Object.entries(p.vc.getBidderConfig()).map((e=>{let[t,n]=e;return[t,n.ortb2]})).filter((e=>{let[t,n]=e;return null!=n})))};return se(z.Z.resolve(g.global)).then((t=>(g.global=t,Pe({bidsBackHandler:e,timeout:m,adUnits:n,adUnitCodes:r,labels:o,auctionId:s,ttlBuffer:d,ortb2Fragments:g,metrics:l,defer:f}))))}),"requestBids");return(0,S.IF)(e,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.adUnits||le.adUnits;return t.adUnits=(0,i.kJ)(n)?n.slice():[n],t.metrics=(0,X.V6)(),t.metrics.checkpoint("requestBids"),t.defer=(0,z.P)({promiseFactory:e=>new Promise(e)}),e.call(this,t),t.defer.promise}))}();const Pe=(0,S.z3)("async",(function(){let{bidsBackHandler:e,timeout:t,adUnits:n,ttlBuffer:r,adUnitCodes:a,labels:s,auctionId:d,ortb2Fragments:l,metrics:f,defer:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const g=(0,K.uV)(p.vc.getConfig("s2sConfig")||[]);function h(t,n,r){if("function"==typeof e)try{e(t,n,r)}catch(e){(0,i.H)("Error executing bidsBackHandler",null,e)}m.resolve({bids:t,timedOut:n,auctionId:r})}if(n=(0,X.Bf)(f).measureTime("requestBids.validate",(()=>Re(n))),n.forEach((e=>{var t,n;const a=Object.keys(e.mediaTypes||{banner:"banner"}),s=e.bids.map((e=>e.bidder)),d=K.ZP.bidderRegistry,c=s.filter((e=>!g.has(e))),l=(null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n?void 0:n.tid)||(0,i.DO)();e.transactionId=l,null==r||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=r),o(e,"ortb2Imp.ext.tid",l),c.forEach((t=>{const n=d[t],r=n&&n.getSpec&&n.getSpec(),o=r&&r.supportedMediaTypes||["banner"];a.some((e=>(0,u.q9)(o,e)))?W.f.incrementBidderRequestsCounter(e.code,t):((0,i.yN)((0,i.or)(e,t)),e.bids=e.bids.filter((e=>e.bidder!==t)))})),W.f.incrementRequestsCounter(e.code)})),n&&0!==n.length){const e=c.K.createAuction({adUnits:n,adUnitCodes:a,callback:h,cbTimeout:t,labels:s,auctionId:d,ortb2Fragments:l,metrics:f});let r=n.length;r>15&&(0,i.PN)(`Current auction ${e.getAuctionId()} contains ${r} adUnits.`,n),a.forEach((t=>M.setLatestAuctionForAdUnit(t,e.getAuctionId()))),e.callBids()}else(0,i.ji)("No adUnits configured. No bids requested."),h()}),"startAuction");le.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(V.Ld),n(Ue),e.call(this,t)}),49),le.addAdUnits=function(e){(0,i.PN)("Invoking pubtech_pbjs.addAdUnits",arguments),le.adUnits.push.apply(le.adUnits,(0,i.kJ)(e)?e:[e]),a.j8(fe)},le.onEvent=function(e,t,n){(0,i.PN)("Invoking pubtech_pbjs.onEvent",arguments),(0,i.LQ)(t)?!n||Ee[e].call(null,n)?a.on(e,t,n):(0,i.H)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,i.H)('The event handler provided is not a function and was not set on event "'+e+'".')},le.offEvent=function(e,t,n){(0,i.PN)("Invoking pubtech_pbjs.offEvent",arguments),n&&!Ee[e].call(null,n)||a.S1(e,t,n)},le.getEvents=function(){return(0,i.PN)("Invoking pubtech_pbjs.getEvents"),a.vw()},le.registerBidAdapter=function(e,t){(0,i.PN)("Invoking pubtech_pbjs.registerBidAdapter",arguments);try{K.ZP.registerBidAdapter(e(),t)}catch(e){(0,i.H)("Error registering bidder adapter : "+e.message)}},le.registerAnalyticsAdapter=function(e){(0,i.PN)("Invoking pubtech_pbjs.registerAnalyticsAdapter",arguments);try{K.ZP.registerAnalyticsAdapter(e)}catch(e){(0,i.H)("Error registering analytics adapter : "+e.message)}},le.createBid=function(e){return(0,i.PN)("Invoking pubtech_pbjs.createBid",arguments),(0,q.m)(e)};const Ue=[],je=(0,S.z3)("async",(function(e){e&&!(0,i.xb)(e)?((0,i.PN)("Invoking pubtech_pbjs.enableAnalytics for: ",e),K.ZP.enableAnalytics(e)):(0,i.H)("pubtech_pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Me(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,i.H)("Error processing command :","prebid.js",e)}}))}le.enableAnalytics=function(e){Ue.push(je.bind(this,e))},le.aliasBidder=function(e,t,n){(0,i.PN)("Invoking pubtech_pbjs.aliasBidder",arguments),e&&t?K.ZP.aliasBidAdapter(e,t,n):(0,i.H)("bidderCode and alias must be passed as arguments","pubtech_pbjs.aliasBidder")},le.aliasRegistry=K.ZP.aliasRegistry,p.vc.getConfig("aliasRegistry",(e=>{"private"===e.aliasRegistry&&delete le.aliasRegistry})),le.getAllWinningBids=function(){return c.K.getAllWinningBids()},le.getAllPrebidWinningBids=function(){return c.K.getBidsReceived().filter((e=>e.status===d.BID_STATUS.BID_TARGETING_SET))},le.getHighestCpmBids=function(e){return M.getWinningBids(e)},le.markWinningBidAsUsed=function(e){let t=[];e.adUnitCode&&e.adId?t=c.K.getBidsReceived().filter((t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode)):e.adUnitCode?t=M.getWinningBids(e.adUnitCode):e.adId?t=c.K.getBidsReceived().filter((t=>t.adId===e.adId)):(0,i.yN)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=d.BID_STATUS.RENDERED)},le.getConfig=p.vc.getAnyConfig,le.readConfig=p.vc.readAnyConfig,le.mergeConfig=p.vc.mergeConfig,le.mergeBidderConfig=p.vc.mergeBidderConfig,le.setConfig=p.vc.setConfig,le.setBidderConfig=p.vc.setBidderConfig,le.que.push((()=>{window.addEventListener("message",I,!1)})),le.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,i.H)("Error processing command :",e.message,e.stack)}else(0,i.H)("Commands written into pubtech_pbjs.cmd.push must be wrapped in a function")},le.que.push=le.cmd.push,le.processQueue=function(){S.z3.ready(),Me(le.que),Me(le.cmd)};var qe=le,Le=__webpack_require__(229),ze=__webpack_require__(582);const Fe={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){const t=(0,i.ei)(e,["h1","h2","h3"]);if(Object.keys(t).length)return t}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){let t="";return e&&e.ext&&e.ext.DeviceID&&(t=e.ext.DeviceID),t},getUidExt:function(e){return e&&e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){const t=(0,i.ei)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var t;return null!=e&&null!==(t=e.ext)&&void 0!==t&&t.ssp?`${e.ext.ssp}.merkleinc.com`:"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return void 0===e.snowflake.id?e.snowflake:e.snowflake.id},source:"novatiq.com"},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxdt.net",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},czechAdId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){const t=e.identifiers[0];return{version:t.version,type:t.type,source:t.source}}}}};function $e(e,t){const n=Fe[t];if(n&&e){let t={};t.source=(0,i.LQ)(n.getSource)?n.getSource(e):n.source;const r=(0,i.LQ)(n.getValue)?n.getValue(e):e;if((0,i.d8)(r)){const o={id:r,atype:n.atype};if((0,i.LQ)(n.getUidExt)){const t=n.getUidExt(e);t&&(o.ext=t)}if(t.uids=[o],(0,i.LQ)(n.getEidExt)){const i=n.getEidExt(e);i&&(t.ext=i)}return t}}return null}function He(e){let t=[];for(const n in e)if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else if(Array.isArray(e[n]))e[n].forEach(((e,i,r)=>{const o=$e(e,n);o&&t.push(o)}));else{const i=$e(e[n],n);i&&t.push(i)}return t}var Ze=__webpack_require__(756);const Ge="adagio",We="Adagio:",Ve=[w.Mk,w.B5,w.pX],Ke="https://script.4dex.io/localstore.js",Xe="adagioScript",Je=(0,V.df)({gvlid:617,bidderCode:Ge}),Ye=18e5,Qe="AL16XT44Sfp+8SHVF1UdC7hydPSMVLMhsYknKDdwqq+0ToDSJrP0+Qh0ki9JJI2uYm/6VEYo8TJED9WfMkiJ4vf02CW3RvSWwc35bif2SK1L8Nn/GfFYr/2/GG/Rm0vUsv+vBHky6nuuYls20Og0HDhMgaOlXoQ/cxMuiy5QSktp",et=65537,tt="USD",nt={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e)),minduration:e=>(0,i.U)(e),maxduration:e=>(0,i.U)(e),protocols:e=>(0,i.HC)(e),w:e=>(0,i.U)(e),h:e=>(0,i.U)(e),startdelay:e=>(0,i.U)(e),placement:e=>(0,i.U)(e),linearity:e=>(0,i.U)(e),skip:e=>(0,i.U)(e),skipmin:e=>(0,i.U)(e),skipafter:e=>(0,i.U)(e),sequence:e=>(0,i.U)(e),battr:e=>(0,i.HC)(e),maxextended:e=>(0,i.U)(e),minbitrate:e=>(0,i.U)(e),maxbitrate:e=>(0,i.U)(e),boxingallowed:e=>(0,i.U)(e),playbackmethod:e=>(0,i.HC)(e),playbackend:e=>(0,i.U)(e),delivery:e=>(0,i.U)(e),pos:e=>(0,i.U)(e),api:e=>(0,i.HC)(e)};let it;const rt=function(){let e,t={};return{clearFeatures:function(){e=void 0},clearExchangeData:function(){t={}},getOrSetGlobalFeatures:function(){return e||(e={page_dimensions:mt().toString(),viewport_dimensions:gt().toString(),user_timestamp:(Math.floor((new Date).getTime()/1e3)-60*(new Date).getTimezoneOffset()).toString(),dom_loading:yt().toString()}),e},prepareExchangeData(e){const n=JSON.parse(e,(function(e,t){if("_"!==e.charAt(0)||""===e)return t}));let o=(0,r.Z)(n,"session.rnd"),a=!1;ct.isNewSession(n)&&(a=!0,o=Math.random());const s={session:{new:a,rnd:o}};(0,i.Ee)(t,n,s),ct.enqueue({action:"session",ts:Date.now(),data:t})},getExchangeData:()=>t}}();function ot(){try{if((0,i.Zy)().location.href)return!0}catch(e){return!1}}function at(){return it||(0,i.e7)()}function st(){const e=(0,i.e7)();return!(!e.$sf||!e.$sf.ext)}function dt(e){const t=ct.isRendererPreferredFromPublisher(e)?"other":"adagio";return"other"===t&&(0,i.yN)(`${We} renderer.backupOnly has not been set. Adagio recommends to use its own player to get expected behavior.`),t}const ct={enqueue:function(e){const t=ct.getCurrentWindow();t.ADAGIO=t.ADAGIO||{},t.ADAGIO.queue=t.ADAGIO.queue||[],t.ADAGIO.queue.push(e)},getPageviewId:function(){const e=ct.getCurrentWindow();return e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||(0,i.DO)(),e.ADAGIO.pageviewId},getDevice:function(){const e=navigator.language?"language":"userLanguage";return{userAgent:navigator.userAgent,language:navigator[e],dnt:(0,i.oV)()?1:0,geo:{},js:1}},getSite:function(e){const{refererInfo:t}=e;return{domain:(0,J.hh)(t.topmostLocation)||"",page:t.topmostLocation||"",referrer:t.ref||(0,i.e7)().document.referrer||"",top:t.reachedTop}},getElementFromTopWindow:function e(t,n){try{if((0,i.Zy)()===n)return t.getAttribute("id")||t.setAttribute("id",`adg-${(0,i._d)()}`),t;{const i=n.frameElement,r=i.getBoundingClientRect(),o=t.getBoundingClientRect();return r.width===o.width&&r.height===o.height&&e(i,n.parent)}}catch(e){return(0,i.yN)(`${We}`,e),!1}},getRefererInfo:J.nH,adagioScriptFromLocalStorageCb:function(e){try{if(!e)return void(0,i.yN)(`${We} script not found.`);const t=/^(\/\/ hash: (.+)\n)(.+\n)$/;if(t.test(e)){const n=e.match(t),r=n[2],o=n[3];(0,ze.T)(o,r,Qe,et)?((0,i.PN)(`${We} start script.`),Function(e)()):((0,i.yN)(`${We} invalid script found.`),Je.removeDataFromLocalStorage(Xe))}else(0,i.yN)(`${We} no hash found.`),Je.removeDataFromLocalStorage(Xe)}catch(e){(0,i.H)(We,e)}},getCurrentWindow:at,canAccessTopWindow:ot,isRendererPreferredFromPublisher:function(e){const t=(0,r.Z)(e,"renderer"),n=!!(t&&t.url&&t.render),i=(0,r.Z)(e,"mediaTypes.video.renderer"),o=!!(i&&i.url&&i.render);return!!(n&&!0!==t.backupOnly||o&&!0!==i.backupOnly)},isNewSession:function(e){const t=Date.now(),{lastActivityTime:n,vwSmplg:o}=(0,r.Z)(e,"session",{});return!(0,i.hj)(n)||!(0,i.hj)(o)||t-n>Ye}};function ut(e){e.renderer.push((()=>{"function"==typeof window.ADAGIO.outstreamPlayer?window.ADAGIO.outstreamPlayer(e):(0,i.H)(`${We} Adagio outstream player is not defined`)}))}function lt(e){if(!e.admNative||!Array.isArray(e.admNative.assets))return void(0,i.H)(`${We} Invalid native response`);const t={};e.admNative.assets.forEach((e=>{if(e.title)t.title=e.title.text;else if(e.data)!function(e){const n={1:"sponsoredBy",2:"body",3:"rating",4:"likes",5:"downloads",6:"price",7:"salePrice",8:"phone",9:"address",10:"body2",11:"displayUrl",12:"cta"};n.hasOwnProperty(e.type)&&"string"==typeof e.value&&(t[n[e.type]]=e.value)}(e.data);else if(e.img)if(1===e.img.type)t.icon={url:e.img.url,width:e.img.w,height:e.img.h};else t.image={url:e.img.url,width:e.img.w,height:e.img.h}})),e.admNative.link&&(e.admNative.link.url&&(t.clickUrl=e.admNative.link.url),Array.isArray(e.admNative.link.clicktrackers)&&(t.clickTrackers=e.admNative.link.clicktrackers)),Array.isArray(e.admNative.eventtrackers)?(t.impressionTrackers=[],e.admNative.eventtrackers.forEach((e=>{if(1===e.event)switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:const n=`<script async src="${e.url}"><\/script>`;t.javascriptTrackers?t.javascriptTrackers+=`\n${n}`:t.javascriptTrackers=n}}))):(t.impressionTrackers=Array.isArray(e.admNative.imptrackers)?e.admNative.imptrackers:[],e.admNative.jstracker&&(t.javascriptTrackers=e.admNative.jstracker)),e.admNative.privacy&&(t.privacyLink=e.admNative.privacy),e.admNative.ext&&(t.ext={},e.admNative.ext.bvw&&(t.ext.adagio_bvw=e.admNative.ext.bvw)),e.native=t}function pt(e,t){if(e.params=e.params||{},e.params[t])return;const n=p.vc.getConfig("adagio")||{},i=e.ortb2,o=n[t]||(0,r.Z)(i,`site.ext.data.${t}`,null);if(o){if(Array.isArray(o))return void(o.length&&(e.params[t]=o[0].toString()));e.params[t]=o.toString()}}function ft(e){const t=p.vc.getConfig("adagio")||{};e.params=e.params||{},t.siteId&&(e.params.organizationId=t.siteId.split(":")[0],e.params.site=t.siteId.split(":")[1]),!0!==t.useAdUnitCodeAsPlacement&&!0!==e.params.useAdUnitCodeAsPlacement||(e.params.placement=e.adUnitCode),e.params.adUnitElementId=(0,r.Z)(e,"ortb2Imp.ext.data.elementId",null)||e.params.adUnitElementId,e.params.adUnitElementId||(!0===t.useAdUnitCodeAsAdUnitElementId||!0===e.params.useAdUnitCodeAsAdUnitElementId?e.params.adUnitElementId=e.adUnitCode:e.params.adUnitElementId=function(e){const t=(0,i.ky)(e);if(t.divId)return t.divId}(e.adUnitCode)),pt(e,"pagetype"),pt(e,"category")}function mt(){if(st()||!ot())return"";const e=(0,i.Zy)(),t=e.document.querySelector("body");if(!t)return"";const n=e.document.documentElement;return`${Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)}x${Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}`}function gt(){if(!st()&&!ot())return"";const e={w:0,h:0};if(st()){const t=(0,i.e7)();if("function"!=typeof t.$sf.ext.geom)return(0,i.yN)(We,"Unable to compute from safeframe api."),"";const n=t.$sf.ext.geom();if(!n||!n.win)return(0,i.yN)(We,"Unable to compute from safeframe api. Missing `geom().win` property"),"";e.w=Math.round(n.w),e.h=Math.round(n.h)}else{const t=(0,i.Zy)();e.w=t.innerWidth,e.h=t.innerHeight}return`${e.w}x${e.h}`}function ht(e){if(!e)return"";if(!st()&&!ot())return"";const t={x:0,y:0};if(st()){const e=(0,i.e7)();if("function"!=typeof e.$sf.ext.geom)return(0,i.yN)(We,"Unable to compute from safeframe api."),"";const n=e.$sf.ext.geom();if(!n||!n.self)return(0,i.yN)(We,"Unable to compute from safeframe api. Missing `geom().self` property"),"";t.x=Math.round(n.t),t.y=Math.round(n.l)}else{if(!ot())return"";try{const n=(0,i.Zy)(),r=n.document;let o;if(!0===(0,i.yL)()){const t=(0,i.e7)(),n=t.document.getElementById(e);o=ct.getElementFromTopWindow(n,t)}else o=n.document.getElementById(e);if(!o)return"";let a=o.getBoundingClientRect();const s=r.documentElement,d=r.body,c=r.clientTop||d.clientTop||0,u=r.clientLeft||d.clientLeft||0,l=n.pageYOffset||s.scrollTop||d.scrollTop,p=n.pageXOffset||s.scrollLeft||d.scrollLeft,f=n.getComputedStyle(o,null).display||"block";if("none"===f){o.style=o.style||{};const e=o.style.display;o.style.display="block",a=o.getBoundingClientRect(),o.style.display=e||null}t.x=Math.round(a.left+p-u),t.y=Math.round(a.top+l-c)}catch(e){return(0,i.H)(We,e),""}}return`${t.x}x${t.y}`}function bt(e,t){if(!t.bids||!t.bids.length)return 1;return(0,u.sE)(t.bids,(t=>t.adUnitCode===e)).bidderRequestsCount||1}function yt(){let e,t=-1;if(e=ot()?(0,i.Zy)().performance:(0,i.e7)().performance,e&&e.timing&&e.timing.navigationStart>0){const n=e.timing.domLoading-e.timing.navigationStart;n>0&&(t=n)}return t}function vt(e){const t=at();let i;t.ADAGIO=t.ADAGIO||{},t.ADAGIO.pbjsAdUnits=t.ADAGIO.pbjsAdUnits.filter((t=>t.code!==e.adUnitCode)),e.features&&e.features.print_number?i=e.features.print_number:e.params.features&&e.params.features.print_number&&(i=e.params.features.print_number),t.ADAGIO.pbjsAdUnits.push({code:e.adUnitCode,mediaTypes:e.mediaTypes||{},sizes:e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?e.mediaTypes.banner.sizes:e.sizes,bids:[{bidder:e.bidder,params:e.params}],auctionId:e.auctionId,pageviewId:ct.getPageviewId(),printNumber:i,localPbjs:"pubtech_pbjs",localPbjsRef:(0,n.R)()}),t.ADAGIO.adUnits[e.adUnitCode]={auctionId:e.auctionId,pageviewId:ct.getPageviewId(),printNumber:i}}const _t={code:Ge,gvlid:617,supportedMediaTypes:Ve,isBidRequestValid:e=>(e.params=e.params||{},ft(e),!!(e.params.organizationId&&e.params.site&&e.params.placement)||((0,i.yN)(`${We} at least one required param is missing.`),!1)),buildRequests(e,t){e=(0,s.lY)(e);const n="https:"===location.protocol?1:0,o=ct.getDevice(),a=ct.getSite(t),d=ct.getPageviewId(),c=function(e){if(!(0,r.Z)(e,"gdprConsent"))return!1;const{apiVersion:t,gdprApplies:n,consentString:o,allowAuctionWithoutConsent:a}=e.gdprConsent;return(0,i.fz)({apiVersion:t,consentString:o,consentRequired:n?1:0,allowAuctionWithoutConsent:a?1:0})}(t)||{},u=function(e){return!!(0,r.Z)(e,"uspConsent")&&{uspConsent:e.uspConsent}}(t)||{},l={required:!0===p.vc.getConfig("coppa")?1:0},f=(m=e[0],(0,r.Z)(m,"schain"));var m;const g=function(e){if((0,r.Z)(e,"userId"))return He(e.userId)}(e[0])||[],h=(0,r.Z)(p.vc.getConfig("userSync"),"syncEnabled")&&E.k_.canBidderRegisterSync("iframe","adagio"),b=(0,i.HA)(e,(e=>{const n={...rt.getOrSetGlobalFeatures(),print_number:bt(e.adUnitCode,t).toString(),adunit_position:ht(e.params.adUnitElementId)};Object.keys(n).forEach((e=>{""===n[e]&&delete n[e]})),e.features=n,ct.enqueue({action:"features",ts:Date.now(),data:{features:e.features,params:e.params,adUnitCode:e.adUnitCode}});const o=function(e){if(!(0,i.LQ)(e.getFloor))return!1;const t=[],n=(n,r)=>{const o=e.getFloor({currency:tt,mediaType:n,size:r});t.push((0,i.fz)({mt:n,s:(0,i.kJ)(r)?`${r[0]}x${r[1]}`:void 0,f:isNaN(o.floor)||o.currency!==tt?void 0:o.floor}))};return Object.keys(e.mediaTypes).forEach((t=>{if(-1!==Ve.indexOf(t)){const r=t===w.pX?"playerSize":"sizes";e.mediaTypes[t][r]&&e.mediaTypes[t][r].length?(0,i.kJ)(e.mediaTypes[t][r][0])?e.mediaTypes[t][r].forEach((e=>{n(t,[e[0],e[1]])})):n(t,[e.mediaTypes[t][r][0],e.mediaTypes[t][r][1]]):n(t,"*")}})),t}(e);if((0,i.kJ)(o)&&o.length){if(e.floors=o,(0,r.Z)(e,"mediaTypes.banner")){const t=e.mediaTypes.banner,n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n={size:t,floor:null},i=e.floors.filter((e=>e.mt===w.Mk)),r=i.find((e=>e.s===t.join("x")));return n.floor=i?r?r.f:i[0].f:null,n};e.mediaTypes.banner.bannerSizes=(0,i.kJ)(t.sizes[0])?t.sizes.map((e=>n(e))):n(t.sizes)}if((0,r.Z)(e,"mediaTypes.video")){const t=e.mediaTypes.video,n=e.floors.filter((e=>e.mt===w.pX)),r=t.playerSize&&(0,i.kJ)(t.playerSize[0])?t.playerSize[0]:t.playerSize,o=r?n.find((e=>e.s===r.join("x"))):void 0;e.mediaTypes.video.floor=n?o?o.f:n[0].f:null}if((0,r.Z)(e,"mediaTypes.native")){const t=e.floors.filter((e=>e.mt===w.B5));t.length&&(e.mediaTypes.native.floor=t[0].f)}}return(0,r.Z)(e,"mediaTypes.video")&&function(e){const t=(0,r.Z)(e,"mediaTypes.video",{}),n=(0,r.Z)(e,"params.video",{}),o={};if(Array.isArray(t.playerSize)){const e=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;o.w=e[0],o.h=e[1]}const a={...o,...t,...n};a.context&&a.context===Ze.gZ&&(e.mediaTypes.video.playerName=dt(e)),Object.keys(nt).forEach((t=>{a.hasOwnProperty(t)&&(nt[t](a[t])?e.mediaTypes.video[t]=a[t]:(delete e.mediaTypes.video[t],(0,i.yN)(`${We} The OpenRTB video param ${t} has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.`)))}))}(e),vt(e),e})),y=b.reduce(((e,t)=>{const n=(0,i.I8)(t);return n.params.organizationId=n.params.organizationId.toString(),delete n.floorData,delete n.params.siteId,delete n.userId,delete n.userIdAsEids,e[n.params.organizationId]=e[n.params.organizationId]||[],e[n.params.organizationId].push(n),e}),{});return(0,i.HA)(Object.keys(y),(e=>({method:"POST",url:"https://mp.4dex.io/prebid",data:{id:(0,i.DO)(),organizationId:e,secure:n,device:o,site:a,pageviewId:d,adUnits:y[e],data:rt.getExchangeData(),regs:{gdpr:c,coppa:l,ccpa:u},schain:f,user:{eids:g},prebidVersion:"7.41.0",featuresVersion:"1",usIfr:h},options:{contentType:"text/plain"}})))},interpretResponse(e,t){let n=[];try{const i=e.body;i&&(i.data&&ct.enqueue({action:"ssp-data",ts:Date.now(),data:i.data}),i.bids&&i.bids.forEach((e=>{const i=(0,u.sE)(t.data.adUnits,(t=>t.bidId===e.requestId));if(i){if(e.meta=(0,r.Z)(e,"meta",{}),e.meta.mediaType=e.mediaType,e.meta.advertiserDomains=Array.isArray(e.aDomain)&&e.aDomain.length?e.aDomain:[],e.mediaType===w.pX){const t=(0,r.Z)(i,"mediaTypes.video.context");!e.vastUrl&&e.vastXml&&(e.vastUrl="data:text/xml;charset=utf-8;base64,"+btoa(e.vastXml.replace(/\\"/g,'"'))),t===Ze.gZ&&(e.renderer=l.Th.install({id:e.requestId,adUnitCode:e.adUnitCode,url:e.urlRenderer||"https://script.4dex.io/outstream-player.js",config:{...(0,r.Z)(i,"mediaTypes.video"),...(0,r.Z)(e,"outstream",{})}}),e.renderer.setRender(ut))}e.mediaType===w.B5&&lt(e),e.site=i.params.site,e.placement=i.params.placement,e.pagetype=i.params.pagetype,e.category=i.params.category}n.push(e)})))}catch(e){(0,i.H)(e)}return n},getUserSyncs(e,t){if(!t.length||""===t[0].body||!t[0].body.userSyncs)return!1;return t[0].body.userSyncs.map((e=>({type:"p"===e.t?"image":"iframe",url:e.u})))},transformBidParams(e,t,n,i){const o=(0,u.sE)(i,(e=>"adagio"===e.bidderCode)),a=(0,u.sE)(o.bids,(e=>e.adUnitCode===n.code));if(t){ft(a),a.params.auctionId=(0,r.Z)(o,"auctionId");const e=rt.getOrSetGlobalFeatures();a.params.features={...e,print_number:bt(a.adUnitCode,o).toString(),adunit_position:ht(a.params.adUnitElementId)},a.params.pageviewId=ct.getPageviewId(),a.params.prebidVersion="7.41.0",a.params.data=rt.getExchangeData(),(0,r.Z)(a,"mediaTypes.video.context")===Ze.gZ&&(a.params.playerName=dt(a)),vt(a)}return a.params}};!function(){ot()&&(it=ot()?(0,i.Zy)():(0,i.e7)());const e=ct.getCurrentWindow();e.ADAGIO=e.ADAGIO||{},e.ADAGIO.adUnits=e.ADAGIO.adUnits||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits||[],e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.pbjs="7.41.0",e.ADAGIO.isSafeFrameWindow=st(),Je.getDataFromLocalStorage("adagio",(e=>{try{rt.prepareExchangeData(e)}catch(e){(0,i.H)(We,e)}})),Je.getDataFromLocalStorage(Xe,(e=>{ct.adagioScriptFromLocalStorageCb(e)})),Je.localStorageIsEnabled((e=>{if(e)(0,L.B)(Ke,Ge);else try{window.localStorage.removeItem(Xe),window.localStorage.removeItem("adagio")}catch(e){(0,i.PN)(`${We} unable to clear Adagio scripts from localstorage.`)}}))}(),(0,Le.dX)(_t),window.pubtech_pbjs.installedModules.push("adagioBidAdapter");var It=__webpack_require__(174);const Tt="appnexus",Et="https://ib.adnxs.com/ut/v3/prebid",wt="https://ib.adnxs-simple.com/ut/v3/prebid",St=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Ct=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],At=["age","externalUid","external_uid","segments","gender","dnt","language"],xt=["geo","device_id"],Ot=["enabled","dongle","member_id","debug_timeout"],kt={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},Dt={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Rt={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Nt=15,Bt="<script",Pt=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Ut="trk.js",jt=(0,V.df)({gvlid:32,bidderCode:Tt}),Mt={code:Tt,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[w.Mk,w.pX,w.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var n,o;const a=(e=(0,s.lY)(e)).map(zt),d=(0,u.sE)(e,$t);let c={};!0===p.vc.getConfig("coppa")&&(c={coppa:!0}),d&&Object.keys(d.params.user).filter((e=>(0,u.q9)(At,e))).forEach((e=>{let t=(0,i.G2)(e);if("segments"===e&&(0,i.kJ)(d.params.user[e])){let n=[];d.params.user[e].forEach((e=>{(0,i.hj)(e)?n.push({id:e}):(0,i.PO)(e)&&n.push(e)})),c[t]=n}else"segments"!==e&&(c[t]=d.params.user[e])}));const l=(0,u.sE)(e,Zt);let f;l&&l.params&&l.params.app&&(f={},Object.keys(l.params.app).filter((e=>(0,u.q9)(xt,e))).forEach((e=>f[e]=l.params.app[e])));const m=(0,u.sE)(e,Gt);let g;m&&m.params&&l.params.app&&l.params.app.id&&(g={appid:m.params.app.id});let h={},b={};const y=jt.getCookie("apn_prebid_debug")||null;if(y)try{h=JSON.parse(y)}catch(e){(0,i.H)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(kt).forEach((e=>{let t=(0,i.rD)(e);(0,i.d8)(t)&&""!==t&&(h[kt[e]]=t,h.enabled=!0)})),h=(0,i.uh)({member_id:"number",debug_timeout:"number"},h);const t=(0,u.sE)(e,Wt);t&&t.debug&&(h=t.debug)}h&&h.enabled&&Object.keys(h).filter((e=>(0,u.q9)(Ot,e))).forEach((e=>{b[e]=h[e]}));const v=(0,u.sE)(e,Ht),_=v?parseInt(v.params.member,10):0,I=e[0].schain,T=(0,u.sE)(e,Kt),E={tags:[...a],user:c,sdk:{source:"pbjs",version:"7.41.0"},schain:I};T&&(E.iab_support={omidpn:"Appnexus",omidpv:"7.41.0"}),_>0&&(E.member_id=_),l&&(E.device=f),m&&(E.app=g);let w=function(e){let t=[];return["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach((n=>{let o=(0,r.Z)(e,n);(0,i.d8)(o)&&t.push(o)})),t}((0,i.I8)(t&&t.ortb2)).map((e=>en(e))),S=(0,i.I8)(p.vc.getConfig("appnexusAuctionKeywords"))||{};Object.keys(S).forEach((e=>{((0,i.d8)(S[e])||(0,i.hj)(S[e]))&&(S[e]=[S[e]])}));let C=(0,i.Ee)({},S,...w),A=(0,i.Bq)(C);if(A.length>0&&(A.forEach(Lt),E.keywords=A),p.vc.getConfig("adpod.brandCategoryExclusion")&&(E.brand_category_uniqueness=!0),b.enabled&&(E.debug=b,(0,i.PN)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(b,null,4))),t&&t.gdprConsent&&(E.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,n=e.substring(e.indexOf("~")+1);E.gdpr_consent.addtl_consent=n.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(E.us_privacy=t.uspConsent),null!=t&&t.gppConsent?E.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(n=t.ortb2)&&void 0!==n&&null!==(o=n.regs)&&void 0!==o&&o.gpp&&(E.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},n=t.refererInfo.canonicalUrl;(0,i.d8)(n)&&""!==n&&(e.rd_can=n),E.referrer_detection=e}if((0,u.sE)(e,Vt)&&e.filter(Vt).forEach((e=>{const t=function(e,t){const{durationRangeSec:n,requireExactDuration:r}=t.mediaTypes.video,o=function(e){const{adPodDurationSec:t,durationRangeSec:n,requireExactDuration:r}=e,o=(0,i.XV)(n),a=Math.floor(t/o);return r?Math.max(a,n.length):a}(t.mediaTypes.video),a=(0,i.d5)(n),s=e.filter((e=>e.uuid===t.bidId));let d=(0,i.hl)(...s,o);if(r){const e=Math.ceil(o/n.length),t=(0,i.yo)(d,e);n.forEach(((e,n)=>{t[n].map((t=>{Xt(t,"minduration",e),Xt(t,"maxduration",e)}))}))}else d.map((e=>Xt(e,"maxduration",a)));return d}(a,e),n=E.tags.filter((t=>t.uuid!==e.bidId));E.tags=[...n,...t]})),e[0].userId){let t=[];e[0].userIdAsEids.forEach((e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach((n=>{let i={source:e.source,id:n.id};"adserver.org"==e.source?i.rti_partner="TDID":"uidapi.com"==e.source&&(i.rti_partner="UID2"),t.push(i)}))})),t.length&&(E.eids=t)}a[0].publisher_id&&(E.publisher_id=a[0].publisher_id);const x=function(e,t){let n=[],r={withCredentials:!0},o=Et;(0,It.h)(null==t?void 0:t.gdprConsent)||(o=wt);"TRUE"!==(0,i.rD)("apn_test").toUpperCase()&&!0!==p.vc.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1});if(e.tags.length>Nt){const a=(0,i.I8)(e);(0,i.yo)(e.tags,Nt).forEach((e=>{a.tags=e;const i=JSON.stringify(a);n.push({method:"POST",url:o,data:i,bidderRequest:t,options:r})}))}else{const i=JSON.stringify(e);n={method:"POST",url:o,data:i,bidderRequest:t,options:r}}return n}(E,t);return x},interpretResponse:function(e,t){let{bidderRequest:n}=t;e=e.body;const o=[];if(!e||e.error){let t=`in response for ${n.bidderCode} adapter`;return e&&e.error&&(t+=`: ${e.error}`),(0,i.H)(t),o}if(e.tags&&e.tags.forEach((e=>{const t=(a=e)&&a.ads&&a.ads.length&&(0,u.sE)(a.ads,(e=>e.rtb));var a;if(t){if((!0===C.S.get(n.bidderCode,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0)&&(0,u.q9)(this.supportedMediaTypes,t.ad_type)){const a=function(e,t,n){const o=(0,i.zE)(e.uuid,[n]),a=(0,i._d)(),s={adId:a,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(s.meta=Object.assign({},s.meta,{advertiserDomains:[t.adomain]}));t.advertiser_id&&(s.meta=Object.assign({},s.meta,{advertiserId:t.advertiser_id}));function d(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}t.buyer_member_id&&(s.meta=Object.assign({},s.meta,{dchain:d(t)}));t.brand_id&&(s.meta=Object.assign({},s.meta,{brandId:t.brand_id}));if(t.rtb.video){Object.assign(s,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600});switch((0,r.Z)(o,"mediaTypes.video.context")){case w.Oh:const a=(0,Le.Q1)(o.bidder,t.brand_category_id);s.meta=Object.assign({},s.meta,{primaryCatId:a});const d=t.deal_priority;s.video={context:w.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:d},s.vastUrl=t.rtb.video.asset_url;break;case Ze.gZ:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=t.rtb.video.content,t.renderer_url){const o=(0,u.sE)(n.bids,(t=>t.bidId===e.uuid));let a=(0,r.Z)(o,"mediaTypes.video.renderer.options");a||(a=(0,r.Z)(o,"renderer.options")),s.renderer=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=l.Th.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(Jt)}catch(e){(0,i.yN)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:()=>(0,i.ji)("AppNexus outstream video impression event"),loaded:()=>(0,i.ji)("AppNexus outstream video loaded event"),ended:()=>{(0,i.ji)("AppNexus outstream renderer video event"),document.querySelector(`#${e}`).style.display="none"}}),r}(s.adUnitCode,t,a)}break;case Ze.LD:s.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(t.rtb[w.B5]){const e=t.rtb[w.B5];let n;if(function(e){if(!e||""===e)return!1;let t=e.match(Pt),n=null!=t&&t.length>=1,i=e.match(Ut),r=null!=i&&i.length>=1;return e.startsWith(Bt)&&r&&n}(t.viewability.config)){let e="pbjs_adid="+a+";pbjs_auc="+o.adUnitCode;n=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let r=e.javascript_trackers;null==r?r=n:(0,i.d8)(r)?r=[r,n]:r.push(n),s[w.B5]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:r},e.main_img&&(s.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(s.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(s,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const n=t.rtb.trackers[0].impression_urls[e],r=(0,i.SG)(n);s.ad+=r}}catch(e){(0,i.H)("Error appending tracking pixel",e)}}return s}(e,t,n);a.mediaType=function(e){const t=e.ad_type;return t===w.pX?w.pX:t===w.B5?w.B5:w.Mk}(t),o.push(a)}}})),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,i.ji)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,i.ji)(t)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n,i,r){if(e.iframeEnabled&&(0,It.h)(n)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((e=>"number"==typeof e&&e<=5))}(r))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,n,o){let a=i.Bq;if(!0===t){let e=null,t=p.vc.getConfig("s2sConfig");(0,i.PO)(t)?e=(0,r.Z)(t,"endpoint.p1Consent"):(0,i.kJ)(t)&&t.forEach((t=>{(0,u.q9)(t.bidders,n.bids[0].bidder)&&(e=(0,r.Z)(t,"endpoint.p1Consent"))})),e&&e.match("/openrtb2/prebid")&&(a=Qt)}return e=(0,i.uh)({member:"string",invCode:"string",placementId:"number",keywords:a,publisherId:"number"},e),t&&(qt(e.keywords)&&e.keywords.forEach(Lt),Object.keys(e).forEach((t=>{let n=(0,i.G2)(t);n!==t&&(e[n]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function qt(e){return!!((0,i.kJ)(e)&&e.length>0)}function Lt(e){qt(e.value)&&""===e.value[0]&&delete e.value}function zt(e){const t={};Object.keys(e.params).forEach((t=>{let n=(0,i.G2)(t);n!==t&&(e.params[n]=e.params[t],delete e.params[t])})),t.sizes=Ft(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;let n=function(e){if(!(0,i.LQ)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if((0,i.PO)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e);if(n&&(t.reserve=n),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{let n=(0,r.Z)(e,"mediaTypes.banner.pos")||(0,r.Z)(e,"mediaTypes.video.pos");0!==n&&1!==n&&3!==n||(t.position=3===n?2:n)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=Ft(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);let o=(0,r.Z)(e,"ortb2Imp.ext.data.keywords");if((0,i.d8)(o)&&""!==o||!(0,i.xb)(e.params.keywords)){let n=en(o),r=(0,i.PO)(e.params.keywords)?(0,i.I8)(e.params.keywords):{};Object.keys(r).forEach((e=>{((0,i.d8)(r[e])||(0,i.hj)(r[e]))&&(r[e]=[r[e]])}));let a=(0,i.Ee)({},r,n),s=(0,i.Bq)(a);s.length>0&&(s.forEach(Lt),t.keywords=s)}let a=(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot");if(a&&(t.gpid=a),(e.mediaType===w.B5||(0,r.Z)(e,`mediaTypes.${w.B5}`))&&(t.ad_types.push(w.B5),0===t.sizes.length&&(t.sizes=Ft([1,1])),e.nativeParams)){const n=function(e){const t={};return Object.keys(e).forEach((n=>{const r=Rt[n]&&Rt[n].serverName||Rt[n]||n,o=Rt[n]&&Rt[n].requiredParams;t[r]=Object.assign({},o,e[n]);if(!(r!==Rt.image.serverName&&r!==Rt.icon.serverName)&&t[r].sizes){let e=t[r].sizes;((0,i.HC)(e)||(0,i.kJ)(e)&&e.length>0&&e.every((e=>(0,i.HC)(e))))&&(t[r].sizes=Ft(t[r].sizes))}r===Rt.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);t[w.B5]={layouts:[n]}}const s=(0,r.Z)(e,`mediaTypes.${w.pX}`),d=(0,r.Z)(e,"mediaTypes.video.context");t.hb_source=s&&"adpod"===d?7:1,(e.mediaType===w.pX||s)&&t.ad_types.push(w.pX),(e.mediaType===w.pX||s&&"outstream"!==d)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,u.q9)(St,e))).forEach((n=>{switch(n){case"context":case"playback_method":let r=e.params.video[n];r=(0,i.kJ)(r)?r[0]:r,t.video[n]=Dt[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&(0,i.kJ)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),s&&(t.video=t.video||{},Object.keys(s).filter((e=>(0,u.q9)(Ct,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=s[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===s[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=s[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){let n=s[e];n=(0,i.kJ)(n)?n[0]:n,n>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&(0,i.kJ)(s[e])){let n=s[e].map((e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));t.video_frameworks=n}break;case"startdelay":case"placement":const n="context";if("number"!=typeof t.video[n]){const e=s.placement,i=s.startdelay,r=function(e){if(!e)return;if(2===e)return"in-banner";if(e>2)return"outstream"}(e)||function(e){if(!e)return;if(0===e)return"pre_roll";if(-1===e)return"mid_roll";if(-2===e)return"post_roll"}(i);t.video[n]=Dt[n][r]}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,i.kJ)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);let l=(0,u.sE)(c.K.getAdUnits(),(t=>e.transactionId===t.transactionId));return l&&l.mediaTypes&&l.mediaTypes.banner&&t.ad_types.push(w.Mk),0===t.ad_types.length&&delete t.ad_types,t}function Ft(e){let t=[],n={};if((0,i.kJ)(e)&&2===e.length&&!(0,i.kJ)(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(let i=0;i<e.length;i++){let r=e[i];n={},n.width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t}function $t(e){return!!e.params.user}function Ht(e){return!!parseInt(e.params.member,10)}function Zt(e){if(e.params)return!!e.params.app}function Gt(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Wt(e){return!!e.debug}function Vt(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===w.Oh}function Kt(e){let t=!1;const n=e.params,r=e.params.video;return n.frameworks&&(0,i.kJ)(n.frameworks)&&(t=(0,u.q9)(e.params.frameworks,6)),!t&&r&&r.frameworks&&(0,i.kJ)(r.frameworks)&&(t=(0,u.q9)(e.params.video.frameworks,6)),t}function Xt(e,t,n){(0,i.xb)(e.video)&&(e.video={}),e.video[t]=n}function Jt(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{((0,i.W$)(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Yt.bind(null,e))}))}function Yt(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function Qt(e){let t="";return Object.keys(e).forEach((n=>{(0,i.d8)(e[n])?""!==e[n]?t+=`${n}=${e[n]},`:t+=`${n},`:(0,i.kJ)(e[n])&&(""===e[n][0]?t+=`${n},`:e[n].forEach((e=>{t+=`${n}=${e},`})))})),t=t.substring(0,t.length-1),t}function en(e){let t={};if((0,i.d8)(e)&&""!==e){e.split(/\s*(?:,)\s*/).forEach((e=>{if(-1!==e.indexOf("=")){let n=e.split("="),i=n[0],r=n[1];t.hasOwnProperty(i)?t[i].push(r):t[i]=[r]}else t.hasOwnProperty(e)||(t[e]=[""])}))}return t}(0,Le.dX)(Mt),window.pubtech_pbjs.installedModules.push("appnexusBidAdapter");const tn={code:"connectad",gvlid:138,aliases:["connectadrealtime"],supportedMediaTypes:[w.Mk],isBidRequestValid:function(e){return!(!e.params.networkId||!e.params.siteId)},buildRequests:function(e,t){var n,i,r;let a={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return a;const s=Object.assign({placements:[],time:Date.now(),user:{},url:(null===(n=t.refererInfo)||void 0===n?void 0:n.page)||window.location.href,referrer:null===(i=t.refererInfo)||void 0===i?void 0:i.ref,referrer_info:null===(r=t.refererInfo)||void 0===r?void 0:r.legacy,screensize:[window.screen.width,window.screen.height].join("x"),dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,language:navigator.language,ua:navigator.userAgent,pversion:"7.41.0"});if(!0===p.vc.getConfig("coppa")&&o(s,"user.coppa",1),e[0].schain&&o(s,"source.ext.schain",e[0].schain),t.gdprConsent){let e;"boolean"==typeof t.gdprConsent.gdprApplies&&(e=t.gdprConsent.gdprApplies?1:0),o(s,"user.ext.gdpr",e),o(s,"user.ext.consent",t.gdprConsent.consentString)}return t.uspConsent&&o(s,"user.ext.us_privacy",t.uspConsent),e[0].userId&&o(s,"user.ext.eids",He(e[0].userId)),e.map((e=>{const t=Object.assign({id:e.transactionId,divName:e.bidId,pisze:e.mediaTypes.banner.sizes[0]||e.sizes[0],sizes:e.mediaTypes.banner.sizes,adTypes:on(e.mediaTypes.banner.sizes||e.sizes),bidfloor:rn(e),siteId:e.params.siteId,networkId:e.params.networkId});t.networkId&&t.siteId&&s.placements.push(t)})),a.data=JSON.stringify(s),a.bidRequest=e,a.url="https://i.connectad.io/api/v2",a},interpretResponse:function(e,t,n){let i,r,o,a,s=[];r=t.bidRequest,e=(e||{}).body;for(let t=0;t<r.length;t++)if(i={},a=r[t],o=a.bidId,e){const t=e.decisions&&e.decisions[o],n=t&&t.pricing&&t.pricing.clearPrice;t&&n&&(i.requestId=o,i.cpm=n,i.width=t.width,i.height=t.height,i.dealid=t.dealid||null,i.meta={advertiserDomains:t&&t.adomain?t.adomain:[]},i.ad=an(t),i.currency="USD",i.creativeId=t.adId,i.ttl=360,i.netRevenue=!0,s.push(i))}return s},transformBidParams:function(e,t){return(0,i.uh)({siteId:"number",networkId:"number"},e)},getUserSyncs:function(e,t,n,r){let o="https://cdn.connectad.io/connectmyusers.php?";if(n&&(o=(0,i.t0)(o,"gdpr",n.gdprApplies?1:0)),n&&"string"==typeof n.consentString&&(o=(0,i.t0)(o,"gdpr_consent",n.consentString)),r&&(o=(0,i.t0)(o,"us_privacy",r)),!0===p.vc.getConfig("coppa")&&(o=(0,i.t0)(o,"coppa",1)),e.iframeEnabled)return[{type:"iframe",url:o}];(0,i.yN)("Bidder ConnectAd: Please activate iFrame Sync")}},nn=[null,"120x90","200x200","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250","980x120","980x150","320x150","300x300","200x600","320x500","320x320"];function rn(e){let t={};return"function"==typeof e.getFloor&&(t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})),t.floor||e.params.bidfloor||e.params.floorprice||0}function on(e){const t=[];return e.forEach((function(e){const n=nn.indexOf(e[0]+"x"+e[1]);n>=0&&t.push(n)})),t}function an(e){return e.contents&&e.contents[0]&&e.contents[0].body}nn[77]="970x90",nn[123]="970x250",nn[43]="300x600",nn[286]="970x66",nn[3230]="970x280",nn[429]="486x60",nn[374]="700x500",nn[934]="300x1050",nn[1578]="320x100",nn[331]="320x250",nn[3301]="320x267",nn[2730]="728x250",(0,Le.dX)(tn),window.pubtech_pbjs.installedModules.push("connectadBidAdapter");__webpack_require__(35);const sn=new WeakMap;function dn(e){return(e=(0,i.sF)(e)).map((e=>{const[t,n]=e.split("x");return{w:parseInt(t,10),h:parseInt(n,10)}}))}const cn=new Set(["pos","placement","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),un={instream:1};const ln={1:w.Mk,2:w.pX,4:w.B5};const pn=["request","imp","bidResponse","response"],[fn,mn,gn,hn]=pn,[bn,yn]=["default","pbs"],vn=new Set(pn);const{registerOrtbProcessor:_n,getProcessors:In}=function(){const e={};return{registerOrtbProcessor(t){let{type:n,name:i,fn:r,priority:o=0,dialects:a=[bn]}=t;if(!vn.has(n))throw new Error(`ORTB processor type must be one of: ${pn.join(", ")}`);a.forEach((t=>{e.hasOwnProperty(t)||(e[t]={}),e[t].hasOwnProperty(n)||(e[t][n]={}),e[t][n][i]={priority:o,fn:r}}))},getProcessors:t=>e[t]||{}}}(),Tn={[fn]:{fpd:{priority:99,fn(e,t){(0,i.Ee)(e,t.ortb2)}},appFpd:En("app"),siteFpd:En("site"),deviceFpd:En("device"),onlyOneClient:{priority:-99,fn:function(e){["dooh","app","site"].reduce(((t,n)=>(null!=e[n]&&Object.keys(e[n]).length>0&&(null!=t?((0,i.yN)(`ORTB request specifies both '${t}' and '${n}'; dropping the latter.`),delete e[n]):t=n),t)),null)}},props:{fn(e,t){var n;Object.assign(e,{id:e.id||t.auctionId,test:e.test||0});const i=parseInt(t.timeout,10);isNaN(i)||(e.tmax=i),o(e,"source.tid",(null===(n=e.source)||void 0===n?void 0:n.tid)||t.auctionId)}}},[mn]:{fpd:{priority:99,fn(e,t){(0,i.Ee)(e,t.ortb2Imp)}},id:{fn(e,t){e.id=t.bidId}},banner:{fn:function(e,t,n){if(n.mediaType&&n.mediaType!==w.Mk)return;const o=(0,r.Z)(t,"mediaTypes.banner");if(o){const t={topframe:!0===(0,i.yL)()?0:1};o.sizes&&(t.format=dn(o.sizes)),o.hasOwnProperty("pos")&&(t.pos=o.pos),e.banner=(0,i.Ee)(t,e.banner)}}},video:{fn:function(e,t,n){if(n.mediaType&&n.mediaType!==w.pX)return;const o=(0,r.Z)(t,"mediaTypes.video");if(!(0,i.xb)(o)){const t=Object.fromEntries(Object.entries(o).filter((e=>{let[t]=e;return cn.has(t)})));if(o.playerSize){const e=dn(o.playerSize);e.length>1&&(0,i.yN)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(t,e[0])}const n=un[o.context];null!=n&&(t.placement=n),e.video=(0,i.Ee)(t,e.video)}}},pbadslot:{fn(e){var t,n;const i=null===(t=e.ext)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pbadslot;var r,o;i&&"string"==typeof i||(null===(r=e.ext)||void 0===r||(null===(o=r.data)||void 0===o||delete o.pbadslot))}}},[gn]:{mediaType:{priority:99,fn:function(e,t,n){if(e.mediaType)return;const i=n.mediaType;if(!i&&!ln.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=i||ln[t.mtype]}},banner:{fn:function(){let{createPixel:e=(e=>(0,i.SG)(decodeURIComponent(e)))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){t.mediaType===w.Mk&&(n.adm&&n.nurl?(t.ad=n.adm,t.ad+=e(n.nurl)):n.adm?t.ad=n.adm:n.nurl&&(t.adUrl=n.nurl))}}()},video:{fn:function(e,t,n){e.mediaType===w.pX&&((0,r.Z)(n.imp,"video.w")&&(0,r.Z)(n.imp,"video.h")&&([e.playerWidth,e.playerHeight]=[n.imp.video.w,n.imp.video.h]),t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl))}},props:{fn(e,t,n){var i;Object.entries({requestId:null===(i=n.bidRequest)||void 0===i?void 0:i.bidId,seatBidId:t.id,cpm:t.price,currency:n.ortbResponse.cur||n.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||n.ttl,netRevenue:n.netRevenue}).filter((e=>{let[t,n]=e;return void 0!==n})).forEach((t=>{let[n,i]=t;return e[n]=i})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}};function En(e){return{priority:90,fn(t){const n=p.vc.getConfig(e);"object"==typeof n&&(t[e]=(0,i.Ee)({},t[e],n))}}}function wn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.shift(),r=t.length>1?wn(...t):t[0];return Object.fromEntries(pn.map((e=>[e,Object.assign({},i[e],r[e])])))}function Sn(){let{context:e={},processors:t=Cn,overrides:n={},imp:r,request:o,bidResponse:a,response:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d=new WeakMap;function c(e,i,r,o){let a;return function(){return null==a&&(a=function(){let a=r.bind(this,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!sn.has(e)){const t=Object.entries(e);t.sort(((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1)),sn.set(e,t.map((e=>{let[t,n]=e;return[t,n.fn]})))}const n=sn.get(e).filter((e=>{let[n]=e;return!t.hasOwnProperty(n)||t[n]})).map((function(e){let[n,i]=e;return t.hasOwnProperty(n)?t[n].bind(this,i):i}));return function(){const e=Array.from(arguments);n.forEach((t=>{t.apply(this,e)}))}}(t()[e]||{},n[e]||{}));return i&&(a=i.bind(this,a)),function(){try{return a.apply(this,arguments)}catch(e){o.call(this,e,...arguments)}}}()),a.apply(this,arguments)}}const u=c(mn,r,(function(e,t,n){const i={};return e(i,t,n),i}),(function(e,t,n){(0,i.H)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:n})})),l=c(fn,o,(function(e,t,n,i){const r={imp:t};return e(r,n,i),r}),(function(e,t,n,r){throw(0,i.H)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:n,context:r}),e})),p=c(gn,a,(function(e,t,n){const i={};return e(i,t,n),i}),(function(e,t,n){(0,i.H)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:n})})),f=c(hn,s,(function(e,t,n,i){const r={bids:t};return e(r,n,i),r}),(function(e,t,n,r){throw(0,i.H)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:n,context:r}),e}));return{toORTB(t){let{bidderRequest:n,bidRequests:r,context:o={}}=t;r=r||n.bids;const a={req:Object.assign({bidRequests:r},e,o),imp:{}},s=r.map((t=>{const r=Object.assign({bidderRequest:n,reqContext:a.req},e,o),s=u(t,r);if(null!=s){if(s.hasOwnProperty("id"))return r.bidRequest=t,a.imp[s.id]=r,s;(0,i.H)("Converted ORTB imp does not specify an id, ignoring bid request",t,s)}})).filter(Boolean),c=l(s,n,a.req);return a.req.bidderRequest=n,null!=c&&d.set(c,a),c},fromORTB(e){let{request:t,response:n}=e;const r=d.get(t);if(null==r)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function o(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({ortbRequest:t},n,e)}const a=Object.fromEntries((t.imp||[]).map((e=>[e.id,e]))),s=(n.seatbid||[]).flatMap((e=>(e.bid||[]).map((t=>{if(a.hasOwnProperty(t.impid)&&r.imp.hasOwnProperty(t.impid))return p(t,o(r.imp[t.impid],{imp:a[t.impid],seatbid:e,ortbResponse:n}));(0,i.H)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)})))).filter(Boolean);return f(s,n,o(r.req))}}}Tn[mn].native={fn:function(e,t,n){if(n.mediaType&&n.mediaType!==w.B5)return;let r=t.nativeOrtbRequest;var o;r&&(r=Object.assign({},n.nativeRequest,r),null!==(o=r.assets)&&void 0!==o&&o.length?e.native=(0,i.Ee)({},{request:JSON.stringify(r),ver:r.ver},e.native):(0,i.yN)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}},Tn[gn].native={fn:function(e,t){if(e.mediaType===w.B5){let n;if(n="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!(0,i.PO)(n)||!Array.isArray(n.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:n}}}};const Cn=(0,i.HP)((()=>wn(Tn,In(bn)))),An="improvedigital",xn="https://ad.360yield.com",On="https://ad.360yield-basic.com",kn="pb",Dn="https://pbs.360yield.com/openrtb2/auction",Rn={DEFAULT_MIMES:["video/mp4"],PLACEMENT_TYPE:{INSTREAM:1,OUTSTREAM:3}},Nn={code:An,gvlid:253,aliases:["id"],supportedMediaTypes:[w.Mk,w.B5,w.pX],syncStore:{extendMode:!1,placementId:null},isBidRequestValid:e=>!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId)),buildRequests(e,t){return this.syncStore.placementId=this.syncStore.placementId||e[0].params.placementId,Pn.buildServerRequests(e,t)},interpretResponse(e,t){let{ortbRequest:n}=t;return Bn.fromORTB({request:n,response:e.body}).bids},getUserSyncs(e,t,n,i){if(!0===p.vc.getConfig("coppa")||!(0,It.h)(n))return[];const o=[];if(!this.syncStore.extendMode&&e.pixelEnabled||!e.iframeEnabled)e.pixelEnabled&&t.forEach((e=>{(0,r.Z)(e,`body.ext.${An}.sync`,[]).forEach((e=>{o.some((t=>t.url===e))||o.push({type:"image",url:e})}))}));else{const{gdprApplies:e,consentString:r}=n||{},a=new Set;this.syncStore.extendMode&&t&&t.forEach((e=>{var t,n;null!=e&&null!==(t=e.body)&&void 0!==t&&null!==(n=t.ext)&&void 0!==n&&n.responsetimemillis&&Object.keys(e.body.ext.responsetimemillis).forEach((e=>a.add(e)))})),o.push({type:"iframe",url:`https://hb.360yield.com/prebid-universal-creative/load-cookie.html?placement_id=${this.syncStore.placementId}`+(this.syncStore.extendMode?"&pbs=1":"")+("boolean"==typeof e?`&gdpr=${Number(e)}`:"")+(r?`&gdpr_consent=${r}`:"")+(i?`&us_privacy=${encodeURIComponent(i)}`:"")+(a.size?`&bidders=${[...a].join(",")}`:"")})}return o}};(0,Le.dX)(Nn);const Bn=Sn({context:{ttl:300,nativeRequest:{eventtrackers:[{event:1,methods:[1,2]}]}},imp(e,t,n){const r=e(t,n);r.secure=Number("https:"===window.location.protocol),!r.bidfloor&&t.params.bidFloor&&(r.bidfloor=t.params.bidFloor,r.bidfloorcur=(0,i.An)("bidFloorCur",t.params).toUpperCase()||"USD");const a=n.extendMode?"ext.prebid.bidder.improvedigital":"ext.bidder",s=t.params.placementId;return s?(o(r,`${a}.placementId`,s),n.extendMode&&o(r,"ext.prebid.storedrequest.id",""+s)):(o(r,`${a}.publisherId`,(0,i.An)("publisherId",t.params)),o(r,`${a}.placementKey`,(0,i.An)("placementKey",t.params))),o(r,`${a}.keyValues`,(0,i.An)("keyValues",t.params)||void 0),r},request(e,t,n,r){const o=e(t,n,r);return(0,i.Ee)(o,{id:(0,i._d)(),source:{tid:r.bidRequests[0].transactionId},ext:{improvedigital:{sdk:{name:"pbjs",version:"7.41.0"}}}}),o},bidResponse(e,t,n){if(!t.adm||!t.price||t.hasOwnProperty("errorCode"))return;const{bidRequest:i}=n;n.mediaType=(()=>{const e=Object.keys(i.mediaTypes);return 1===e.length?e[0]:-1!==t.adm.search(/^(<\?xml|<vast)/i)?w.pX:"{"===t.adm[0]?w.B5:w.Mk})();const o=e(t,n),a=(0,r.Z)(t,`ext.${An}`,{});return Object.assign(o,{dealId:"string"==typeof a.buying_type&&"rtb"!==a.buying_type?a.line_item_id:void 0,netRevenue:a.is_net||!1}),o.mediaType===w.pX&&Pn.isOutstreamVideo(i)&&Object.assign(o,{adResponse:{content:o.vastXml},renderer:Un.createRenderer(i)}),jn.forwardBid({bidRequest:i,bid:o}),o},overrides:{imp:{banner(e,t,n,i){if(n.mediaTypes[w.Mk]){if(!0!==p.vc.getConfig("improvedigital.usePrebidSizes")){const e=Object.assign({},n.mediaTypes[w.Mk],{sizes:null});n={...n,mediaTypes:{[w.Mk]:e}}}e(t,n,i)}},video(e,t,n,i){var a;if(!n.mediaTypes[w.pX])return;const s=Object.assign({mimes:Rn.DEFAULT_MIMES},n.mediaTypes[w.pX],null===(a=n.params)||void 0===a?void 0:a.video);e(t,{...n,mediaTypes:{[w.pX]:s}},i),o(t,"ext.is_rewarded_inventory",1===s.rewarded||1===(0,r.Z)(s,"ext.rewarded")||void 0),!t.video.placement&&Pn.isOutstreamVideo(n)&&(t.video.placement=Rn.PLACEMENT_TYPE.OUTSTREAM)}},request:{gdprAddtlConsent(e,t,n){var i;const r=null==n||null===(i=n.gdprConsent)||void 0===i?void 0:i.addtlConsent;if(r)if(Nn.syncStore.extendMode)e(t,n);else if(r&&-1!==r.indexOf("~")){const e=r.substring(r.indexOf("~")+1);e&&o(t,"user.ext.consented_providers_settings.consented_providers",e.split(".").map((e=>parseInt(e,10))))}}}}}),Pn={buildServerRequests(e,t){const n=!0===p.vc.getConfig("improvedigital.extend"),i=[],r=!0===p.vc.getConfig("improvedigital.singleRequest"),o=[],a=[];function s(e,n){if(e)return Dn;const i=[];return i.push((0,It.h)(null==t?void 0:t.gdprConsent)?xn:On),n&&i.push(n),i.push(kn),i.join("/")}function d(e,n,i){const r=Bn.toORTB({bidRequests:e,bidderRequest:t,context:{extendMode:i}});return{method:"POST",url:s(i,n),data:JSON.stringify(r),ortbRequest:r,bidderRequest:t}}let c=null;return e.map((e=>{const t=e.params.publisherId,s=this.isExtendModeEnabled(n,e.params);if(r){if(c){if(t&&c!==t)throw new Error("All Improve Digital placements in a single call must have the same publisherId. Please check your 'params.publisherId' or turn off the single request mode.")}else c=t;s?o.push(e):a.push(e)}else i.push(d([e],t,s))})),r?(o.length&&i.push(d(o,c,!0)),a.length&&i.push(d(a,c,!1)),i):i},isExtendModeEnabled(e,t){const n="boolean"==typeof t.extend?t.extend:e;return n&&!Nn.syncStore.extendMode&&(Nn.syncStore.extendMode=!0),n},isOutstreamVideo:e=>"outstream"===(0,r.Z)(e,"mediaTypes.video.context")},Un={RENDERER_URL:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",createRenderer(e){const t=l.Th.install({id:e.adUnitCode,url:this.RENDERER_URL,config:(0,r.Z)(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(this.render)}catch(e){(0,i.yN)("Prebid Error calling setRender on renderer",e)}return t},render(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Un.handleRendererEvents.bind(null,e))}))},handleRendererEvents(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}},jn={RENDERER_URL:"https://cdn.360yield.com/razr/tag.js",forwardBid(e){let{bidRequest:t,bid:n}=e;if(n.mediaType!==w.Mk)return;const i={prebid:{bidRequest:t,bid:n}},r=`<script>window.__razr_config = ${JSON.stringify(i).replace(/<\/script>/gi,"\\x3C/script>")};<\/script>`;n.ad=n.ad.replace(/<body[^>]*>/,(e=>e+r)),this.installListener()},installListener(){this._listenerInstalled||(window.addEventListener("message",(function(e){var t,n;const i=null===(t=e.data)||void 0===t||null===(n=t.razr)||void 0===n?void 0:n.load;if(!i)return;e.source&&(i.source=e.source,i.id&&e.source.postMessage({razr:{id:i.id}},"*"));const r=window.razr=window.razr||{};r.q=r.q||[],r.q.push(i),r.loaded||(0,L.B)(jn.RENDERER_URL,An)})),this._listenerInstalled=!0)}};window.pubtech_pbjs.installedModules.push("improvedigitalBidAdapter");const Mn="ix",qn="roundel",Ln="https://htlb.casalemedia.com/openrtb/pbjs",zn=[w.Mk,w.pX,w.B5],Fn=100,$n=300,Hn=3600,Zn=3600,Gn=!0,Wn=4,Vn=[144,144],Kn={JPY:1},Xn={PBJS:"p",IX:"x"},Jn="https://dsum.casalemedia.com/pbusermatch?origin=prebid",Yn={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},Qn={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},ei={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":""},ti=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],ni=["mimes","minduration","maxduration"],ii=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],ri="ixdiag",oi=`${Mn}_features`;let ai=!1;const si=(0,V.df)({gvlid:10,bidderCode:Mn}),di={featureToggles:{},isFeatureEnabled:function(e){return(0,r.Z)(this.featureToggles,`features.${e}.activated`)},getFeatureToggles:function(){if(si.localStorageIsEnabled()){const e=(0,i.dj)(si.getDataFromLocalStorage(oi));(0,r.Z)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){const t=e.body,n=new Date,i=(0,r.Z)(t,"ext.features");i&&(this.featureToggles={expiry:n.setHours(n.getHours()+1),features:i},si.localStorageIsEnabled()&&si.setDataInLocalStorage(oi,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},si.localStorageIsEnabled()&&si.removeDataFromLocalStorage(oi)}};let ci=0,ui="",li="";const pi={Banner:1,Video:2,Audio:3,Native:4};let fi=0,mi=0,gi=!1,hi=0;function bi(e){const t=yi(e,w.pX),n=(0,r.Z)(e,"mediaTypes.video"),o=(0,r.Z)(e,"params.video");if(Ei(n,o).length)return{};t.video=o?(0,i.I8)(e.params.video):{},t.ext.tid=(0,r.Z)(e,"ortb2Imp.ext.tid");for(const e in n)-1===ii.indexOf(e)||t.video.hasOwnProperty(e)||(t.video[e]=n[e]);if(t.video.minduration>t.video.maxduration)return(0,i.H)(`IX Bid Adapter: video minduration [${t.video.minduration}] cannot be greater than video maxduration [${t.video.maxduration}]`,{bidder:Mn,code:Yn.VIDEO_DURATION_INVALID}),{};const a=o&&o.context||n&&n.context;if(a&&!t.video.hasOwnProperty("placement")&&(a===Ze.LD?t.video.placement=1:a===Ze.gZ?(0,r.Z)(o,"playerConfig.floatOnScroll")?t.video.placement=5:t.video.placement=4:(0,i.yN)(`IX Bid Adapter: Video context '${a}' is not supported`)),!t.video.w||!t.video.h){const n=wi((0,r.Z)(t,"video.playerSize"))||wi((0,r.Z)(e,"params.size"));if(!n)return(0,i.yN)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=n[0],t.video.h=n[1]}return vi(e,t,w.pX),t}function yi(e,t){const n={};if(n.id=e.bidId,n.ext={},(0,r.Z)(e,`params.${t}.siteId`)&&!isNaN(Number(e.params[t].siteId)))switch(t){case w.Mk:n.ext.siteID=e.params.banner.siteId.toString();break;case w.pX:n.ext.siteID=e.params.video.siteId.toString();break;case w.B5:n.ext.siteID=e.params.native.siteId.toString()}else n.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(n.ext.sid=String(e.params.id)),n}function vi(e,t,n){let r=null,o=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,i.LQ)(e.getFloor)){let r="*",a="*";if(n&&(0,i.r3)(zn,n)){const{w:e,h:i}=t[n];r=n,a=[e,i]}try{o=e.getFloor({mediaType:r,size:a})}catch(e){(0,i.yN)("priceFloors module call getFloor failed, error : ",e)}}o?(t.bidfloor=o.floor,t.bidfloorcur=o.currency,t.ext.fl=Xn.PBJS):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl=Xn.IX)}function _i(e,t,n){const o={},a=!(!(0,r.Z)(e,"exp")||!(0,i.U)(e.exp)),s=(0,r.Z)(e,"dealid")||(0,r.Z)(e,"ext.dealid");Kn.hasOwnProperty(t)?o.cpm=e.price/Kn[t]:o.cpm=e.price/Fn,o.requestId=e.impid,s&&(o.dealId=s),o.netRevenue=Gn,o.currency=t,o.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=pi.Video||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(o.vastUrl=e.ext.vasturl):o.vastXml=e.adm;let d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,i.yN)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==pi.Video?(o.width=n.video.w,o.height=n.video.h,o.mediaType=w.pX,o.mediaTypes=n.mediaTypes,o.ttl=a?e.exp:Hn):d&&d.native?(o.native={ortb:d.native},o.width=e.w?e.w:1,o.height=e.h?e.h:1,o.mediaType=w.B5,o.ttl=a?e.exp:Zn):(o.ad=e.adm,o.width=e.w,o.height=e.h,o.mediaType=w.Mk,o.ttl=a?e.exp:$n),o.meta={},o.meta.networkId=(0,r.Z)(e,"ext.dspid"),o.meta.brandId=(0,r.Z)(e,"ext.advbrandid"),o.meta.brandName=(0,r.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(o.meta.advertiserDomains=e.adomain),o}function Ii(e){return Array.isArray(e)&&2===e.length&&(0,i.U)(e[0])&&(0,i.U)(e[1])}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Ii(e))return e[0]===t[0]&&e[1]===t[1];for(let n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function Ei(e,t){const n=[];e||(0,i.yN)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let i of ni){const r=e&&e.hasOwnProperty(i),o=t&&t.hasOwnProperty(i);r||o||n.push(`IX Bid Adapter: ${i} is not included in either the adunit or params level`)}const r=e&&e.hasOwnProperty("protocol"),o=e&&e.hasOwnProperty("protocols"),a=t&&t.hasOwnProperty("protocol"),s=t&&t.hasOwnProperty("protocols");return r||o||a||s||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ii(e)?e:!!Ii(e[0])&&e[0]}function Si(e,t,n){if(!e)return;return{...(0,u.sE)(n,(t=>t.bidId===e)),...(0,u.sE)(t,(t=>t.id===e))}}function Ci(e,t,n,a){fi=0,mi=0,gi=!1,hi=0;let s=Ln,d=function(e){let t=[],n={};if((0,i.kJ)(e))for(const i of e)ei.hasOwnProperty(i.source)&&(0,r.Z)(i,"uids.0")&&(n[i.source]=!0,""!=ei[i.source]&&(i.uids[0].ext={rtiPartner:ei[i.source]}),delete i.uids[0].atype,t.push(i));return{toSend:t,seenSources:n}}((0,r.Z)(e,"0.userIdAsEids")),c=d.toSend,u=8e3;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){let n=window.headertag.getIdentityInfo();if(n&&"object"==typeof n)for(const i in n)if(n.hasOwnProperty(i)){let r=n[i];!r.responsePending&&r.data&&"object"==typeof r.data&&Object.keys(r.data).length&&!t.seenSources[r.data.source]&&e.push(r.data)}}(c,d),t&&t.bidderCode===qn&&!d.seenSources["liveramp.com"])return[];const l=[];let f=function(e){const t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=si.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e),m=function(e){var t=e.map((e=>e.transactionId)).filter(((e,t,n)=>n.indexOf(e)===t)),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.41.0",userIds:ki(e[0]),url:window.location.href.split("?")[0]};for(let o=0;o<t.length;o++){var i=e.filter((e=>e.transactionId===t[o]))[0];(0,r.Z)(i,"mediaTypes")&&(Object.keys(i.mediaTypes).length>1&&n.mfu++,(0,r.Z)(i,"mediaTypes.native")&&n.nu++,(0,r.Z)(i,"mediaTypes.banner")&&n.bu++,"outstream"===(0,r.Z)(i,"mediaTypes.video.context")&&(n.ou++,qi(i)&&(n.ren=!0)),"instream"===(0,r.Z)(i,"mediaTypes.video.context")&&n.iu++,n.allu++)}return n}(e);for(var g in m)f.ext.ixdiag[g]=m[g];f=function(e,t,n,o,a){const s=(0,r.Z)(t,"timeout");s&&(e.ext.ixdiag.tmax=s);p.vc.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=p.vc.getConfig("userSync").syncsPerBidder);const d=function(){if(!si.localStorageIsEnabled())return;const e={};let t;try{t=JSON.parse(si.getDataFromLocalStorage(ri)||"{}")}catch(e){return(0,i.H)("ix can not read ixdiag from localStorage."),null}return Object.keys(t).forEach((n=>{Object.keys(t[n]).forEach((i=>{"number"==typeof t[n][i]&&(e[i]=e[i]?e[i]+t[n][i]:t[n][i])}))})),e}();(0,i.xb)(d)||(e.ext.ixdiag.err=d);e.ext.ixdiag.imps=Object.keys(n).length,e.source={tid:o[0].auctionId},o[0].schain&&(e.source.ext={},e.source.ext.schain=o[0].schain);a.length>0&&(e.user={},e.user.eids=a);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(f,t,n,e,c),f=function(e,t){if(t){t.gdprConsent&&(ui=t.gdprConsent,ui.hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:ui.gdprApplies?1:0}}),ui.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:ui.consentString||""},ui.hasOwnProperty("addtlConsent")&&ui.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:ui.addtlConsent}))),t.uspConsent&&(o(e,"regs.ext.us_privacy",t.uspConsent),li=t.uspConsent);const n=(0,r.Z)(t,"refererInfo.page");n&&(e.site.page=n),t.gppConsent&&(o(e,"regs.gpp",t.gppConsent.gppString),o(e,"regs.gpp_sid",t.gppConsent.applicableSections))}p.vc.getConfig("coppa")&&o(e,"regs.coppa",1);return e}(f,t);let h={};!function(e,t,n,r,o,a,s){ci=e[0].params.siteId,a.s=ci;const d=t&&t.bidderCode||"ix",c=p.vc.getConfig(d);if(fi=`${r}${(0,i.Re)({...a,r:JSON.stringify(n)})}`.length,fi>s)return(0,i.H)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:Mn,code:Yn.EXCEEDS_MAX_SIZE}),o;mi=fi;let u=0;if(c&&"object"==typeof c.firstPartyData){const e=c.firstPartyData;let t="?";for(const n in e)e.hasOwnProperty(n)&&(t+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`);t=t.slice(0,-1),u=encodeURIComponent(t).length,di.isFeatureEnabled("pbjs_use_buildRequestV2")?"page"in n.site?n.site.page+=t:n.site.page=t:u<s?("page"in n.site?n.site.page+=t:n.site.page=t,mi+=u):(0,i.H)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:Mn,code:Yn.IX_FPD_EXCEEDS_MAX_SIZE})}}(e,t,f,s,l,h,u);let b=0;const y=Object.keys(n);let v=!1;for(let o=0;o<y.length&&(di.isFeatureEnabled("pbjs_use_buildRequestV2")||!(mi>=u))&&!(l.length>=Wn);o++){f=Ai(n,y,f,o,u),mi+=hi;const a=(0,r.Z)(t,"ortb2")||{},d={...a.site||a.context},c={...a.user};if(!(0,i.xb)(a)&&!v){f=xi(t,f,a,d,c);const e=(0,i.I8)(f);e.site=(0,i.Ee)({},e.site,d),e.user=(0,i.Ee)({},e.user,c);if(`${s}${(0,i.Re)({...h,r:JSON.stringify(e)})}`.length<u){f.site=(0,i.Ee)({},f.site,d),f.user=(0,i.Ee)({},f.user,c),v=!0;const e=encodeURIComponent(JSON.stringify({...d,...c})).length;mi+=e}else(0,i.H)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:Mn,code:Yn.PB_FPD_EXCEEDS_MAX_SIZE})}f=Oi(n,f,y,o,h,s,u);const p=o===y.length-1;(gi||p)&&(p&&!b||(f.ext.ixdiag.sn=b),b++,l.push({method:"POST",url:s+"?s="+ci,data:(0,i.I8)(f),option:{contentType:"text/plain"},validBidRequests:e}),mi=fi,f.imp=[],v=!1)}return l}function Ai(e,t,n,r,a){const s=e[t[r]],{missingImps:d=[],ixImps:c=[]}=s;let u=a-mi;const l={ixImps:c,missingBannerImpressions:d},p=Object.keys(l).map((e=>l[e])).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(...t)),[]);if(hi=encodeURIComponent(JSON.stringify({impressionObjects:p})).length,!di.isFeatureEnabled("pbjs_use_buildRequestV2"))for(;p.length&&hi>u;)gi=!0,p.pop(),hi=encodeURIComponent(JSON.stringify({impressionObjects:p})).length;const f=e[t[r]].gpid,m=e[t[r]].dfp_ad_unit_code,g=e[t[r]].tid,h=e[t[r]].sid;if(p.length&&w.Mk in p[0]){const{id:o,banner:{topframe:a}}=p[0],s={id:o,banner:{topframe:a,format:p.map((e=>{let{banner:{w:t,h:n},ext:i}=e;return{w:t,h:n,ext:i}}))}};for(let e=0;e<s.banner.format.length;e++)null!=s.banner.format[e].ext&&null!=s.banner.format[e].ext.sid&&delete s.banner.format[e].ext.sid,"bidfloor"in p[e]&&(s.banner.format[e].ext.bidfloor=p[e].bidfloor);const d=e[t[r]].pos;(0,i.U)(d)&&(s.banner.pos=d),(m||f||g||h)&&(s.ext={},s.ext.dfp_ad_unit_code=m,s.ext.gpid=f,s.ext.tid=g,s.ext.sid=h),"bidfloor"in p[0]&&(s.bidfloor=p[0].bidfloor),"bidfloorcur"in p[0]&&(s.bidfloorcur=p[0].bidfloorcur),n.imp.push(s)}else p.forEach((e=>o(e,"ext.gpid",f))),n.imp.push(...p);return n}function xi(e,t,n,r,a){if(t.ext.ixdiag.fpd=!0,Object.keys(r).forEach((e=>{-1===Qn.SITE.indexOf(e)&&delete r[e]})),Object.keys(a).forEach((e=>{-1===Qn.USER.indexOf(e)&&delete a[e]})),n.device){const e={...n.device.sua};(0,i.xb)(e)||o(t,"device.sua",e)}return n.hasOwnProperty("regs")&&!e.gppConsent&&(n.regs.hasOwnProperty("gpp")&&"string"==typeof n.regs.gpp&&o(t,"regs.gpp",n.regs.gpp),n.regs.hasOwnProperty("gpp_sid")&&Array.isArray(n.regs.gpp_sid)&&o(t,"regs.gpp_sid",n.regs.gpp_sid)),t}function Oi(e,t,n,r,o,a,s){const d=e[n[r]].pbadslot,c=e[n[r]].tagId,u=e[n[r]].adUnitCode,l=e[n[r]].divId;if(d||c||u||l){const e=(0,i.I8)(t),n=`${a}${(0,i.Re)({...o,r:JSON.stringify(e)})}`.length;(di.isFeatureEnabled("pbjs_use_buildRequestV2")||n<s)&&(t.ext.ixdiag.pbadslot=d,t.ext.ixdiag.tagid=c,t.ext.ixdiag.adunitcode=u,t.ext.ixdiag.divId=l)}return t}function ki(e){const t=e.userId||{};return ti.filter((e=>t[e]))}function Di(e,t){if(t)for(let n=0;n<e.length;n++){const i=e[n];if(t[0]===i[0]&&t[1]===i[1]){e.splice(n,1);break}}}function Ri(e,t){const n=function(e){const t=yi(e,w.B5),n=e.nativeOrtbRequest;return n.eventtrackers=[{event:1,methods:[1,2]}],n.privacy=1,t.native={request:JSON.stringify(n),ver:"1.2"},t.ext.tid=(0,r.Z)(e,"ortb2Imp.ext.tid"),vi(e,t,w.B5),t}(e);if(0!=Object.keys(n).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=(0,r.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,r.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,r.Z)(e,"params.tagId");const o=e.adUnitCode,a=document.getElementById(o)?o:(0,i.ky)(o).divId;t[e.transactionId].adUnitCode=o,t[e.transactionId].divId=a}}function Ni(e,t){const n=bi(e);if(0!=Object.keys(n).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=(0,r.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,r.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,r.Z)(e,"params.tagId");const o=e.adUnitCode,a=document.getElementById(o)?o:(0,i.ky)(o).divId;t[e.transactionId].adUnitCode=o,t[e.transactionId].divId=a}}function Bi(e,t,n){let o=function(e){const t=yi(e,w.Mk);t.banner={};const n=(0,r.Z)(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1]),t.banner.topframe=(0,i.yL)()?0:1,vi(e,t,w.Mk),t}(e);const a=Ti((0,r.Z)(e,"mediaTypes.banner.sizes"),(0,r.Z)(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=(0,r.Z)(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=(0,r.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.transactionId].tid=(0,r.Z)(e,"ortb2Imp.ext.tid"),n[e.transactionId].pbadslot=(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot"),n[e.transactionId].tagId=(0,r.Z)(e,"params.tagId"),n[e.transactionId].pos=(0,r.Z)(e,"mediaTypes.banner.pos");const s=(0,r.Z)(e,"params.id");!s||"string"!=typeof s&&"number"!=typeof s||(n[e.transactionId].sid=String(s));const d=e.adUnitCode,c=document.getElementById(d)?d:(0,i.ky)(d).divId;n[e.transactionId].adUnitCode=d,n[e.transactionId].divId=c,a&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(o)),function(e,t,n){const o=e.transactionId;if(t.hasOwnProperty(o)){let n=[];t[o].hasOwnProperty("missingSizes")&&(n=t[o].missingSizes),Di(n,e.params.size),t[o].missingSizes=n}else if((0,r.Z)(e,"mediaTypes.banner.sizes")){let r=(0,i.I8)(e.mediaTypes.banner.sizes);Di(r,e.params.size);let a={missingSizes:r,impression:n};t[o]=a}}(e,t,o)}function Pi(e,t,n){const r=(0,i.I8)(t);return r.banner.w=n[0],r.banner.h=n[1],vi(e,r,w.Mk),r}function Ui(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Mn&&function(e){if(!si.localStorageIsEnabled())return;let t;try{t=JSON.parse(si.getDataFromLocalStorage(ri)||"{}")}catch(e){(0,i.yN)("ix can not read ixdiag from localStorage.")}const n=new Date;if(Object.keys(t).map((e=>{const i=new Date(e);i.setDate(i.getDate()+7)-n<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Mn){const i=n.toISOString().slice(0,10),r=e.arguments[1].code;r&&(t[i]=t[i]||{},Number(t[i][r])||(t[i][r]=0),t[i][r]++)}si.setDataInLocalStorage(ri,JSON.stringify(t))}(e)}function ji(e){e.renderer.push((function(){const t=e.adUnitCode,n=document.getElementById(t)?t:(0,i.ky)(t).divId;n?window.createIXPlayer(n,e):(0,i.yN)(`IX Bid Adapter: adUnitCode: ${n} not found on page.`)}))}function Mi(e,t){const n=l.Th.install({id:e,url:t,loaded:!1});try{n.setRender(ji)}catch(e){return(0,i.yN)("Prebid Error calling setRender on renderer",e),null}return t?n:((0,i.yN)("Outstream renderer URL not found"),null)}function qi(e){if("outstream"!==(0,r.Z)(e,"mediaTypes.video.context"))return!1;let t=(0,r.Z)(e,"mediaTypes.video.renderer");t||(t=(0,r.Z)(e,"renderer"));return!!("object"!=typeof t||!t.url||!t.render)||t.backupOnly}const Li={code:Mn,gvlid:10,aliases:[{code:qn,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:zn,isBidRequestValid:function(e){ai||(a.on(d.EVENTS.AUCTION_DEBUG,Ui),a.on(d.EVENTS.AD_RENDER_FAILED,Ui),ai=!0);const t=(0,r.Z)(e,"params.video"),n=(0,r.Z)(e,"params.size"),o=(0,r.Z)(e,"mediaTypes.banner.sizes"),s=(0,r.Z)(e,"mediaTypes.video"),c=(0,r.Z)(e,"mediaTypes.video.playerSize"),u=e.params.hasOwnProperty("bidFloor"),l=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,i.r3)(zn,e.mediaType))return(0,i.yN)("IX Bid Adapter: media type is not supported."),!1;if((0,r.Z)(e,"mediaTypes.banner")&&!o)return!1;if(n){const t=wi(n);if(!t)return(0,i.H)("IX Bid Adapter: size has invalid format.",{bidder:Mn,code:Yn.BID_SIZE_INVALID_FORMAT}),!1;if(!Ti(e.sizes,t)&&!Ti(c,t)&&!Ti(o,t))return(0,i.H)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Mn,code:Yn.BID_SIZE_NOT_INCLUDED}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,i.H)("IX Bid Adapter: siteId must be string or number type.",{bidder:Mn,code:Yn.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,i.H)("IX Bid Adapter: siteId must valid value",{bidder:Mn,code:Yn.SITE_ID_INVALID_VALUE}),!1;if((u||l)&&!(u&&l&&(p=e.params.bidFloor,f=e.params.bidFloorCur,Boolean("number"==typeof p&&"string"==typeof f&&f.match(/^[A-Z]{3}$/)))))return(0,i.H)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Mn,code:Yn.BID_FLOOR_INVALID_FORMAT}),!1;var p,f;if(s&&t){const n=bi(e).video,o=Ei(s,t);if((0,r.Z)(e,"mediaTypes.video.context")===Ze.gZ&&qi(e)&&n){const e=[(0,r.Z)(n,"w"),(0,r.Z)(n,"h")];if(!(e[0]>=Vn[0]&&e[1]>=Vn[1]))return(0,i.H)(`IX Bid Adapter: ${e} is an invalid size for IX outstream renderer`),!1}if(o.length)return o.forEach((e=>{(0,i.H)(e,{bidder:Mn,code:Yn.PROPERTY_NOT_INCLUDED})})),!1}return function(e){return void 0===(0,r.Z)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){const n=[],o={},a={},s={},d={};di.getFeatureToggles(),e.forEach((e=>{const t=Object.keys((0,r.Z)(e,"mediaTypes",{}));for(const n in t)switch(t[n]){case w.Mk:Bi(e,d,o);break;case w.pX:Ni(e,a);break;case w.B5:Ri(e,s);break;default:(0,i.yN)(`IX Bid Adapter: ad unit mediaTypes ${n} is not supported`)}}));for(let t in d)if(d.hasOwnProperty(t)){let n=d[t].missingSizes;o.hasOwnProperty(t)||(o[t]={}),o[t].hasOwnProperty("missingImps")||(o[t].missingImps=[],o[t].missingCount=0);let i=d[t].impression;for(let r=0;r<n.length;r++){let a=Pi(e[0],i,n[r]);o[t].missingImps.push(a),o[t].missingCount++}}return Object.keys(o).length>0&&n.push(...Ci(e,t,o)),Object.keys(a).length>0&&n.push(...Ci(e,t,a)),Object.keys(s).length>0&&n.push(...Ci(e,t,s)),n},interpretResponse:function(e,t){const n=[];let o=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return di.setFeatureToggles(e),n;const a=e.body,s=a.seatbid;for(let e=0;e<s.length;e++){if(!s[e].hasOwnProperty("bid"))continue;const d=s[e].bid,c=t.data;for(let e=0;e<d.length;e++){const i=Si(d[e].impid,c.imp,t.validBidRequests);if(o=_i(d[e],a.cur,i),o.mediaType===w.pX&&qi(i)){const t=(0,r.Z)(a,"ext.videoplayerurl");if(o.renderer=Mi(d[e].bidId,t),!o.renderer)continue}n.push(o)}if((0,r.Z)(c,"ext.ixdiag.err")&&si.localStorageIsEnabled())try{si.removeDataFromLocalStorage(ri)}catch(e){(0,i.H)("ix can not clear ixdiag from localStorage.")}}return di.setFeatureToggles(e),n},transformBidParams:function(e,t){return(0,i.uh)({siteID:"number"},e)},getUserSyncs:function(e,t){const n=[];let i=null;if(t.length>0&&(i=(0,r.Z)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==i&&0==i)return[];if(e.iframeEnabled)n.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let e=null;p.vc.getConfig("userSync")&&(e=p.vc.getConfig("userSync").syncsPerBidder),0===e&&(e=i),e=i&&(0===e||e)?i>e?e:i:1;for(let t=0;t<e;t++)n.push({type:"image",url:zi(e,t)})}return n}};function zi(e,t){let n="",i="0";return ui&&ui.hasOwnProperty("gdprApplies")&&(i=ui.gdprApplies?"1":"0"),ui&&ui.hasOwnProperty("consentString")&&(n=ui.consentString||""),Jn+"&site_id="+ci.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+i+"&gdpr_consent="+n+"&us_privacy="+(li||"")}(0,Le.dX)(Li),window.pubtech_pbjs.installedModules.push("ixBidAdapter");const Fi={BIDDER_CODE:"invibes",BID_ENDPOINT:".videostep.com/Bid/VideoAdContent",BID_SUBDOMAIN:"https://bid",SYNC_ENDPOINT:"https://k.r66net.com/GetUserSync",TIME_TO_LIVE:300,DEFAULT_CURRENCY:"EUR",PREBID_VERSION:9,METHOD:"GET",INVIBES_VENDOR_ID:436,USERID_PROVIDERS:["pubcid","pubProvidedId","uid2","zeotapIdPlus","id5id"],META_TAXONOMY:["networkId","networkName","agencyId","agencyName","advertiserId","advertiserName","advertiserDomains","brandId","brandName","primaryCatId","secondaryCatIds","mediaType"],DISABLE_USER_SYNC:!0},$i=(0,V.df)({gvlid:Fi.INVIBES_VENDOR_ID,bidderCode:Fi.BIDDER_CODE}),Hi={code:Fi.BIDDER_CODE,gvlid:Fi.INVIBES_VENDOR_ID,isBidRequestValid:function(e){if("object"!=typeof e.params)return!1;if(null==e.params.placementId)return!1;return!0},buildRequests:function(e,t){const n=[],i=[];let r,o,a,s=(t=t||{}).auctionStart||Date.now();e.forEach((function(e){var t;e.startTime=(new Date).getTime(),n.push(e.params.placementId),i.push(e.adUnitCode),a=a||e.params.domainId,r=r||e.params.customEndpoint,Wi=Wi||e.params.customUserSync,Vi=null==e||null===(t=e.params)||void 0===t?void 0:t.disableUserSyncs,o=o||e.userId})),Gi.optIn=Gi.optIn||function(e){if(e&&e.vendorData){if(Gi.GdprModuleInstalled=!0,Gi.gdpr_consent=function(e){if(e.purpose&&e.purpose.consents&&null!=e.tcString)return e.tcString;return e.consentData}(e.vendorData),!e.vendorData.gdprApplies||e.vendorData.hasGlobalConsent){var t;for(t=0;t<Gi.purposes.length;++t)Gi.purposes[t]=!0;for(t=0;t<Gi.legitimateInterests.length;++t)Gi.legitimateInterests[t]=!0;return 2}let n=function(e){if(e.purpose&&e.purpose.consents)return e.purpose.consents;if(e.purposeConsents)return e.purposeConsents;return null}(e.vendorData);if(null==n)return 0;let i=function(e){if(e.purpose&&e.purpose.consents)return 10;return 5}(e.vendorData);if(!or(n,Gi.purposes,i))return 0;or(function(e){if(e.purpose&&e.purpose.legitimateInterests)return e.purpose.legitimateInterests;return null}(e.vendorData),Gi.legitimateInterests,10);let r=Fi.INVIBES_VENDOR_ID.toString(10),o=function(e){if(e.vendor&&e.vendor.consents)return e.vendor.consents;if(e.vendorConsents)return e.vendorConsents;return null}(e.vendorData),a=!0===function(e){if(e.vendor&&e.vendor.legitimateInterests)return e.vendor.legitimateInterests;return{}}(e.vendorData)[r];return null==o||null==o[r]?4:!1===o[r]&&!1===a?0:2}return Gi.GdprModuleInstalled=!1,0}(t.gdprConsent),Gi.visitId=Gi.visitId||er();const d=function(){let e={};try{let t=$i.getDataFromLocalStorage("ivbs");null!=t&&(e=JSON.parse(t))}catch(e){}let t,n=/[\\?&]([^=]+)=([^\\?&#]+)/g;for(;null!=(t=n.exec(window.location.href));)t.index===n.lastIndex&&n.lastIndex++,e[t[1].toLowerCase()]=t[2];return e}();let c=function(e){let t;e&&Fi.USERID_PROVIDERS.forEach((n=>{e[n]&&(t=t||{},t[n]=e[n])}));return t}(o),u={placementIds:n,adUnitCodes:i,auctionStartTime:s,bidVersion:Fi.PREBID_VERSION};c&&(u.userId=c);let l={location:tr(Zi),videoAdHtmlId:er(),showFallback:"0"===d.advs,ivbsCampIdsLocal:ir("IvbsCampIdsLocal"),bidParamsJson:JSON.stringify(u),capCounts:rr(),pcids:Object.keys(Gi.pushedCids).join(","),vId:Gi.visitId,width:Zi.innerWidth,height:Zi.innerHeight,oi:Gi.optIn,kw:ar,purposes:Gi.purposes.toString(),li:Gi.legitimateInterests.toString(),tc:Gi.gdpr_consent,isLocalStorageEnabled:$i.hasLocalStorage(),preventPageViewEvent:Ki},p=ir("ivbsdid");if(!p){let e=Gi.getCookie("ivbsdid");if(e)try{let t=JSON.parse(e);p=t.id?t.id:t}catch(e){}}p&&(l.lId=p);const f="videoaddebug,advs,bvci,bvid,istop,trybvid,trybvci".split(",");for(let e in d)if(d.hasOwnProperty(e)){let t=d[e];(f.indexOf(e)>-1||/^vs|^invib/i.test(e))&&(l[e]=t)}let m=function(e,t,n){if(null!=e)return e;if(null!=t)return Ji(t-1e3);if(n.length>0)for(var i=0;i<n.length;i++){const e=Yi(n[i]);if(null!=e)return Ji(e)}return Ji(1)}(r,a,n);return Ki=!0,{method:Fi.METHOD,url:m,data:l,options:{withCredentials:!0},bidRequests:e}},interpretResponse:function(e,t){return function(e,t){if(null==t||0===t.length)return(0,i.PN)("Invibes Adapter - No bids have been requested"),[];if(!e)return(0,i.PN)("Invibes Adapter - Bid response is empty"),[];e=e.body||e,e=e.videoAdContentResult||e,e.ShouldSetLId&&e.LId&&(Gi.optIn&&Gi.purposes[0]||!e.PrivacyPolicyRule||!e.TcModel||!e.TcModel.PurposeConsents||(Gi.optIn=e.PrivacyPolicyRule,Gi.purposes=e.TcModel.PurposeConsents),function(e,t){if(!Gi.optIn||!Gi.purposes[0])return;$i.setDataInLocalStorage(e,t)}("ivbsdid",e.LId));if("object"==typeof Gi.bidResponse){if(!0!==e.MultipositionEnabled)return(0,i.PN)("Invibes Adapter - Bid response already received. Invibes only responds to one bid request per user visit"),[];Gi.bidResponse.AdPlacements=Gi.bidResponse.AdPlacements.concat(e.AdPlacements)}else Gi.bidResponse=e;const n=[];for(let r=0;r<t.length;r++){let o=t[r],a=!0===e.UseAdUnitCode?o.params.placementId+"_"+o.adUnitCode:o.params.placementId;if(Gi.placementBids.indexOf(a)>-1){(0,i.PN)("Invibes Adapter - Placement was previously bid on "+a);continue}let s=null;if(null!=e.AdPlacements)for(let t=0;t<e.AdPlacements.length;t++){let n=e.AdPlacements[t].BidModel;if(null!=n&&n.PlacementId==a){s=e.AdPlacements[t];break}}else{let t=e.BidModel;null!=t&&t.PlacementId==a&&(s=e)}let d=Xi(o,s,e.MultipositionEnabled,a);null!==d&&(Gi.placementBids.push(a),n.push(d))}return n}(e,null!=t?t.bidRequests:null)},getUserSyncs:function(e){if(e.iframeEnabled&&!(null==Vi||null==Vi?Fi.DISABLE_USER_SYNC:Vi)){return{type:"iframe",url:function(){let e=Wi||Fi.SYNC_ENDPOINT;e+="?visitId="+Gi.visitId,e+="&optIn="+Gi.optIn;let t=ir("ivbsdid");if(!t){let e=Gi.getCookie("ivbsdid");if(e)try{let n=JSON.parse(e);t=n.id?n.id:n}catch(e){}}t&&(e+="&ivbsdid="+encodeURIComponent(t));return e}()}}}};(0,Le.dX)(Hi);const Zi=function(){let e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}();let Gi=Zi.invibes=Zi.invibes||{};Gi.purposes=Gi.purposes||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],Gi.legitimateInterests=Gi.legitimateInterests||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],Gi.placementBids=Gi.placementBids||[],Gi.pushedCids=Gi.pushedCids||{};let Wi,Vi,Ki=!1;function Xi(e,t,n,r){if(null===t||null===t.BidModel)return(0,i.PN)("Invibes Adapter - Placement not configured for bidding "+r),null;let o=t.BidModel,a=t.Ads;if(!Array.isArray(a)||a.length<1)return null!=t.AdReason&&(0,i.PN)("Invibes Adapter - No ads "+t.AdReason),(0,i.PN)("Invibes Adapter - No ads available"),null;let s=a[0],d=function(e){let t=[0,0];for(let n=0;n<e.length;n++)e[n][0]*e[n][1]>t[0]*t[1]&&(t=e[n]);return t}(e.sizes);if(!0===n&&Object.keys(Gi.pushedCids).length>0){if(null!=s.Blcids&&s.Blcids.length>0){if(Object.keys(Gi.pushedCids).some((function(e){return s.Blcids.indexOf(parseInt(e))>-1})))return(0,i.PN)("Invibes Adapter - Ad blacklists pushed ids"),null}if(Object.keys(Gi.pushedCids).some((function(e){return Gi.pushedCids[e].indexOf(s.Cid)>-1})))return(0,i.PN)("Invibes Adapter - Ad is blacklisted"),null}Gi.pushedCids[s.Cid]=s.Blcids||[];const c=Date.now();return(0,i.PN)("Bid auction started at "+o.AuctionStartTime+" . Invibes registered the bid at "+c+" ; bid request took a total of "+(c-o.AuctionStartTime)+" ms."),{requestId:e.bidId,cpm:s.BidPrice,width:o.Width||d[0],height:o.Height||d[1],creativeId:s.VideoExposedId,currency:o.Currency||Fi.DEFAULT_CURRENCY,netRevenue:!0,ttl:Fi.TIME_TO_LIVE,ad:nr(o),meta:Qi(o.Meta)}}function Ji(e){return e<2?Fi.BID_SUBDOMAIN+Fi.BID_ENDPOINT:Fi.BID_SUBDOMAIN+e+Fi.BID_ENDPOINT}function Yi(e){if(null==e)return null;var t=/_ivbs([0-9]+)/g.exec(e);return null!=t&&null!=t[1]?parseInt(t[1]):null}function Qi(e){var t={};if(null!=e)for(let n=0;n<Fi.META_TAXONOMY.length;n++)e.hasOwnProperty(Fi.META_TAXONOMY[n])&&(t[Fi.META_TAXONOMY[n]]=e[Fi.META_TAXONOMY[n]]);return t}function er(){return Math.round(1e12*Math.random()).toString(36).substring(0,10)}function tr(e){return e.location.href.substring(0,300).split(/[?#]/)[0]}function nr(e){return"<html>\n        <head><script type='text/javascript'>inDapIF=true;<\/script></head>\n          <body style='margin : 0; padding: 0;'>\n          creativeHtml\n          </body>\n        </html>".replace("creativeHtml",e.CreativeHtml)}function ir(e){if(!Gi.GdprModuleInstalled||Gi.optIn&&Gi.purposes[0])return $i.getDataFromLocalStorage(e)||""}function rr(){const e="ivvcap";if(!Gi.optIn||!Gi.purposes[0])return"";let t=function(){try{return JSON.parse($i.getDataFromLocalStorage(e))||{}}catch(e){return{}}},n=function(){let n=(new Date).getTime(),i=t(),r=!1;Object.keys(i).forEach((function(e){i[e][1]<=n&&(delete i[e],r=!0)})),r&&function(t){$i.setDataInLocalStorage(e,JSON.stringify(t))}(i)};return function(){n();let e=t();return Object.keys(e).filter((function(t){return e.hasOwnProperty(t)})).sort().map((function(t){return[t,e[t][0]]}))}().map((function(e){return e.join("=")})).join(",")}function or(e,t,n){if(e instanceof Array){for(let i=0;i<n&&i<e.length;i++)t[i]=!(!1===e[i]||"false"===e[i]||null==e[i]);return!0}if("object"==typeof e&&null!==e){let i=0;for(let r in e){if(i===n)break;if(e.hasOwnProperty(r)){let n=parseInt(r);isNaN(n)?t[i]=!(!1===e[r]||"false"===e[r]||null==e[r]):t[n-1]=!(!1===e[r]||"false"===e[r]||null==e[r]),i++}}return!0}return!1}Gi.Uid={generate:function(){let e=parseInt("zzzzzz",36),t=function(){return Math.floor(Math.random()*e).toString(36)};return t()+t()}},Gi.getCookie=function(e){if($i.cookiesAreEnabled()&&(!Gi.GdprModuleInstalled||Gi.optIn&&Gi.purposes[0]))return $i.getCookie(e)};let ar=function(){const e=300;let t=document.getElementsByTagName("head")[0],n=t?t.getElementsByTagName("meta"):[];function i(e,t){let n=e.replace(/[<>~|\\"`!@#$%^&*()=+?]/g,"");let i=n.split(/[\s,;.:]+/).filter((function(e,t,n){return""!==e&&n.indexOf(e)===t}));n="";for(let e=0;e<i.length;e++){if(n+=i[e],n.length>=t)return n;e<i.length-1&&(n+=",")}return n}function r(e,t,r){e=e||"keywords",t=t||100;let o=r=r||"";for(let a=0;a<n.length;a++){if(n[a].name&&n[a].name.toLowerCase()===e.toLowerCase()){return i(r+","+n[a].content||"",t)}n[a].name&&n[a].name.toLowerCase().indexOf(e.toLowerCase())>-1&&(o=r+","+n[a].content||"")}return i(o,t)}let o=r("keywords",e);return(!o||o.length<292)&&(o=r("description",e,o),(!o||o.length<292)&&(o=function(e,n){return e=e||300,i((n=n||"")+","+((document.title||t)&&t.getElementsByTagName("title")[0]?t.getElementsByTagName("title")[0].innerHTML:""),e)}(e,o))),o}();window.pubtech_pbjs.installedModules.push("invibesBidAdapter");const sr="https://onetag-sys.com/prebid-request",dr="https://onetag-sys.com/usync/",cr="onetag",ur=(0,V.df)({gvlid:241,bidderCode:cr});function lr(e){return void 0!==e.mediaTypes&&void 0!==e.mediaTypes.video}function pr(e,t){if(e===w.Mk)return vr(t).length>0;if(e===w.pX&&lr(t)){const e=t.mediaTypes.video.context;if("outstream"===e||"instream"===e)return yr(t).length>0}return!1}function fr(e){try{return void 0!==e.document.hidden?e.document.hidden:void 0!==e.document.msHidden?e.document.msHidden:void 0!==e.document.webkitHidden?e.document.webkitHidden:null}catch(e){return null}}function mr(e){const t=function(){let e=window,t=window.parent;try{for(;e!==e.parent;)t=e.parent,t.location.href,e=e.parent}catch(e){}return e}();return{location:(0,r.Z)(e,"refererInfo.page",null),referrer:(0,r.Z)(e,"refererInfo.ref",null),stack:(0,r.Z)(e,"refererInfo.stack",[]),numIframes:(0,r.Z)(e,"refererInfo.numIframes",0),wWidth:t.innerWidth,wHeight:t.innerHeight,oWidth:t.outerWidth,oHeight:t.outerHeight,sWidth:t.screen.width,sHeight:t.screen.height,aWidth:t.screen.availWidth,aHeight:t.screen.availHeight,sLeft:"screenLeft"in t?t.screenLeft:t.screenX,sTop:"screenTop"in t?t.screenTop:t.screenY,xOffset:t.pageXOffset,yOffset:t.pageYOffset,docHidden:fr(t),docHeight:t.document.body?t.document.body.scrollHeight:null,hLength:history.length,timing:br(),version:{prebid:"7.41.0",adapter:"1.1.1"}}}function gr(e){const t=e.filter((e=>lr(e))).map((e=>{const t={};return hr.call(t,e),t.context=e.mediaTypes.video.context,t.playerSize=yr(e),t.mediaTypeInfo=(0,i.I8)(e.mediaTypes.video),t.type=w.pX,t.priceFloors=Ir(e,w.pX,t.playerSize),t})),n=e.filter((e=>pr(w.Mk,e))).map((e=>{const t={};return hr.call(t,e),t.sizes=vr(e),t.type=w.Mk,t.mediaTypeInfo=(0,i.I8)(e.mediaTypes.banner),t.priceFloors=Ir(e,w.Mk,t.sizes),t}));return t.concat(n)}function hr(e){const t=e.params;this.adUnitCode=e.adUnitCode,this.bidId=e.bidId,this.bidderRequestId=e.bidderRequestId,this.auctionId=e.auctionId,this.transactionId=e.transactionId,this.gpid=(0,r.Z)(e,"ortb2Imp.ext.gpid")||(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot"),this.pubId=t.pubId,this.ext=t.ext,t.pubClick&&(this.click=t.pubClick),t.dealId&&(this.dealId=t.dealId);const n=function(e){const t=document.getElementById(e);try{const{top:e,left:n,width:i,height:r}=t.getBoundingClientRect();let o=t.ownerDocument.defaultView;const a={top:e+o.pageYOffset,left:n+o.pageXOffset,width:i,height:r};let s=o.frameElement;for(;null!=s;){const{top:e,left:t}=s.getBoundingClientRect();a.top+=e+o.pageYOffset,a.left+=t+o.pageXOffset,o=o.parent,s=o.frameElement}return a}catch(e){return null}}(e.adUnitCode);n&&(this.coords=n)}function br(){try{if(null!=window.performance&&null!=window.performance.timing){const e={},t=window.performance.timing;return e.pageLoadTime=t.loadEventEnd-t.navigationStart,e.connectTime=t.responseEnd-t.requestStart,e.renderTime=t.domComplete-t.domLoading,e}}catch(e){return null}return null}function yr(e){const t=e.mediaTypes.video.playerSize;return void 0!==t&&Array.isArray(t)&&t.length>0?_r(t):[]}function vr(e){if(void 0!==e.mediaTypes&&void 0!==e.mediaTypes.banner&&void 0!==e.mediaTypes.banner.sizes&&Array.isArray(e.mediaTypes.banner.sizes)&&e.mediaTypes.banner.sizes.length>0)return _r(e.mediaTypes.banner.sizes);return!lr(e)&&e.sizes&&Array.isArray(e.sizes)?_r(e.sizes):[]}function _r(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push({width:i[0],height:i[1]})}return t}function Ir(e,t,n){const r=[];return"function"==typeof e.getFloor&&n.forEach((n=>{const o=e.getFloor({currency:"EUR",mediaType:t||"*",size:[n.width,n.height]});o.size=(0,i.I8)(n),o.floor||(o.floor=null),r.push(o)})),r}const Tr={code:cr,gvlid:241,supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){return void 0!==e&&void 0!==e.params&&"string"==typeof e.params.pubId&&(pr(w.Mk,e)||pr(w.pX,e))},buildRequests:function(e,t){const n={bids:gr(e),...mr(t)};t&&t.gdprConsent&&(n.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:t.gdprConsent.gdprApplies}),t&&t.gppConsent&&(n.gppConsent={consentString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}),t&&t.uspConsent&&(n.usPrivacy=t.uspConsent),e&&0!==e.length&&e[0].userIdAsEids&&(n.userId=e[0].userIdAsEids),e&&0!==e.length&&e[0].schain&&function(e){let t=!1;const n=["asi","sid","hp"];if(!e||!e.nodes)return t;t=e.nodes.reduce(((e,t)=>e?n.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,i.H)("OneTag: required schain params missing");return t}(e[0].schain)&&(n.schain=e[0].schain);try{ur.hasLocalStorage()&&(n.onetagSid=ur.getDataFromLocalStorage("onetag_sid"))}catch(e){}const r=navigator.connection||navigator.webkitConnection;return n.networkConnectionType=r&&r.type?r.type:null,n.networkEffectiveConnectionType=r&&r.effectiveType?r.effectiveType:null,{method:"POST",url:sr,data:JSON.stringify(n)}},interpretResponse:function(e,t){const n=e.body,i=[],r=JSON.parse(t.data);return!n||n.nobid&&!0===n.nobid?i:n.bids&&Array.isArray(n.bids)&&0!==n.bids.length?(n.bids.forEach((e=>{const t={requestId:e.requestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.creativeId,dealId:null==e.dealId?e.dealId:"",currency:e.currency,netRevenue:e.netRevenue||!1,mediaType:e.mediaType,meta:{mediaType:e.mediaType,advertiserDomains:e.adomain},ttl:e.ttl||300};if(e.mediaType===w.Mk)t.ad=e.ad;else if(e.mediaType===w.pX){const{context:n,adUnitCode:i}=(0,u.sE)(r.bids,(t=>t.bidId===e.requestId&&t.type===w.pX));n===Ze.LD?(t.vastUrl=e.vastUrl,t.videoCacheKey=e.videoCacheKey):n===Ze.gZ&&(t.vastXml=e.ad,t.vastUrl=e.vastUrl,e.rendererUrl&&(t.renderer=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=l.Th.install({id:e.requestId,url:e.rendererUrl,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{n.setRender((t=>{let{renderer:n,width:i,height:r,vastXml:o,adUnitCode:a}=t;n.push((()=>{window.onetag.Player.init({...e,width:i,height:r,vastXml:o,nodeId:a,config:n.getConfig()})}))}))}catch(e){}return n}({...e,adUnitCode:i})))}i.push(t)})),i):i},getUserSyncs:function(e,t,n,i,r){let o=[],a="";return n&&("boolean"==typeof n.gdprApplies&&(a+="&gdpr="+(n.gdprApplies?1:0)),"string"==typeof n.consentString&&(a+="&gdpr_consent="+n.consentString)),r&&"string"==typeof r.gppString&&(a+="&gpp_consent="+r.gppString),i&&"string"==typeof i&&(a+="&us_privacy="+i),e.iframeEnabled&&o.push({type:"iframe",url:dr+"?cb="+(new Date).getTime()+a}),e.pixelEnabled&&o.push({type:"image",url:dr+"?tag=img"+a}),o}};(0,Le.dX)(Tr),window.pubtech_pbjs.installedModules.push("onetagBidAdapter");const Er=[w.Mk,w.pX],wr=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],Sr="hb_pb",Cr="3.0.3",Ar="USD",xr={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",hadronId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"},Or={code:"openx",gvlid:69,supportedMediaTypes:Er,isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;return(0,r.Z)(e,"mediaTypes.banner")&&t?!!e.params.unit||(0,r.Z)(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];let n=[],[o,a]=function(e){return e.reduce((function(e,t){var n;return n=t,(0,r.Z)(n,"mediaTypes.video")&&!(0,r.Z)(n,"mediaTypes.banner")||n.mediaType===w.pX?e[0].push(t):e[1].push(t),e}),[[],[]])}(e);return a.length>0&&n.push(function(e,t){let n=[],o=!1,a=Dr(e,t),s=(0,i.HA)(e,(e=>e.params.unit));a.aus=(0,i.HA)(e,(e=>(0,i.sF)(e.mediaTypes.banner.sizes).join(","))).join("|"),a.divids=(0,i.HA)(e,(e=>encodeURIComponent(e.adUnitCode))).join(","),a.aucs=(0,i.HA)(e,(function(e){let t=(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")})).join(","),s.some((e=>e))&&(a.auid=s.join(","));e.some((e=>e.params.doNotTrack))&&(a.ns=1);(!0===p.vc.getConfig("coppa")||e.some((e=>e.params.coppa)))&&(a.tfcd=1);e.forEach((function(e){if(e.params.customParams){let t=(0,i.HA)(Object.keys(e.params.customParams),(t=>function(e,t){let n=t[e];(0,i.kJ)(n)&&(n=n.join(","));return(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams))),r=window.btoa(t.join("&"));o=!0,n.push(r)}else n.push("")})),o&&(a.tps=n.join(","));return Nr(a,w.Mk,e),{method:"GET",url:a.ph?"https://u.openx.net/w/1.0/arj":`https://${e[0].params.delDomain}/w/1.0/arj`,data:a,payload:{bids:e,startTime:new Date}}}(a,t)),o.length>0&&o.forEach((e=>{n.push(function(e,t){let n=function(e,t){const n=(0,r.Z)(e,"mediaTypes.video");let o,a,s=Dr([e],t),d=(0,r.Z)(e,"params.video")||{},c=(0,r.Z)(e,"mediaTypes.video.context"),l=(0,r.Z)(e,"mediaTypes.video.playerSize");(0,i.kJ)(e.sizes)&&2===e.sizes.length&&!(0,i.kJ)(e.sizes[0])?(o=parseInt(e.sizes[0],10),a=parseInt(e.sizes[1],10)):(0,i.kJ)(e.sizes)&&(0,i.kJ)(e.sizes[0])&&2===e.sizes[0].length?(o=parseInt(e.sizes[0][0],10),a=parseInt(e.sizes[0][1],10)):(0,i.kJ)(l)&&2===l.length&&(o=parseInt(l[0],10),a=parseInt(l[1],10));let p={w:o,h:a},f=e.params.video||e.params.openrtb||{};f.openrtb&&(f=f.openrtb);(0,i.kJ)(f.imp)&&(f=f.imp[0].video);Object.keys(f).filter((e=>(0,u.q9)(wr,e))).forEach((e=>p[e]=f[e])),Object.keys(n).filter((e=>(0,u.q9)(wr,e))).forEach((e=>p[e]=n[e]));let m={imp:[{video:p}]};s.openrtb=JSON.stringify(m),s.auid=e.params.unit,s.vwd=o||d.vwd,s.vht=a||d.vht,"outstream"===c&&(s.vos="101");d.mimes&&(s.vmimes=d.mimes);e.params.test&&(s.vtest=1);let g=(0,r.Z)(e,"ortb2Imp.ext.data.pbadslot");g&&(s.aucs=encodeURIComponent(g));return Nr(s,w.pX,[e]),s}(e,t);return{method:"GET",url:n.ph?"https://u.openx.net/v/1.0/avjp":`https://${e.params.delDomain}/v/1.0/avjp`,data:n,payload:{bid:e,startTime:new Date}}}(e,t))})),n},interpretResponse:function(e,t){let{body:n}=e,r=function(e){return/avjp$/.test(e.url)?w.pX:w.Mk}(t);return r===w.pX?function(e,t){let{bid:n,startTime:r}=t,o=[];if(void 0!==e&&""!==e.vastUrl&&e.pub_rev>0){let t=(0,i.en)(e.vastUrl).search||{},r={};r.requestId=n.bidId,e.deal_id&&(r.dealId=e.deal_id),r.ttl=300,r.netRevenue=!0,r.currency=e.currency,r.cpm=parseInt(e.pub_rev,10)/1e3,r.width=parseInt(e.width,10),r.height=parseInt(e.height,10),r.creativeId=e.adid,r.vastUrl=e.vastUrl,r.mediaType=w.pX,e.ph=t.ph,e.colo=t.colo,e.ts=t.ts,o.push(r)}return o}(n,t.payload):function(e,t){let{bids:n,startTime:i}=t,r=e.ads.ad,o=[];for(let e=0;e<r.length;e++){let t=r[e],i=parseInt(t.idx,10),a={};if(a.requestId=n[i].bidId,!t.pub_rev)continue;a.cpm=Number(t.pub_rev)/1e3;let s=t.creative[0];s&&(a.width=s.width,a.height=s.height),a.creativeId=s.id,a.ad=t.html,t.deal_id&&(a.dealId=t.deal_id),a.ttl=300,a.netRevenue=!0,a.currency=t.currency,t.tbd&&(a.tbd=t.tbd),a.ts=t.ts,a.meta={},t.brand_id&&(a.meta.brandId=t.brand_id),t.adomain&&length(t.adomain)>0?a.meta.advertiserDomains=t.adomain:a.meta.advertiserDomains=[],t.adv_id&&(a.meta.dspid=t.adv_id),o.push(a)}return o}(n,t.payload)},getUserSyncs:function(e,t,n,i){if(e.iframeEnabled||e.pixelEnabled){let o=e.iframeEnabled?"iframe":"image",a=(0,r.Z)(t,"0.body.ads.pixels")||(0,r.Z)(t,"0.body.pixels")||function(e,t){let n="https://u.openx.net/w/1.0/pd",i=[];e&&(i.push("gdpr="+(e.gdprApplies?1:0)),i.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&i.push("us_privacy="+encodeURIComponent(t));return`${n}${i.length>0?"?"+i.join("&"):""}`}(n,i);return[{type:o,url:a}]}},transformBidParams:function(e,t){return(0,i.uh)({unit:"string",customFloor:"number"},e)}};function kr(e){let t,n,i,r=window,o=document,a=o.documentElement;if(e){try{r=window.top,o=window.top.document}catch(e){return}i=o.body,t=r.innerWidth||a.clientWidth||i.clientWidth,n=r.innerHeight||a.clientHeight||i.clientHeight}else t=r.innerWidth||a.clientWidth,n=r.innerHeight||a.clientHeight;return`${t}x${n}`}function Dr(e,t){const n=(0,i.yL)();let a;a={ju:t.refererInfo.page,ch:document.charSet||document.characterSet,res:`${screen.width}x${screen.height}x${screen.colorDepth}`,ifr:n,tz:(new Date).getTimezoneOffset(),tws:kr(n),be:1,bc:e[0].params.bc||`${Sr}_${Cr}`,dddid:(0,i.HA)(e,(e=>e.transactionId)).join(","),nocache:(new Date).getTime()};const s=(0,r.Z)(t,"ortb2.device.sua");s&&(a.sua=JSON.stringify(s));const d=Rr("user.data",t.ortb2);d.length>0&&(a.sm=d);const c=Rr("site.content.data",t.ortb2);if(c.length>0&&(a.scsm=c),e[0].params.platform&&(a.ph=e[0].params.platform),t.gdprConsent){let e=t.gdprConsent;void 0!==e.consentString&&(a.gdpr_consent=e.consentString),void 0!==e.gdprApplies&&(a.gdpr=e.gdprApplies?1:0),"iab"===p.vc.getConfig("consentManagement.cmpApi")&&(a.x_gdpr_f=1)}var u,l,f;return t&&t.uspConsent&&(a.us_privacy=t.uspConsent),(0,r.Z)(e[0],"crumbs.pubcid")&&o(e[0],"userId.pubcid",(0,r.Z)(e[0],"crumbs.pubcid")),u=a,l=e[0].userId,(0,i.yi)(l,((e,t)=>{const n=xr[t];if(xr.hasOwnProperty(t))switch(t){case"merkleId":case"uid2":u[n]=e.id;break;case"lipb":if(u[n]=e.lipbid,Array.isArray(e.segments)&&e.segments.length>0){const t="liveintent:"+e.segments.join("|");u.sm=`${u.sm?u.sm+",":""}${t}`}break;case"parrableId":u[n]=e.eid;break;case"id5id":u[n]=e.uid;break;case"novatiq":u[n]=e.snowflake;break;default:u[n]=e}})),a=u,e[0].schain&&(a.schain=`${(f=e[0].schain).ver},${f.complete}!${function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map((e=>t.map((t=>e[t]||"")).join(","))).join("!")}(f.nodes)}`),a}function Rr(e,t){const n=(0,r.Z)(t,e);if(!Array.isArray(n)||!n.length)return"";const i=n.filter((e=>Array.isArray(e.segment)&&e.segment.length>0&&void 0!==e.name&&e.name.length>0)).reduce(((e,t)=>{const n="object"==typeof t.ext&&t.ext.segtax?`${t.name}/${t.ext.segtax}`:t.name;return e[n]=(e[n]||[]).concat(t.segment.map((e=>e.id))),e}),{});return Object.keys(i).map(((e,t)=>e+":"+i[e].join("|"))).join(",")}function Nr(e,t,n){let i=[],r=!1;n.forEach((function(e){let n=function(e,t){let n={};const i=p.vc.getConfig("currency.adServerCurrency")||Ar;"function"==typeof e.getFloor&&(n=e.getFloor({currency:i,mediaType:t,size:"*"}));let r=n.floor||e.params.customFloor||0;return Math.round(1e3*r)}(e,t);n?(i.push(n),r=!0):i.push(0)})),r&&(e.aumfs=i.join(","))}(0,Le.dX)(Or),window.pubtech_pbjs.installedModules.push("openxBidAdapter");var Br=__webpack_require__(502);const Pr="USD",Ur={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},jr={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},Mr="https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",qr={code:"outbrain",gvlid:164,supportedMediaTypes:[w.B5,w.Mk,w.pX],isBidRequestValid:e=>"object"==typeof e.params&&("string"==typeof(0,r.Z)(e,"params.publisher.id")&&((!e.params.tagid||"string"==typeof e.params.tagid)&&(!(e.params.bcat&&("object"!=typeof e.params.bcat||!e.params.bcat.every((e=>"string"==typeof e))))&&(!(e.params.badv&&("object"!=typeof e.params.badv||!e.params.badv.every((e=>"string"==typeof e))))&&(!!p.vc.getConfig("outbrain.bidderUrl")&&(!(!e.nativeParams&&!e.sizes)||function(e){const t=(0,r.Z)(e,"mediaTypes.video");if(!t)return!1;if(!Array.isArray(t.playerSize))return!1;if(""==t.context)return!1;return!0}(e))))))),buildRequests:(e,t)=>{e=(0,s.lY)(e);const n=t.ortb2||{},i=t.refererInfo.page,a=navigator.userAgent,d=Lr(e,"params.test"),c=Lr(e,"params.publisher"),u=n.bcat||Lr(e,"params.bcat"),l=n.badv||Lr(e,"params.badv"),f=Lr(e,"userIdAsEids"),m=n.wlang,g=Pr,h=p.vc.getConfig("outbrain.bidderUrl"),b=t.timeout,y=e.map(((e,t)=>{e.netRevenue="net";const n={id:t+1+""};if(e.params.tagid&&(n.tagid=e.params.tagid),e.nativeParams?n.native={request:JSON.stringify({assets:Fr(e)})}:Hr(e)?n.video=function(e){const t=zr(e.mediaTypes.video.playerSize);return{w:parseInt(t[0],10),h:parseInt(t[1],10),protocols:e.mediaTypes.video.protocols,playbackmethod:e.mediaTypes.video.playbackmethod,mimes:e.mediaTypes.video.mimes,skip:e.mediaTypes.video.skip,delivery:e.mediaTypes.video.delivery,api:e.mediaTypes.video.api,minbitrate:e.mediaTypes.video.minbitrate,maxbitrate:e.mediaTypes.video.maxbitrate,minduration:e.mediaTypes.video.minduration,maxduration:e.mediaTypes.video.maxduration,startdelay:e.mediaTypes.video.startdelay,placement:e.mediaTypes.video.placement,linearity:e.mediaTypes.video.linearity}}(e):n.banner={format:$r(e.sizes)},"function"==typeof e.getFloor){const t=function(e,t){const n=e.getFloor({currency:Pr,mediaType:t,size:"*"});if("object"==typeof n&&n.currency===Pr&&!isNaN(parseFloat(n.floor)))return parseFloat(n.floor);return null}(e,e.nativeParams?w.B5:w.Mk);t&&(n.bidfloor=t)}return n})),v={id:t.auctionId,site:{page:i,publisher:c},device:{ua:a},source:{fd:1},cur:[g],tmax:b,imp:y,bcat:u,badv:l,wlang:m,ext:{prebid:{channel:{name:"pbjs",version:"7.41.0"}}}};return d&&(v.is_debug=!!d,v.test=1),(0,r.Z)(t,"gdprConsent.gdprApplies")&&(o(v,"user.ext.consent",t.gdprConsent.consentString),o(v,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&o(v,"regs.ext.us_privacy",t.uspConsent),!0===p.vc.getConfig("coppa")&&o(v,"regs.coppa",1&p.vc.getConfig("coppa")),f&&o(v,"user.ext.eids",f),{method:"POST",url:h,data:JSON.stringify(v),bids:e}},interpretResponse:(e,t)=>{let{bids:n}=t;if(!e.body)return[];const{seatbid:o,cur:a}=e.body,s=zr(o.map((e=>e.bid))).reduce(((e,t)=>(e[t.impid-1]=t,e)),[]);return n.map(((e,t)=>{const n=s[t];if(n){let t=w.Mk;e.nativeParams?t=w.B5:Hr(e)&&(t=w.pX);const o={requestId:e.bidId,cpm:n.price,creativeId:n.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:a,mediaType:t,nurl:n.nurl};if(t===w.B5)o.native=function(e){const{assets:t,link:n,privacy:i,eventtrackers:r}=JSON.parse(e.adm),o={clickUrl:n.url,clickTrackers:n.clicktrackers||void 0};t.forEach((e=>{const t=Ur[e.id],n=t&&e[jr[t].name];n&&(o[t]=n.text||n.value||{url:n.url,width:n.w,height:n.h})})),i&&(o.privacyLink=i);r&&(o.impressionTrackers=[],r.forEach((e=>{if(1===e.event)switch(e.method){case 1:o.impressionTrackers.push(e.url);break;case 2:o.javascriptTrackers=`<script src="${e.url}"><\/script>`}})));return o}(n);else if(t===w.Mk)o.ad=n.adm,o.width=n.w,o.height=n.h;else if(t===w.pX){o.vastXml=n.adm;(0,r.Z)(e,"mediaTypes.video.context")===Ze.gZ&&(o.renderer=function(e){let t={},n=Mr,o=function(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:e.sizes,targetId:e.adUnitCode,adResponse:{content:e.vastXml}})}))},a=(0,r.Z)(e,"mediaTypes.video.renderer");a||(a=(0,r.Z)(e,"renderer"));a&&(t=a.options,n=a.url,o=a.render);const s=l.Th.install({id:e.adUnitCode,url:n,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{s.setRender(o)}catch(e){(0,i.yN)("Prebid Error calling setRender on renderer",e)}return s}(e))}return o.meta={},n.adomain&&n.adomain.length>0&&(o.meta.advertiserDomains=n.adomain),o}})).filter(Boolean)},getUserSyncs:(e,t,n,i)=>{const r=[];let o=p.vc.getConfig("outbrain.usersyncUrl"),a=[];return e.pixelEnabled&&o&&(n&&(a.push("gdpr="+(1&n.gdprApplies)),a.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),i&&a.push("us_privacy="+encodeURIComponent(i)),r.push({type:"image",url:o+(a.length?"?"+a.join("&"):"")})),r},onBidWon:e=>{e.nurl&&(0,Br.h)((0,i.ew)(e.nurl,e.originalCpm))}};function Lr(e,t){for(let n,i=0;i<e.length;i++)if(n=(0,r.Z)(e[i],t),n)return n}function zr(e){return[].concat(...e)}function Fr(e){return(0,i.HA)(e.nativeParams,((e,t)=>{const n=jr[t],i={required:1&e.required};if(n){let t,r,o,a;i.id=n.id;let s=e.aspect_ratios;if(s&&s[0]&&(s=s[0],t=s.min_width||0,r=s.ratio_height*t/s.ratio_width|0),e.sizes){const t=zr(e.sizes);o=parseInt(t[0],10),a=parseInt(t[1],10)}return i[n.name]={len:e.len,type:n.type,wmin:t,hmin:r,w:o,h:a},i}})).filter(Boolean)}function $r(e){return(0,i.kJ)(e)?2!==e.length||(0,i.kJ)(e[0])?(0,i.kJ)(e[0])?e.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)}))):[]:[{w:parseInt(e[0],10),h:parseInt(e[1],10)}]:[]}function Hr(e){return"video"===e.mediaType||!!(0,r.Z)(e,"mediaTypes.video")}(0,Le.dX)(qr),window.pubtech_pbjs.installedModules.push("outbrainBidAdapter");const Zr="pubmatic",Gr="PubMatic: ",Wr="USD",Vr=1,Kr=void 0,Xr=0,Jr=0,Yr="http://prebid.org/dev-docs/show-native-ads.html",Qr="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),eo="Video.Placement param missing",to={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},no={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},io={mimes:no.ARRAY,minduration:no.NUMBER,maxduration:no.NUMBER,startdelay:no.NUMBER,playbackmethod:no.ARRAY,api:no.ARRAY,protocols:no.ARRAY,w:no.NUMBER,h:no.NUMBER,battr:no.ARRAY,linearity:no.NUMBER,placement:no.NUMBER,minbitrate:no.NUMBER,maxbitrate:no.NUMBER,skip:no.NUMBER},ro={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},oo={ICON:1,LOGO:2,IMAGE:3},ao=[{id:ro.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:ro.TITLE.ID,required:!0},{id:ro.IMAGE.ID,required:!0}],so={1:"PMP",5:"PREF",6:"PMPG"},co={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,i.yN)(`${Gr}: No vastXml or vastUrl on bid, bailing...`);const n=co.getRendererId("pubmatic",e.rendererCode),r=document.getElementById(e.adUnitCode);let o;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===n){o=window.bluebillywig.renderers[e];break}o?o.bootstrap(t,r):(0,i.yN)(`${Gr}: Couldn't find a renderer with ${n}`)},newRenderer:function(e,t){var n=Qr.replace("$RENDERER",e);const r=l.Th.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(co.outstreamRender)}catch(e){(0,i.yN)(`${Gr}: Error tying to setRender on renderer`,e)}return r},outstreamRender:function(e){e.renderer.push((function(){co.bootstrapPlayer(e)}))},getRendererId:function(e,t){return`${e}-${t}`}},uo=[w.Mk,w.pX,w.B5];let lo=0,po=!1,fo={},mo={},go=["pubmatic"];const ho=["all"];function bo(e,t){if(!(0,i.d8)(t))return t&&(0,i.yN)(Gr+"Ignoring param key: "+e+", expects string-value, found "+typeof t),Kr;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((e=>e.trim())).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||Kr;case"yob":return parseInt(t)||Kr;default:return t}}function yo(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,i.d8)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,i.yN)(Zr+": adSlot must be a string. Ignoring adSlot"),""));var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void(0,i.yN)(Gr+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(w.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var o=0,a=[];o<e.mediaTypes.banner.sizes.length;o++)2===e.mediaTypes.banner.sizes[o].length&&a.push(e.mediaTypes.banner.sizes[o]);e.mediaTypes.banner.sizes=a,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function vo(e,t,n){var r,o="Ignoring param key: "+e+", expects "+n+", found "+typeof t;switch(n){case no.BOOLEAN:r=i.jn;break;case no.NUMBER:r=i.hj;break;case no.STRING:r=i.d8;break;case no.ARRAY:r=i.kJ}return r(t)?t:((0,i.yN)(Gr+o),Kr)}function _o(e,t){var n=e.KEY;return{id:e.ID,required:t[n].required?1:0,data:{type:e.TYPE,len:t[n].len,ext:t[n].ext}}}function Io(e){var t={assets:[]};for(var n in e){if(e.hasOwnProperty(n)){var i={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(n)))switch(n){case ro.TITLE.KEY:i={id:ro.TITLE.ID,required:e[n].required?1:0,title:{len:e[n].len||e[n].length,ext:e[n].ext}};break;case ro.IMAGE.KEY:i={id:ro.IMAGE.ID,required:e[n].required?1:0,img:{type:oo.IMAGE,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:Kr),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:Kr),wmin:e[n].wmin||e[n].minimumWidth||(e[n].minsizes?e[n].minsizes[0]:Kr),hmin:e[n].hmin||e[n].minimumHeight||(e[n].minsizes?e[n].minsizes[1]:Kr),mimes:e[n].mimes,ext:e[n].ext}};break;case ro.ICON.KEY:i={id:ro.ICON.ID,required:e[n].required?1:0,img:{type:oo.ICON,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:Kr),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:Kr)}};break;case ro.VIDEO.KEY:i={id:ro.VIDEO.ID,required:e[n].required?1:0,video:{minduration:e[n].minduration,maxduration:e[n].maxduration,protocols:e[n].protocols,mimes:e[n].mimes,ext:e[n].ext}};break;case ro.EXT.KEY:i={id:ro.EXT.ID,required:e[n].required?1:0};break;case ro.LOGO.KEY:i={id:ro.LOGO.ID,required:e[n].required?1:0,img:{type:oo.LOGO,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:Kr),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:Kr)}};break;case ro.SPONSOREDBY.KEY:case ro.BODY.KEY:case ro.RATING.KEY:case ro.LIKES.KEY:case ro.DOWNLOADS.KEY:case ro.PRICE.KEY:case ro.SALEPRICE.KEY:case ro.PHONE.KEY:case ro.ADDRESS.KEY:case ro.DESC2.KEY:case ro.DISPLAYURL.KEY:case ro.CTA.KEY:i=_o(mo[n],e)}}i&&i.id&&(t.assets[t.assets.length]=i)}var r=ao.length,o=0;return ao.forEach((e=>{for(var n=t.assets.length,i=0;i<n;i++)if(e.id==t.assets[i].id){o++;break}})),po=r!=o,t}function To(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==Kr&&(0,i.kJ)(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=Kr,(0,i.yN)(Gr+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=(0,i.yL)()?0:1}else(0,i.yN)(Gr+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=Kr;return t}function Eo(e){var t,n=(0,i.Ee)((0,r.Z)(e.mediaTypes,"video"),e.params.video);if(n!==Kr){for(var o in t={},function(e,t){(0,r.Z)(e,"placement")||(0,i.yN)(eo+" for "+t)}(n,e.adUnitCode),io)n.hasOwnProperty(o)&&(t[o]=vo(o,n[o],io[o]));(0,i.kJ)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,i.hj)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=Kr,(0,i.yN)(Gr+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function wo(e,t){var n,a,s={},d={},c=e.hasOwnProperty("sizes")?e.sizes:[],u="",l=[];if(function(e,t){t.params.deals&&((0,i.kJ)(t.params.deals)?t.params.deals.forEach((function(t){(0,i.d8)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,i.yN)(Gr+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,i.yN)(Gr+"Error: bid.params.deals should be an array of strings."))}(s={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:bo("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:bo("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?bo("currency",e.params.currency):Wr},e),function(e,t){var n,r="";if(t.params.dctr)if(r=t.params.dctr,(0,i.d8)(r)&&r.length>0){var o=r.split("|");r="",o.forEach((e=>{r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else(0,i.yN)(Gr+"Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(s,e),function(e,t){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var r,o=n.segments.length;i+="jw-id="+n.content.id;for(var a=0;a<o;a++)i+="|jw-"+n.segments[a]+"=1";(r=e.ext)&&void 0===r.key_val?r.key_val=i:r.key_val+="|"+i}}(s,e),e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case w.Mk:(n=To(e))!==Kr&&(s.banner=n);break;case w.B5:d.request=JSON.stringify(Io(e.nativeParams)),po?(0,i.yN)(Gr+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to "+Yr+" for more details."):s.native=d;break;case w.pX:(a=Eo(e))!==Kr&&(s.video=a)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:(0,i.yL)()?0:1},(0,i.kJ)(c)&&c.length>1&&((c=c.splice(1,c.length-1)).forEach((e=>{l.push({w:e[0],h:e[1]})})),n.format=l),s.banner=n;return function(e,t){const n={...(0,r.Z)(t,"ortb2Imp.ext.data")};Object.keys(n).forEach((t=>{"pbadslot"===t?"string"==typeof n[t]&&n[t]&&o(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((t=>{const i=(0,r.Z)(n,`adserver.${t}`);"string"==typeof i&&i&&(o(e,`ext.data.adserver.${t.toLowerCase()}`,i),"adslot"===t&&o(e,"ext.dfp_ad_unit_code",i))})):o(e,`ext.data.${t}`,n[t])}))}(s,e),function(e,t){let n=-1;"function"!=typeof t.getFloor||p.vc.getConfig("pubmatic.disableFloors")||[w.Mk,w.pX,w.B5].forEach((r=>{if(e.hasOwnProperty(r)){let o=[];"banner"===r&&(e[r].w&&e[r].h&&o.push([e[r].w,e[r].h]),(0,i.kJ)(e[r].format)&&e[r].format.forEach((e=>o.push([e.w,e.h])))),0===o.length&&o.push("*"),o.forEach((o=>{let a=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:o});if((0,i.PN)(Gr,"floor from floor module returned for mediatype:",r," and size:",o," is: currency",a.currency,"floor",a.floor),"object"==typeof a&&a.currency===e.bidfloorcur&&!isNaN(parseInt(a.floor))){let e=parseFloat(a.floor);(0,i.PN)(Gr,"floor from floor module:",e,"previous floor value",n,"Min:",Math.min(e,n)),n=-1===n?e:Math.min(e,n),(0,i.PN)(Gr,"new floor value:",n)}}))}}));e.bidfloor&&((0,i.PN)(Gr,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor));e.bidfloor=!isNaN(n)&&n>0?n:Kr,(0,i.PN)(Gr,"new impObj.bidfloor value:",e.bidfloor)}(s,e),s.hasOwnProperty(w.Mk)||s.hasOwnProperty(w.B5)||s.hasOwnProperty(w.pX)?s:Kr}function So(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,i.yN)(Gr+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter(((e,t,n)=>n.indexOf(e)===t))).length>0&&((0,i.yN)(Gr+"acat: Selected: ",t),e.ext.acat=t)}function Co(e){return!0===(0,i.kJ)(e)&&e.length>0}(0,i.yi)(ro,(e=>{fo[e.ID]=e.KEY})),(0,i.yi)(ro,(e=>{mo[e.KEY]=e}));const Ao={code:Zr,gvlid:76,supportedMediaTypes:[w.Mk,w.pX,w.B5],isBidRequestValid:e=>{if(e&&e.params){if(!(0,i.d8)(e.params.publisherId))return(0,i.yN)(Gr+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(w.pX)){let t=(0,r.Z)(e.mediaTypes,"video.mimes"),n=(0,r.Z)(e,"params.video.mimes");if(!1===Co(t)&&!1===Co(n))return(0,i.yN)(Gr+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[w.pX].hasOwnProperty("context"))return(0,i.H)(`${Gr}: no context specified in bid. Rejecting bid: `,e),!1;if("outstream"===e.mediaTypes[w.pX].context&&!(0,i.d8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[w.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(w.Mk)||e.mediaTypes.hasOwnProperty(w.B5)?(delete e.mediaTypes[w.pX],(0,i.yN)(`${Gr}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: `,e),!0):((0,i.H)(`${Gr}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: `,e),!1)}return!0}return!1},buildRequests:(e,t)=>{var n,a,d,c,u,l;e=(0,s.lY)(e),t&&t.refererInfo&&(l=t.refererInfo);var f,m=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(l),g=function(e){return{id:""+(new Date).getTime(),at:Vr,cur:[Wr],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(m),h="",b=[],y=[],v=[];if(e.forEach((e=>{if((f=(0,i.I8)(e)).params.adSlot=f.params.adSlot||"",yo(f),f.mediaTypes&&f.mediaTypes.hasOwnProperty("video")||f.params.hasOwnProperty("video"));else if(!(f.hasOwnProperty("mediaTypes")&&f.mediaTypes.hasOwnProperty(w.B5)||0!==f.params.width||0!==f.params.height))return void(0,i.yN)(Gr+"Skipping the non-standard adslot: ",f.params.adSlot,JSON.stringify(f));m.pubId=m.pubId||f.params.publisherId,(m=function(e,t){var n,r,o;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),to)to.hasOwnProperty(n)&&(r=e[n])&&("object"==typeof(o=to[n])&&(r=o.f(r,t)),(0,i.d8)(r)?t[n]=r:(0,i.yN)(Gr+"Ignoring param : "+n+" with value : "+to[n]+", expects string-value, found "+typeof r));return t}(f.params,m)).transactionId=f.transactionId,""===h?h=f.params.currency||Kr:f.params.hasOwnProperty("currency")&&h!==f.params.currency&&(0,i.yN)(Gr+"Currency specifier ignored. Only one currency permitted."),f.params.currency=h,f.params.hasOwnProperty("dctr")&&(0,i.d8)(f.params.dctr)&&b.push(f.params.dctr),f.params.hasOwnProperty("bcat")&&(0,i.kJ)(f.params.bcat)&&(y=y.concat(f.params.bcat)),f.params.hasOwnProperty("acat")&&(0,i.kJ)(f.params.acat)&&(v=v.concat(f.params.acat));var t=wo(f);t&&g.imp.push(t)})),0==g.imp.length)return;g.site.publisher.id=m.pubId.trim(),lo=m.pubId.trim(),g.ext.wrapper={},g.ext.wrapper.profile=parseInt(m.profId)||Kr,g.ext.wrapper.version=parseInt(m.verId)||Kr,g.ext.wrapper.wiid=m.wiid||t.auctionId,g.ext.wrapper.wv="prebid_prebid_7.41.0",g.ext.wrapper.transactionId=m.transactionId,g.ext.wrapper.wp="pbjs";const _=t?C.S.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==_){if(g.ext.marketplace={},t&&1==_){let e=C.S.get(t.bidderCode,"allowedAlternateBidderCodes");(0,i.kJ)(e)?(e=e.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(i.tT),go=e.includes("*")?ho:[...go,...e]):go=ho}g.ext.marketplace.allowedbidders=go.filter(i.tT)}g.user.gender=m.gender?m.gender.trim():Kr,g.user.geo={},g.user.geo.lat=bo("lat",m.lat),g.user.geo.lon=bo("lon",m.lon),g.user.yob=bo("yob",m.yob),g.device.geo=g.user.geo,g.site.page=m.kadpageurl.trim()||g.site.page.trim(),g.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(g.site.page),"object"==typeof p.vc.getConfig("content")&&(g.site.content=p.vc.getConfig("content")),"object"==typeof p.vc.getConfig("device")&&(g.device=Object.assign(g.device,p.vc.getConfig("device"))),g.device.language=g.device.language&&g.device.language.split("-")[0],o(g,"source.tid",m.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(g.test=1),e[0].schain&&o(g,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(o(g,"user.ext.consent",t.gdprConsent.consentString),o(g,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&o(g,"regs.ext.us_privacy",t.uspConsent),!0===p.vc.getConfig("coppa")&&o(g,"regs.coppa",1),function(e,t){let n=(0,r.Z)(t,"0.userIdAsEids");(0,i.kJ)(n)&&n.length>0&&o(e,"user.eids",n)}(g,e);const I=t&&t.ortb2||{};if(I.site){const{page:e,domain:t,ref:n}=g.site;(0,i.Ee)(g,{site:I.site}),g.site.page=e,g.site.domain=t,g.site.ref=n}var T,E,S,A;(I.user&&(0,i.Ee)(g,{user:I.user}),I.bcat&&(y=y.concat(I.bcat)),null!==(n=I.device)&&void 0!==n&&n.sua)&&(g.device.sua=null===(T=I.device)||void 0===T?void 0:T.sua);if(null!==(a=I.ext)&&void 0!==a&&null!==(d=a.prebid)&&void 0!==d&&null!==(c=d.bidderparams)&&void 0!==c&&null!==(u=c[t.bidderCode])&&void 0!==u&&u.acat){const e=I.ext.prebid.bidderparams[t.bidderCode].acat;So(g,e)}else v.length&&So(g,v);(function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,i.yN)(Gr+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;(0,i.yN)(Gr+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,i.yN)(Gr+"bcat: Selected: ",t),e.bcat=t)}(g,y),null!=t&&t.timeout)?g.tmax=t.timeout||p.vc.getConfig("bidderTimeout"):g.tmax=null===(E=window)||void 0===E||null===(S=E.PWT)||void 0===S||null===(A=S.versionDetails)||void 0===A?void 0:A.timeout;return g.ext.epoch=(new Date).getTime(),"object"==typeof p.vc.getConfig("app")&&(g.app=p.vc.getConfig("app"),g.app.publisher=g.site.publisher,g.app.ext=g.site.ext||Kr,"object"!=typeof g.app.content&&(g.app.content=g.site.content||Kr),delete g.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(g),bidderRequest:t}},interpretResponse:(e,t)=>{const n=[];var o=Wr;let a=JSON.parse(t.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&(0,i.kJ)(e.body.seatbid)&&(o=e.body.cur||o,e.body.seatbid.forEach((e=>{e.bid&&(0,i.kJ)(e.bid)&&e.bid.forEach((d=>{let c={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:o,netRevenue:true,ttl:300,referrer:s,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};a.imp&&a.imp.length>0&&a.imp.forEach((e=>{if(d.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=uo[e.ext.bidtype];else{(0,i.PN)(Gr+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",o=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=w.Mk;else if(o.test(n))t.mediaType=w.pX;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=w.B5)}catch(e){(0,i.yN)(Gr+"Error: Cannot parse native reponse for ad response: "+n)}}}(d,c),c.mediaType){case w.Mk:break;case w.pX:c.width=d.hasOwnProperty("w")?d.w:e.video.w,c.height=d.hasOwnProperty("h")?d.h:e.video.h,c.vastXml=d.adm,function(e,t){let n,i,r;if(t.bidderRequest&&t.bidderRequest.bids){for(let o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,i=t.bidderRequest.bids[o].mediaTypes[w.pX].context,r=t.bidderRequest.bids[o].adUnitCode);i&&"outstream"===i&&n&&n.outstreamAU&&r&&(e.rendererCode=n.outstreamAU,e.renderer=co.newRenderer(e.rendererCode,r))}}(c,t),function(e,t,n){var o,a,s;if(null==t||null===(o=t.ext)||void 0===o||!o.prebiddealpriority)return;const d=(0,i.zE)(e.requestId,[n.bidderRequest]),c=(0,r.Z)(d,"mediaTypes.video");if((null==c?void 0:c.context)!=w.Oh)return;const u=(null==t||null===(a=t.ext)||void 0===a||null===(s=a.video)||void 0===s?void 0:s.duration)||(null==c?void 0:c.maxduration);e.video={context:w.Oh,durationSeconds:u,dealTier:t.ext.prebiddealpriority}}(c,d,t);break;case w.B5:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,i.yN)(Gr+"Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&n.native.assets.length>0){t.mediaType=w.B5;for(let e=0,i=n.native.assets.length;e<i;e++)switch(n.native.assets[e].id){case ro.TITLE.ID:t.native.title=n.native.assets[e].title&&n.native.assets[e].title.text;break;case ro.IMAGE.ID:t.native.image={url:n.native.assets[e].img&&n.native.assets[e].img.url,height:n.native.assets[e].img&&n.native.assets[e].img.h,width:n.native.assets[e].img&&n.native.assets[e].img.w};break;case ro.ICON.ID:t.native.icon={url:n.native.assets[e].img&&n.native.assets[e].img.url,height:n.native.assets[e].img&&n.native.assets[e].img.h,width:n.native.assets[e].img&&n.native.assets[e].img.w};break;case ro.SPONSOREDBY.ID:case ro.BODY.ID:case ro.LIKES.ID:case ro.DOWNLOADS.ID:case ro.PRICE:case ro.SALEPRICE.ID:case ro.PHONE.ID:case ro.ADDRESS.ID:case ro.DESC2.ID:case ro.CTA.ID:case ro.RATING.ID:case ro.DISPLAYURL.ID:t.native[fo[n.native.assets[e].id]]=n.native.assets[e].data&&n.native.assets[e].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=Xr),t.height||(t.height=Jr)}}}(d,c)}})),d.ext&&d.ext.deal_channel&&(c.dealChannel=so[d.ext.deal_channel]||null),function(e,t,n){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);const i=n||t.ext&&t.ext.advid;i&&(e.meta.advertiserId=i,e.meta.agencyId=i,e.meta.buyerId=i),t.adomain&&Co(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Co(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(c,d,e.seat),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(c.bidderCode=d.ext.marketplace),n.push(c)}))})))}catch(e){(0,i.H)(e)}return n},getUserSyncs:(e,t,n,i)=>{let r=""+lo;return n&&(r+="&gdpr="+(n.gdprApplies?1:0),r+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),i&&(r+="&us_privacy="+encodeURIComponent(i)),!0===p.vc.getConfig("coppa")&&(r+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+r}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+r}]},transformBidParams:function(e,t,n,r){return(0,i.uh)({publisherId:"string",adSlot:"string"},e)}};(0,Le.dX)(Ao),window.pubtech_pbjs.installedModules.push("pubmaticBidAdapter");let xo="";const Oo={code:"richaudience",gvlid:108,aliases:["ra"],supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){return!!(e.params&&e.params.pid&&e.params.supplyType)},buildRequests:function(e,t){return e.map((e=>{var n={bidfloor:jo(e,p.vc),ifa:e.params.ifa,pid:e.params.pid,supplyType:e.params.supplyType,currencyCode:p.vc.getConfig("currency.adServerCurrency"),auctionId:e.auctionId,bidId:e.bidId,BidRequestsCount:e.bidRequestsCount,bidder:e.bidder,bidderRequestId:e.bidderRequestId,tagId:e.adUnitCode,sizes:ko(e),referer:void 0!==t.refererInfo.page?encodeURIComponent(t.refererInfo.page):null,numIframes:void 0!==t.refererInfo.numIframes?t.refererInfo.numIframes:null,transactionId:e.transactionId,timeout:p.vc.getConfig("bidderTimeout"),user:No(e),demand:Do(e),videoData:Ro(e),scr_rsl:Uo(),cpuc:void 0!==window.navigator?window.navigator.hardwareConcurrency:null,kws:(0,i.xb)(e.params.keywords)?null:e.params.keywords,schain:e.schain};xo=void 0!==t.refererInfo.page?encodeURIComponent(t.refererInfo.page):null,n.gdpr_consent="",n.gdpr=!1,t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(n.gdpr=t.gdprConsent.gdprApplies),void 0!==t.gdprConsent.consentString&&(n.gdpr_consent=t.gdprConsent.consentString));return{method:"POST",url:"https://shb.richaudience.com/hb/",data:JSON.stringify(n)}}))},interpretResponse:function(e,t){const n=[];var i=e.body;if(i){var r={requestId:JSON.parse(t.data).bidId,cpm:i.cpm,width:i.width,height:i.height,creativeId:i.creative_id,mediaType:i.media_type,netRevenue:i.netRevenue,currency:i.currency,ttl:i.ttl,meta:i.adomain,dealId:i.dealId};if("video"===i.media_type){r.vastXml=i.vastXML;try{null!=r.vastXml&&("outstream"!=JSON.parse(t.data).videoData.format&&"banner"!=JSON.parse(t.data).videoData.format||(r.renderer=l.Th.install({id:t.bidId,adunitcode:t.tagId,loaded:!1,config:i.media_type,url:"https://cdn3.richaudience.com/prebidVideo/player.js"})),r.renderer.setRender(Po))}catch(e){r.ad=i.adm}}else r.ad=i.adm;n.push(r)}return n},getUserSyncs:function(e,t,n){const i=[];var r,o=Math.floor(9999999999*Math.random()),a="",s="";return r=function(e){try{let t=null,n={};return null!=e.getConfig("userSync").filterSettings&&void 0!==e.getConfig("userSync").filterSettings&&(t=e.getConfig("userSync").filterSettings,null!=t.iframe&&void 0!==t.iframe&&(n.raiIframe="richaudience"==t.iframe.bidders||"*"==t.iframe.bidders?t.iframe.filter:"exclude"),null!=t.image&&void 0!==t.image&&(n.raiImage="richaudience"==t.image.bidders||"*"==t.image.bidders?t.image.filter:"exclude")),n}catch(e){return null}}(p.vc),n&&"string"==typeof n.consentString&&void 0!==n.consentString&&(s=`consentString=${n.consentString}`),e.iframeEnabled&&"exclude"!=r.raiIframe&&(a="https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord="+o,""!=s&&(a+=`&${s}`),i.push({type:"iframe",url:a})),e.pixelEnabled&&null!=xo&&0==i.length&&"exclude"!=r.raiImage&&(a=`https://sync.richaudience.com/bf7c142f4339da0278e83698a02b0854/?referrer=${xo}`,""!=s&&(a+=`&${s}`),i.push({type:"image",url:a})),i}};function ko(e){let t;if(e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(t=e.mediaTypes.banner.sizes),null!=t)return t.map((e=>({w:e[0],h:e[1]})))}function Do(e){let t="display";return void 0!==e.sizes&&e.sizes.forEach((function(e){("1800"==e[0]&&"1000"==e[1]||"1"==e[0]&&"1"==e[1])&&(t="skin")})),null!=e.mediaTypes&&null!=e.mediaTypes.video&&(t="video"),t}function Ro(e){let t;return t="video"==Do(e)?{format:e.mediaTypes.video.context,playerSize:e.mediaTypes.video.playerSize,mimes:e.mediaTypes.video.mimes}:{format:"banner"},t}function No(e){let t=[];return e&&e.userId&&(Bo(e,t,"id5-sync.com",(0,r.Z)(e,"userId.id5id.uid")),Bo(e,t,"pubcommon",(0,r.Z)(e,"userId.pubcid")),Bo(e,t,"criteo.com",(0,r.Z)(e,"userId.criteoId")),Bo(e,t,"liveramp.com",(0,r.Z)(e,"userId.idl_env")),Bo(e,t,"liveintent.com",(0,r.Z)(e,"userId.lipb.lipbid")),Bo(e,t,"adserver.org",(0,r.Z)(e,"userId.tdid"))),t}function Bo(e,t,n,r){(0,i.d8)(r)&&t.push({userId:r,source:n})}function Po(e){e.renderer.push((()=>{!function(e){let t=`${e.vastXml}`,n={config:null!=e.params[0].player?{end:null!=e.params[0].player.end?e.params[0].player.end:"close",init:null!=e.params[0].player.init?e.params[0].player.init:"close",skin:null!=e.params[0].player.skin?e.params[0].player.skin:"light"}:{end:"close",init:"close",skin:"light"},pid:e.params[0].pid,adUnit:e.adUnitCode};window.raParams(n,t,!0)}(e)}))}function Uo(){let e="";return void 0!==window.screen&&(e=window.screen.width+"x"+window.screen.height),e}function jo(e,t){try{let n;if(null!=e.params.bidfloor)n=e.params.bidfloor;else if("function"==typeof e.getFloor){n=e.getFloor({currency:null!=t.getConfig("floors.data.currency")?t.getConfig("floors.data.currency"):"USD",mediaType:"object"==typeof e.mediaTypes.banner?"banner":"video",size:"*"}).floor}return n}catch(e){return 0}}(0,Le.dX)(Oo),window.pubtech_pbjs.installedModules.push("richaudienceBidAdapter");const Mo={[w.Mk]:"banner",[w.B5]:"native",[w.pX]:"video"};const qo={[fn]:{extPrebid:{fn:function(e,t){var n;o(e,"ext.prebid",(0,i.Ee)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(n=e.ext)||void 0===n?void 0:n.prebid)),p.vc.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t,i;o(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,n.R)().version},null===(t=e.ext)||void 0===t||null===(i=t.prebid)||void 0===i?void 0:i.channel))}},extPrebidAliases:{fn:function(e,t,n){let{am:i=K.ZP}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(i.aliasRegistry[t.bidderCode]){const n=i.bidderRegistry[t.bidderCode];n&&n.getSpec().skipPbsAliasing||o(e,`ext.prebid.aliases.${t.bidderCode}`,i.aliasRegistry[t.bidderCode])}}}},[mn]:{params:{fn:function(e,t,n){let{adUnit:i,bidderRequests:r,index:a=c.K.index,bidderRegistry:s=K.ZP.bidderRegistry}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=t.params;const u=s[t.bidder];u&&u.getSpec().transformBidParams&&(i=i||a.getAdUnit(t),r=r||[n.bidderRequest],d=u.getSpec().transformBidParams(d,!0,i,r)),d&&o(e,`ext.prebid.bidder.${t.bidder}`,d)}},adUnitCode:{fn:function(e,t){const n=t.adUnitCode;n&&o(e,"ext.prebid.adunitcode",n)}}},[gn]:{mediaType:{fn:function(e,t,n){let i=n.mediaType;var r,o;i||(i=ln.hasOwnProperty(t.mtype)?ln[t.mtype]:null===(r=t.ext)||void 0===r||null===(o=r.prebid)||void 0===o?void 0:o.type,Mo.hasOwnProperty(i)||(i=w.Mk)),e.mediaType=i},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===w.pX){let{cacheId:n,url:i}=(0,r.Z)(t,"ext.prebid.cache.vastXml")||{};if(!n||!i){const{hb_uuid:e,hb_cache_host:o,hb_cache_path:a}=(0,r.Z)(t,"ext.prebid.targeting")||{};e&&o&&a&&(n=e,i=`https://${o}${a}?uuid=${e}`)}n&&i&&Object.assign(e,{videoCacheKey:n,vastUrl:i})}},priority:-10},bidderCode:{fn(e,t,n){var i;e.bidderCode=n.seatbid.seat,e.adapterCode=(0,r.Z)(t,"ext.prebid.meta.adaptercode")||(null===(i=n.bidRequest)||void 0===i?void 0:i.bidder)||e.bidderCode}},pbsBidId:{fn(e,t){const n=(0,r.Z)(t,"ext.prebid.bidid");(0,i.d8)(n)&&(e.pbsBidId=n)}},adserverTargeting:{fn(e,t){const n=(0,r.Z)(t,"ext.prebid.targeting");(0,i.PO)(n)&&(e.adserverTargeting=n)}},extPrebidMeta:{fn(e,t){e.meta=(0,i.Ee)({},(0,r.Z)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn(e,t){const n=(0,r.Z)(t,"ext.prebid.events.win");(0,i.d8)(n)&&(e.pbsWurl=n)}}},[hn]:{serverSideStats:{fn(e,t,n){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((e=>{let[i,o]=e;const a=(0,r.Z)(t,`ext.${i}.${n.bidderRequest.bidderCode}`);a&&(n.bidderRequest[o]=a,n.bidRequests.forEach((e=>e[o]=a)))}))}}}},Lo=(0,i.HP)((()=>wn(Cn(),qo,In(yn)))),zo="https://video-outstream.rubiconproject.com/apex-2.2.1.js";let Fo={};p.vc.getConfig("rubicon",(e=>{(0,i.Ee)(Fo,e.rubicon)}));var $o={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};(0,i.yi)($o,((e,t)=>$o[e]=t));const Ho=Sn({request(e,t,r,a){var s,d;const{bidRequests:c}=a,u=e(t,r,a);u.cur=["USD"],u.test=p.vc.getConfig("debug")?1:0,o(u,"ext.prebid.cache",{vastxml:{returnCreative:!0===Fo.returnVast}}),o(u,"ext.prebid.bidders",{rubicon:{integration:Fo.int_type||"pbjs"}}),o(u,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(p.vc));let l=(0,n.R)().installedModules;!l||l.length&&-1===l.indexOf("rubiconAnalyticsAdapter")||o(u,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t){var n,r;let a={};const s=new Set;t.forEach((t=>{const n={user:{ext:{data:{...t.params.visitor}}},site:{ext:{data:{...t.params.inventory}}}},r=e.imp.find((e=>{var t,n,i,r,o;return null===(t=e.ext)||void 0===t||null===(n=t.prebid)||void 0===n||null===(i=n.bidder)||void 0===i||null===(r=i.rubicon)||void 0===r||null===(o=r.video)||void 0===o?void 0:o.language}));var o,d,c,u,l;r&&(n.site.content={language:null===(o=r.ext)||void 0===o||null===(d=o.prebid)||void 0===d||null===(c=d.bidder)||void 0===c||null===(u=c.rubicon)||void 0===u||null===(l=u.video)||void 0===l?void 0:l.language});if(t.params.keywords){(Array.isArray(t.params.keywords)?t.params.keywords:t.params.keywords.split(",")).forEach((e=>s.add(e)))}a=(0,i.Ee)(a,t.ortb2||{},n);const f=p.vc.getConfig("user.id");a.user.id=a.user.id||f})),(0,i.Ee)(e,a),s&&s.size&&o(e,"site.keywords",Array.from(s.values()).join(","));null==e||(null===(n=e.ext)||void 0===n||(null===(r=n.prebid)||void 0===r||delete r.storedrequest))}(u,c),null==u||(null===(s=u.ext)||void 0===s||(null===(d=s.prebid)||void 0===d||delete d.storedrequest)),!0===Fo.disableFloors&&delete u.ext.prebid.floors;return c.filter((e=>"object"==typeof e.floorData)).length>0&&(u.ext.prebid.floors={enabled:!1}),u},imp(e,t,n){var i,o;const a=Xo(t);if(a.includes(w.Mk)&&1==a.length)return;const s=e(t,n);return s.id=t.adUnitCode,delete s.banner,p.vc.getConfig("s2sConfig.defaultTtl")&&(s.exp=p.vc.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&(s.video.pos=1),"btf"===t.params.position&&(s.video.pos=3),null===(i=s.ext)||void 0===i||(null===(o=i.prebid)||void 0===o||delete o.storedrequest),function(e,t){"USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur);if(!t.bidfloor){let n=parseFloat((0,r.Z)(e,"params.floor"));isNaN(n)||(t.bidfloor=n,t.bidfloorcur="USD")}}(t,s),s},bidResponse(e,t,n){const a=e(t,n);a.meta.mediaType=(0,r.Z)(t,"ext.prebid.type");const{bidRequest:s}=n;return a.mediaType===w.pX&&"outstream"===s.mediaTypes.video.context&&(a.renderer=function(e){const t=l.Th.install({id:e.adId,url:Fo.rendererUrl||zo,config:Fo.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(Wo)}catch(e){(0,i.yN)("Prebid Error calling setRender on renderer",e)}return t}(a)),a.width=t.w||(0,r.Z)(s,"mediaTypes.video.w")||(0,r.Z)(s,"params.video.playerWidth"),a.height=t.h||(0,r.Z)(s,"mediaTypes.video.h")||(0,r.Z)(s,"params.video.playerHeight"),(0,r.Z)(t,"ext.bidder.rp.advid")&&o(a,"meta.advertiserId",t.ext.bidder.rp.advid),a},context:{netRevenue:!1!==Fo.netRevenue,ttl:300},processors:Lo}),Zo={code:"rubicon",gvlid:52,supportedMediaTypes:[w.Mk,w.pX,w.B5],isBidRequestValid:function(e){let t=!0;if("object"!=typeof e.params)return!1;for(let t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return(0,i.H)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let n=Xo(e,!0);if(!n.length)return!1;n.includes(w.pX)&&(t=function(e){let t=!0,n=Object.prototype.toString.call([]),o=Object.prototype.toString.call(0);var a={mimes:n,protocols:n,linearity:o,api:n};return Object.keys(a).forEach((function(n){Object.prototype.toString.call((0,r.Z)(e,"mediaTypes.video."+n))!==a[n]&&(t=!1,(0,i.H)("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+a[n]))})),t}(e));const o=[w.Mk,w.B5].filter((e=>n.includes(e))).length>0;return o?t&&o:t},buildRequests:function(e,t){let n,r=[],o=[];if(n=e.filter((e=>{const t=Xo(e)||[],{length:n}=t,{bidonmultiformat:i,video:r}=e.params||{};return 1===n&&(t.includes(w.pX)||t.includes(w.B5))||2===n&&!t.includes(w.Mk)||r&&t.includes(w.pX)||i&&(t.includes(w.pX)||t.includes(w.B5))})),n&&n.length){const e=Ho.toORTB({bidRequests:n,bidderRequest:t});o.push({method:"POST",url:`https://${Fo.videoHost||"prebid-server"}.rubiconproject.com/openrtb2/auction`,data:e,bidRequest:n})}const a=e.filter((e=>{const t=Xo(e)||[],{bidonmultiformat:n,video:i}=e.params||{};return t.includes(w.Mk)&&(1===t.length||n||!n&&!i||!n&&i&&!t.includes(w.pX))}));if(!0!==p.vc.getConfig("rubicon.singleRequest"))r=o.concat(a.map((e=>{const n=Zo.createSlotParams(e,t);return{method:"GET",url:`https://${Fo.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:Zo.getOrderedParams(n).reduce(((e,t)=>{const r=n[t];return(0,i.d8)(r)&&""!==r||(0,i.hj)(r)?`${e}${Yo(t,r)}&`:e}),"")+`slots=1&rand=${Math.random()}`,bidRequest:e}})));else{const e=a.reduce(((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e)),{}),n=10;r=o.concat(Object.keys(e).reduce(((r,o)=>{var a,s;return(a=e[o],s=n,a.map(((e,t)=>t%s==0?a.slice(t,t+s):null)).filter((e=>e))).forEach((e=>{const n=Zo.combineSlotUrlParams(e.map((e=>Zo.createSlotParams(e,t))));r.push({method:"GET",url:`https://${Fo.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:Zo.getOrderedParams(n).reduce(((e,t)=>{const r=n[t];return(0,i.d8)(r)&&""!==r||(0,i.hj)(r)?`${e}${Yo(t,r)}&`:e}),"")+`slots=${e.length}&rand=${Math.random()}`,bidRequest:e})})),r}),[]))}return r},getOrderedParams:function(e){const t=/^tg_v/,n=/^tg_i/,i=/^eid_|^tpid_/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((e=>i.test(e)))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((e=>t.test(e)))).concat(Object.keys(e).filter((e=>n.test(e)))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter((e=>-1===r.indexOf(e))))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];const t=e.reduce((function(t,n,i){return Object.keys(n).forEach((function(r){t.hasOwnProperty(r)||(t[r]=new Array(e.length)),t[r].splice(i,1,n[r])})),t}),{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){const i=t[e].join(";"),r=i.match(n);t[e]=r?r[1]:i})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();const n=e.params,o=Vo(e,"banner"),[a,s]=n.latLong||[],d={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:o[0],alt_size_ids:o.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:`${Fo.int_type||"pbjs_lite"}_v7.41.0`,"x_source.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:Go(e,t)};if("function"==typeof e.getFloor&&!Fo.disableFloors){let t;try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,i.H)("Rubicon: getFloor threw an error: ",e)}d.rp_hard_floor="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}let c={1:"atf",3:"btf"}[(0,r.Z)(e,"mediaTypes.banner.pos")]||"";d.p_pos="atf"===n.position||"btf"===n.position?n.position:c;const l=p.vc.getConfig("user.id");return l&&(d.ppuid=l),e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if("adserver.org"===e.source?(d.tpid_tdid=e.uids[0].id,d["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(d["tpid_liveintent.com"]=e.uids[0].id,d["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(d["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?d.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?d["eid_id5-sync.com"]=`${e.uids[0].id}^${e.uids[0].atype}^${e.uids[0].ext&&e.uids[0].ext.linkType||""}`:d[`eid_${e.source}`]=`${e.uids[0].id}^${e.uids[0].atype||""}`,!d.ppuid){const t=(0,u.sE)(e.uids,(e=>e.ext&&"ppuid"===e.ext.stype));t&&t.id&&(d.ppuid=t.id)}}catch(t){(0,i.yN)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),d.rp_maxbids=t.bidLimit||1,function(e,t,n){const o={user:{ext:{data:{...e.params.visitor}}},site:{ext:{data:{...e.params.inventory}}}};e.params.keywords&&(o.site.keywords=(0,i.kJ)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let a=(0,i.Ee)({},e.ortb2||{},o),s=(0,r.Z)(e.ortb2Imp,"ext")||{},d=(0,r.Z)(e.ortb2Imp,"ext.data")||{};const c=(0,r.Z)(e,"ortb2Imp.ext.gpid"),u={user:[4],site:[1,2,5,6]},l={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},p=function(e,t,n){return"data"===t&&Array.isArray(e)?e.filter((e=>e.segment&&(0,r.Z)(e,"ext.segtax")&&u[n]&&-1!==u[n].indexOf((0,r.Z)(e,"ext.segtax")))).map((e=>{let t=e.segment.filter((e=>e.id)).reduce(((e,t)=>(e.push(t.id),e)),[]);if(t.length>0)return t.toString()})).toString():("object"!=typeof e||Array.isArray(e))&&void 0!==e?Array.isArray(e)?e.filter((e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,i.yN)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString():void 0},f=function(e,t,i){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=p(e,i,t),a=l[i]&&r?`${l[i]}`:"data"===i?`${l[t]}iab`:`${l[t]}${i}`;n[a]=n[a]?n[a].concat(",",o):o};t===w.Mk?(["site","user"].forEach((e=>{Object.keys(a[e]).forEach((t=>{"site"===e&&"content"===t&&a[e][t].data?f(a[e][t].data,e,"data"):"ext"!==t?f(a[e][t],e,t):a[e][t].data&&Object.keys(a[e].ext.data).forEach((t=>{f(a[e].ext.data[t],e,t,!1)}))}))})),Object.keys(d).forEach((e=>{"adserver"!==e?f(d[e],"site",e):"gam"===d[e].name&&f(d[e].adslot,name,e)})),c&&(n.p_gpid=c),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"]):(Object.keys(s).length&&(0,i.Ee)(n.imp[0].ext,s),c&&(n.imp[0].ext.gpid=c),(0,i.Ee)(n,a))}(e,w.Mk,d),!0===p.vc.getConfig("coppa")&&(d.coppa=1),e.schain&&Jo(e.schain)&&(d.rp_schain=Zo.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!Jo(e))return"";const{ver:t,complete:n,nodes:i}=e;return`${t},${n}!${Zo.serializeSupplyChainNodes(i)}`},serializeSupplyChainNodes:function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map((e=>t.map((t=>encodeURIComponent(e[t]||""))).join(","))).join("!")},interpretResponse:function(e,t){e=e.body;const{data:n}=t;if(!e||"object"!=typeof e)return[];if(e.seatbid){const t=(0,r.Z)(e,"ext.errors.rubicon");Array.isArray(t)&&t.length>0&&(0,i.yN)("Rubicon: Error in video response");return Ho.fromORTB({request:n,response:e}).bids}let o,a=e.ads,s=0;const{bidRequest:d}=t;return"object"==typeof d&&!Array.isArray(d)&&Xo(d).includes(w.pX)&&"object"==typeof a&&(a=a[d.adUnitCode]),!Array.isArray(a)||a.length<1?[]:a.reduce(((t,n,r)=>{if(n.impression_id&&o===n.impression_id?s++:o=n.impression_id,"ok"!==n.status)return t;const a=Array.isArray(d)?d[r-s]:d;if(a&&"object"==typeof a){let e={requestId:a.bidId,currency:"USD",creativeId:n.creative_id||`${n.network||""}-${n.advertiser||""}`,cpm:n.cpm||0,dealId:n.deal,ttl:300,netRevenue:!1!==Fo.netRevenue,rubicon:{advertiserId:n.advertiser,networkId:n.network},meta:{advertiserId:n.advertiser,networkId:n.network,mediaType:w.Mk}};n.creative_type&&(e.mediaType=n.creative_type),n.adomain&&(e.meta.advertiserDomains=Array.isArray(n.adomain)?n.adomain:[n.adomain]),n.creative_type===w.pX?(e.width=a.params.video.playerWidth,e.height=a.params.video.playerHeight,e.vastUrl=n.creative_depot_url,e.impression_id=n.impression_id,e.videoCacheKey=n.impression_id):(e.ad=(c=n.script,`<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='${n.impression_id}'>\n<script type='text/javascript'>${c}<\/script>\n</div>\n</body>\n</html>`),[e.width,e.height]=$o[n.size_id].split("x").map((e=>Number(e)))),e.rubiconTargeting=(Array.isArray(n.targeting)?n.targeting:[]).reduce(((e,t)=>(e[t.key]=t.values[0],e)),{rpfl_elemid:a.adUnitCode}),t.push(e)}else(0,i.H)(`Rubicon: bidRequest undefined at index position:${r}`,d,e);var c;return t}),[]).sort(((e,t)=>(t.cpm||0)-(e.cpm||0)))},getUserSyncs:function(e,t,n,r){if(!Qo&&e.iframeEnabled){let e={};return n&&("boolean"==typeof n.gdprApplies&&(e.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString&&(e.gdpr_consent=n.consentString)),r&&(e.us_privacy=encodeURIComponent(r)),e=Object.keys(e).length?`?${(0,i.Yp)(e)}`:"",Qo=!0,{type:"iframe",url:`https://${Fo.syncHost||"eus"}.rubiconproject.com/usync.html`+e}}},transformBidParams:function(e,t){return(0,i.uh)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function Go(e,t){let n;return n=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?n.replace(/^http:/i,"https:"):n}function Wo(e){const t=document.getElementById(e.adUnitCode);!function(e){const t=e.querySelector("div[id^='google_ads']");t&&t.style.setProperty("display","none")}(t),function(e){const t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(t);const n=e.renderer.getConfig();e.renderer.push((()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function Vo(e,t){let n=e.params;if(t===w.pX){let t=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?t=[n.video.playerWidth,n.video.playerHeight]:Array.isArray((0,r.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}let o=[];return Array.isArray(n.sizes)?o=n.sizes:void 0!==(0,r.Z)(e,"mediaTypes.banner.sizes")?o=Ko(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=Ko(e.sizes):(0,i.yN)("Rubicon: no sizes are setup or found"),function(e){const t=[15,2,9];return e.sort(((e,n)=>{const i=t.indexOf(e),r=t.indexOf(n);return i>-1||r>-1?-1===i?1:-1===r?-1:i-r:e-n}))}(o)}function Ko(e){return(0,i.sF)(e).reduce(((e,t)=>{let n=parseInt($o[t],10);return n&&e.push(n),e}),[])}function Xo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(function(e){let t=void 0!==(0,r.Z)(e,`mediaTypes.${w.pX}`),n=void 0!==(0,r.Z)(e,`mediaTypes.${w.Mk}`),i=void 0!==(0,r.Z)(e,"params.bidonmultiformat"),a="object"!=typeof(0,r.Z)(e,"params.video");return!(!t||!i)||(n&&a&&(t=!1),t&&a&&o(e,"params.video",{}),t)}(e)){if(-1===["outstream","instream"].indexOf((0,r.Z)(e,`mediaTypes.${w.pX}.context`)))return t&&(0,i.H)("Rubicon: mediaTypes.video.context must be outstream or instream"),n;if(Vo(e,w.pX).length<2)return t&&(0,i.H)("Rubicon: could not determine the playerSize of the video"),n;t&&(0,i.ji)("Rubicon: making video request for adUnit",e.adUnitCode),n.push(w.pX)}if(void 0!==(0,r.Z)(e,`mediaTypes.${w.B5}`)&&n.push(w.B5),void 0!==(0,r.Z)(e,`mediaTypes.${w.Mk}`)){if(0===Vo(e,w.Mk).length)return t&&(0,i.H)("Rubicon: could not determine the sizes for banner request"),n;t&&(0,i.ji)("Rubicon: making banner request for adUnit",e.adUnitCode),n.push(w.Mk)}return n}function Jo(e){let t=!1;const n=["asi","sid","hp"];return e.nodes?(t=e.nodes.reduce(((e,t)=>e?n.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,i.H)("Rubicon: required schain params missing"),t):t}function Yo(e,t){return"rp_schain"===e?`rp_schain=${t}`:`${e}=${encodeURIComponent(t)}`}var Qo=!1;(0,Le.dX)(Zo),window.pubtech_pbjs.installedModules.push("rubiconBidAdapter");const ea="https://s.seedtag.com/se/hb/timeout",ta=["inScreen","inImage","inArticle","inBanner"],na={[w.Mk]:"display",[w.pX]:"video"},ia="fixed",ra="mobile",oa="unknown",aa=()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{};switch(e.type||e.effectiveType){case"wifi":case"ethernet":return ia;case"cellular":case"wimax":return ra;default:return/iPad|iPhone|iPod/.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?oa:ia}};function sa(e){return!!e.mediaTypes&&!!e.mediaTypes.video}function da(e){const t=e.params;return!!t.publisherId&&!!t.adUnitId&&ta.indexOf(t.placement)>-1}function ca(e){const t=e.params,n=(0,i.HA)(Object.keys(e.mediaTypes),(function(e){return na[e]})),r={id:e.bidId,transactionId:e.transactionId,sizes:e.sizes,supplyTypes:n,adUnitId:t.adUnitId,adUnitCode:e.adUnitCode,placement:t.placement,requestCount:e.bidderRequestsCount||1};return sa(e)&&(r.videoParams=ua(e)),r}function ua(e){const t=e.mediaTypes.video||{};return t.playerSize&&(t.w=t.playerSize[0][0],t.h=t.playerSize[0][1]),t}function la(e){const t="display"===(n=e.mediaType)?w.Mk:"video"===n?w.pX:n;var n;const i={requestId:e.bidId,cpm:e.price,width:e.width,height:e.height,creativeId:e.creativeId,currency:e.currency,netRevenue:!0,mediaType:t,ttl:e.ttl,nurl:e.nurl,meta:{advertiserDomains:e&&e.adomain&&e.adomain.length>0?e.adomain:[]}};return t===w.pX?i.vastXml=e.content:i.ad=e.content,i}function pa(){const e=(()=>{try{const e=performance.getEntriesByType("navigation")[0];return Math.round(e.responseStart-e.startTime)}catch(e){try{const e=performance.timing;return Math.round(e.responseStart-e.fetchStart)}catch(e){return 0}}})();return e>=0&&e<=performance.now()?e:0}const fa={code:"seedtag",gvlid:157,aliases:["st"],supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:e=>sa(e)?function(e){const t=ua(e);let n=!!e.params.publisherId&&!!e.params.adUnitId&&sa(e)&&!!t.playerSize&&(0,i.kJ)(t.playerSize)&&t.playerSize.length>0;return"inStream"===e.params.placement?n&&"instream"===t.context:n&&"outstream"===t.context&&function(e){return!!e.mediaTypes&&!!e.mediaTypes.banner}(e)&&da(e)}(e):da(e),buildRequests(e,t){var n,r;const o={url:t.refererInfo.page,publisherToken:e[0].params.publisherId,cmp:!!t.gdprConsent,timeout:t.timeout,version:"7.41.0",connectionType:aa(),auctionStart:t.auctionStart||Date.now(),ttfb:pa(),bidRequests:(0,i.HA)(e,ca)};if(o.cmp){const e=t.gdprConsent.gdprApplies;void 0!==e&&(o.ga=e),o.cd=t.gdprConsent.consentString}t.uspConsent&&(o.uspConsent=t.uspConsent),e[0].schain&&(o.schain=e[0].schain);let a=p.vc.getConfig("coppa");a&&(o.coppa=a),t.gppConsent?o.gppConsent={gppString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}:null!==(n=t.ortb2)&&void 0!==n&&null!==(r=n.regs)&&void 0!==r&&r.gpp&&(o.gppConsent={gppString:t.ortb2.regs.gpp,applicableSections:t.ortb2.regs.gpp_sid});return{method:"POST",url:"https://s.seedtag.com/c/hb/bid",data:JSON.stringify(o)}},interpretResponse:function(e){const t=e.body;return t&&t.bids&&(0,i.kJ)(t.bids)?(0,i.HA)(t.bids,(function(e){return la(e)})):[]},getUserSyncs(e,t){const n=t[0];if(e.iframeEnabled&&n){const e=n.body.cookieSync;return e?[{type:"iframe",url:e}]:[]}return[]},onTimeout(e){const t=function(e){let t="";if((0,i.kJ)(e)&&e[0]&&(0,i.kJ)(e[0].params)&&e[0].params[0]){const n=e[0].params[0],i=e[0].timeout;t="?publisherToken="+n.publisherId+"&adUnitId="+n.adUnitId+"&timeout="+i}return ea+t}(e);(0,i.hq)(t)},onBidWon:function(e){e&&e.nurl&&(0,i.hq)(e.nurl)}};(0,Le.dX)(fa),window.pubtech_pbjs.installedModules.push("seedtagBidAdapter");const ma={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;const t=["asi","sid","hp","rid","name","domain"];return`${e.ver},${e.complete}!`+e.nodes.map((e=>t.map((t=>e[t]?encodeURIComponent(e[t]):"")).join(","))).join("!")},adaptBannerSizes:function(e){return e.map((e=>({w:e[0],h:e[1]})))},fillPayloadForVideoBidRequest:function(e,t,n){const i=t.playerSize[0];e.isVideo="instream"===t.context,e.mediaType=w.pX,e.videoData={videoProtocol:this.getProtocolForVideoBidRequest(t,n),playerWidth:i[0],playerHeight:i[1],adBreak:this.getStartDelayForVideoBidRequest(t,n)}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(void 0!==t&&t.startDelay)return t.startDelay;if(void 0!==e){if(0==e.startdelay)return 1;if(-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 2},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,t){const n=p.vc.getConfig("currency.adServerCurrency"),o=(0,r.Z)(t,"ortb2.user.data",p.vc.getAnyConfig("ortb2.user.data")),a=(0,r.Z)(t,"ortb2.site.content.data",p.vc.getAnyConfig("ortb2.site.content.data"));return e.reduce(((e,s)=>{let d={siteid:s.params.siteId,pageid:s.params.pageId,formatid:s.params.formatId,currencyCode:n,targeting:s.params.target&&""!==s.params.target?s.params.target:void 0,buid:s.params.buId&&""!==s.params.buId?s.params.buId:void 0,appname:s.params.appName&&""!==s.params.appName?s.params.appName:void 0,ckid:s.params.ckId||0,tagId:s.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.page?t.refererInfo.page:void 0,transactionId:s.transactionId,timeout:p.vc.getConfig("bidderTimeout"),bidId:s.bidId,prebidVersion:"7.41.0",schain:ma.serializeSupplyChain(s.schain),sda:o,sdc:a};t&&(t.gdprConsent&&(d.addtl_consent=t.gdprConsent.addtlConsent,d.gdpr_consent=t.gdprConsent.consentString,d.gdpr=t.gdprConsent.gdprApplies),t.gppConsent&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=t.gppConsent.applicableSections),t.uspConsent&&(d.us_privacy=t.uspConsent)),s&&s.userId&&(d.eids=He(s.userId)),t&&t.uspConsent&&(d.us_privacy=t.uspConsent);const c=(0,r.Z)(s,"mediaTypes.banner"),u=(0,r.Z)(s,"mediaTypes.video"),l=u&&("instream"===u.context||"outstream"===u.context);if(c||l){let t;if(c){if(t=w.Mk,d.sizes=ma.adaptBannerSizes(c.sizes),l){let t=(0,i.I8)(d);ma.fillPayloadForVideoBidRequest(t,u,s.params.video),t.bidfloor=s.params.bidfloor||ma.getBidFloor(s,n,w.pX),e.push(ma.createServerRequest(t,s.params.domain))}}else t=w.pX,ma.fillPayloadForVideoBidRequest(d,u,s.params.video);d.bidfloor=s.params.bidfloor||ma.getBidFloor(s,n,t),e.push(ma.createServerRequest(d,s.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){const n=[];let r=e.body;try{if(r&&!r.isNoAd&&(r.ad||r.adUrl)){const e=JSON.parse(t.data);let i={requestId:e.bidId,cpm:r.cpm,width:r.width,height:r.height,creativeId:r.creativeId,dealId:r.dealId,currency:r.currency,netRevenue:r.isNetCpm,ttl:r.ttl,dspPixels:r.dspPixels,meta:{advertiserDomains:r.adomain?r.adomain:[]}};e.mediaType===w.pX?(i.mediaType=w.pX,i.vastUrl=r.adUrl,i.vastXml=r.ad,i.content=r.ad):(i.adUrl=r.adUrl,i.ad=r.ad),n.push(i)}}catch(e){(0,i.H)("Error while parsing smart server response",e)}return n},getBidFloor:function(e,t,n){if(!(0,i.LQ)(e.getFloor))return 0;const r=e.getFloor({currency:t||"USD",mediaType:n,size:"*"});return(0,i.PO)(r)&&!isNaN(r.floor)?r.floor:0},getUserSyncs:function(e,t){const n=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?n.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){n.push({type:"image",url:e})})),n}};(0,Le.dX)(ma),window.pubtech_pbjs.installedModules.push("smartadserverBidAdapter");const ga="pbjs.sskzlabs.com",ha="EUR",ba="https",ya=600,va="antenna.ayads.co",_a="0.8.0";function Ia(){return(/(?:phone|windows\s+phone|ipod|blackberry|Galaxy Nexus|SM-G892A|(?:android|bbd+|meego|silk|googlebot) .+?mobile|palm|windows\s+ce|opera mini|avantgo|docomo)/i.test(navigator.userAgent)?"m":/(?:ipad|playbook|Tablet|(?:android|bb\d+|meego|silk)(?! .+? mobile))/i.test(navigator.userAgent)&&"t")||"d"}const Ta=/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;function Ea(e){return Ta.test(e)}function wa(e,t){(0,i.PN)("SublimeBidAdapter - "+e,t)}const Sa={zoneId:"",transactionId:"",notifyId:"",timeout:p.vc.getConfig("bidderTimeout")};function Ca(e){Object.assign(Sa,e),wa("State has been updated :",Sa)}function Aa(e){const t=window.sublime=window.sublime||{};let n=e.notifyId||t.notifyId;return n||(n=(0,i.DO)(),wa("generating a notifyId",n)),t.notifyId||(t.notifyId=n),n}function xa(e,t){const n=Date.now(),r={t:n,tse:n,z:Sa.zoneId,e:e,src:"pa",puid:Sa.transactionId||Sa.notifyId,notid:Sa.notifyId||"",pbav:_a,pubtimeout:Sa.timeout,pubpbv:"7.41.0",device:Ia()};"bidwon"===e&&(r.sspname=t||""),wa("Sending pixel for event: "+e,r);const o=(0,i.Yp)(r);(0,i.hq)("https://"+va+"/?"+o)}const Oa={code:"sublime",gvlid:114,aliases:[],isBidRequestValid:function(e){const t=Aa(e.params);return Ea(t)?t!==window.sublime.notifyId?(wa(`notifyId mismatch: params [${e.params.notifyId}] / sublime [${window.sublime.notifyId}]`),!1):!!Number(e.params.zoneId):(wa(`invalid notifyId format, got "${t}"`),!1)},buildRequests:function(e,t){const n={pbav:_a,prebidVersion:"7.41.0",currencyCode:p.vc.getConfig("currency.adServerCurrency")||ha,timeout:"object"==typeof t&&t?t.timeout:p.vc.getConfig("bidderTimeout")};return Ca({timeout:n.timeout}),t&&t.refererInfo&&(n.referer=t.refererInfo.topmostLocation,n.numIframes=t.refererInfo.numIframes),t&&t.gdprConsent&&(n.gdprConsent=t.gdprConsent.consentString,n.gdpr=t.gdprConsent.gdprApplies),e.map((e=>{const t=e.params.bidHost||ga,i=e.params.protocol||ba,r=Aa(e.params);Ca({transactionId:e.transactionId,notifyId:r,zoneId:e.params.zoneId,debug:e.params.debug||!1});const o={adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidder:e.bidder,bidderRequestId:e.bidderRequestId,bidRequestsCount:e.bidRequestsCount,requestId:e.bidId,sizes:e.sizes.map((e=>({w:e[0],h:e[1]}))),transactionId:e.transactionId,notifyId:r,zoneId:e.params.zoneId},a=Object.assign({},n,o);return{method:"POST",url:i+"://"+t+"/bid",data:JSON.stringify(a),options:{contentType:"text/plain",withCredentials:!1}}}))},interpretResponse:function(e,t){const n=[],i=e.body;if(i){if(i.timeout||!i.ad||/<!--\s+No\s+ad\s+-->/gim.test(i.ad))return n;let e={width:1800,height:1e3};t&&t.data&&1===t.data.w&&1===t.data.h&&(e={width:1,height:1});const r={requestId:i.requestId||"",cpm:i.cpm||0,width:i.width||e.width,height:i.height||e.height,creativeId:i.creativeId||1,dealId:i.dealId||1,currency:i.currency||ha,netRevenue:i.netRevenue||!0,ttl:i.ttl||ya,ad:i.ad,pbav:_a,sspname:i.sspname||null};i.advertiserDomains&&(r.meta=Object.assign({},r.meta,{advertiserDomains:[]})),n.push(r)}return n},onBidWon:function(e){wa("Bid won",e),xa("bidwon",e.sspname)},onTimeout:function(e){wa("Timeout from adapter",e);const t=(0,r.Z)(e,"0.timeout");t&&Ca({timeout:t}),xa("bidtimeout")},sendEvent:xa,setState:Ca,state:Sa,detectDevice:Ia,getNotifyId:Aa,isValidNotifyId:Ea};(0,Le.dX)(Oa),window.pubtech_pbjs.installedModules.push("sublimeBidAdapter");const ka="teads",Da={GDPR_APPLIES_PUBLISHER:12,GDPR_APPLIES_GLOBAL:11,GDPR_DOESNT_APPLY:0,CMP_NOT_FOUND_OR_ERROR:22},Ra="_tfpvi",Na=(0,V.df)({gvlid:132,bidderCode:ka}),Ba={code:ka,gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){let t=!1;if(void 0!==e.params){let n=qa((0,i.NA)(e.params,"placementId")),r=qa((0,i.NA)(e.params,"pageId"));t=n&&r}return t||(0,i.H)("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){const n=e.map(Ma),i={referrer:Ua(t),pageReferrer:document.referrer,networkBandwidth:(o=window.navigator,o&&o.connection&&o.connection.downlink>=0?o.connection.downlink.toString():""),timeToFirstByte:ja(window),data:n,deviceWidth:screen.width,hb_version:"7.41.0",...Pa(e),...La(e)};var o;const a=e[0];a.schain&&(i.schain=a.schain);let s=t.gdprConsent;if(t&&s){let e="boolean"==typeof s.gdprApplies,t="string"==typeof s.consentString,n=e?function(e,t){let n=Da.GDPR_APPLIES_PUBLISHER;e?t&&!t.isServiceSpecific&&(n=Da.GDPR_APPLIES_GLOBAL):n=Da.GDPR_DOESNT_APPLY;return n}(s.gdprApplies,s.vendorData):Da.CMP_NOT_FOUND_OR_ERROR;i.gdpr_iab={consent:t?s.consentString:"",status:n,apiVersion:s.apiVersion}}t&&t.uspConsent&&(i.us_privacy=t.uspConsent);const d=(0,r.Z)(a,"ortb2.device.sua");d&&(i.userAgentClientHints=d);return{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(i)}},interpretResponse:function(e,t){const n=[];return(e=e.body).responses&&e.responses.forEach((function(e){const t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),n.push(t)})),n}};function Pa(e){const t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"};let n={};for(const i in t){const o=t[i],a=(0,r.Z)(e,`0.userId.${o}`);a&&(n[i]=a)}return n}function Ua(e){let t="";return e&&e.refererInfo&&e.refererInfo.page&&(t=e.refererInfo.page),t}function ja(e){const t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,n=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(n)return n.toString();const i=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return i?i.toString():""}function Ma(e){const t={};let n=(0,i.NA)(e.params,"placementId"),o=(0,i.NA)(e.params,"pageId");const a=(0,r.Z)(e,"ortb2Imp.ext.gpid");return t.sizes=function(e){return(0,i.sF)(function(e){let t=(0,r.Z)(e,"mediaTypes.video.playerSize"),n=(0,r.Z)(e,"mediaTypes.video.sizes"),o=(0,r.Z)(e,"mediaTypes.banner.sizes");if((0,i.kJ)(o)||(0,i.kJ)(t)||(0,i.kJ)(n)){return[o,n,t].reduce((function(e,t){return(0,i.kJ)(t)&&((0,i.kJ)(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[])}return e.sizes}(e))}(e),t.bidId=(0,i.An)("bidId",e),t.bidderRequestId=(0,i.An)("bidderRequestId",e),t.placementId=parseInt(n,10),t.pageId=parseInt(o,10),t.adUnitCode=(0,i.An)("adUnitCode",e),t.auctionId=(0,i.An)("auctionId",e),t.transactionId=(0,i.An)("transactionId",e),a&&(t.gpid=a),t}function qa(e){return parseInt(e)>0}function La(e){const t=(0,r.Z)(e,"0.userId.teadsId");if(t)return{firstPartyCookieTeadsId:t};if(Na.cookiesAreEnabled(null)){const e=Na.getCookie(Ra,null);if(e)return{firstPartyCookieTeadsId:e}}return{}}(0,Le.dX)(Ba),window.pubtech_pbjs.installedModules.push("teadsBidAdapter");const za="triplelift",Fa=300,$a=3600;let Ha=!0,Za=null;const Ga=(0,V.df)({gvlid:28,bidderCode:za}),Wa={gvlid:28,code:za,supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){let n="https://tlx.3lift.com/header/auction?",r=function(e,t){var n,r;let o={},{schain:a}=e[0];const s=function(e){const t={},n={},r={},o=e.ortb2||{},a=function(){const e=Ga.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,i.H)("Triplelift: error parsing JSON: ",e),null}}(),s=Object.assign({},o.site),d=Object.assign({},o.user);if(a){d.data=d.data||[];try{d.data.push({name:"www.1plusx.com",ext:a})}catch(e){(0,i.H)("Triplelift: error adding 1plusX segments: ",e)}}Ya(n,s),Ya(r,d),(0,i.xb)(n)||(t.context=n);(0,i.xb)(r)||(t.user=r);return t}(t);o.imp=e.map((function(e,t){let n={id:t,tagid:e.params.inventoryCode,floor:Ja(e)};return Va(e)&&(n.video=function(e){let t={...e.params.video,...e.mediaTypes.video};try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,i.yN)("Video size not defined",e)}"instream"===t.context&&(t.placement=1);"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&((0,i.ji)(`video.placement value of ${t.placement} is invalid for outstream context. Setting placement to 3`),t.placement=3):t.placement=3);t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number));return delete t.playerSize,t}(e)),e.mediaTypes.banner&&!Ka(e)&&(n.banner={format:as(e.sizes)}),(0,i.xb)(e.ortb2Imp)||(n.fpd=function(e){const t={},n={};Ya(n,e.ext),(0,i.xb)(n)||(t.context=n);return t}(e.ortb2Imp)),n}));let d=[...Qa([e[0]]),...es([e[0]]),...ts([e[0]]),...ns([e[0]]),...is(e[0])];d.length>0&&(o.user={ext:{eids:d}});let c=function(e,t){let n={};(0,i.xb)(e)||(n.schain={...e});(0,i.xb)(t)||(n.fpd={...t});return n}(a,s);(0,i.xb)(c)||(o.ext=c);null!=t&&null!==(n=t.ortb2)&&void 0!==n&&null!==(r=n.regs)&&void 0!==r&&r.gpp&&(o.regs=Object.assign({},t.ortb2.regs));return o}(e,t);if(n=(0,i.t0)(n,"lib","prebid"),n=(0,i.t0)(n,"v","7.41.0"),t&&t.refererInfo){let e=t.refererInfo.page;n=(0,i.t0)(n,"referrer",e)}return t&&t.timeout&&(n=(0,i.t0)(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(Ha=t.gdprConsent.gdprApplies,n=(0,i.t0)(n,"gdpr",Ha.toString())),void 0!==t.gdprConsent.consentString&&(Za=t.gdprConsent.consentString,n=(0,i.t0)(n,"cmp_cs",Za))),t&&t.uspConsent&&(n=(0,i.t0)(n,"us_privacy",t.uspConsent)),!0===p.vc.getConfig("coppa")&&(n=(0,i.t0)(n,"coppa",!0)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),(0,i.ji)("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){let{bidderRequest:n}=t;return(e.body.bids||[]).map((function(e){return function(e,t){let n={},i=t.width||1,r=t.height||1,o=t.deal_id||"",a=t.crid||"",s=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(n={requestId:s.bidId,cpm:t.cpm,width:i,height:r,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:Fa,tl_source:t.tl_source,meta:{}},Va(s)&&"video"===t.media_type&&(n.vastXml=t.ad,n.mediaType="video",n.ttl=$a),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(Va(s)&&"video"===t.media_type?n.meta.mediaType="video":n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native"),a&&(n.meta.networkId=a.slice(0,a.indexOf("_"))));return n}(n,e)}))},getUserSyncs:function(e,t,n,r){let o=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(!o)return;let a="https://eb2.3lift.com/sync?";return"image"===o&&(a=(0,i.t0)(a,"px",1),a=(0,i.t0)(a,"src","prebid")),null!==Za&&(a=(0,i.t0)(a,"gdpr",Ha),a=(0,i.t0)(a,"cmp_cs",Za)),r&&(a=(0,i.t0)(a,"us_privacy",r)),[{type:o,url:a}]}};function Va(e){return Xa(e)&&(Ka(e)||function(e){return Xa(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function Ka(e){return Xa(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function Xa(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function Ja(e){let t=null;if("function"==typeof e.getFloor)try{const n=e.getFloor({currency:"USD",mediaType:Va(e)?"video":"banner",size:"*"});"object"!=typeof n||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}catch(e){(0,i.H)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function Ya(e,t){(0,i.xb)(t)||Object.keys(t).forEach((n=>{null!=t[n]&&(e[n]=t[n])}))}function Qa(e){return rs(e,"tdid","adserver.org","TDID")}function es(e){return rs(e,"idl_env","liveramp.com","idl")}function ts(e){return rs(e,"criteoId","criteo.com","criteoId")}function ns(e){return rs(e,"pubcid","pubcid.org","pubcid")}function is(e){let t=["adserver.org","liveramp.com","criteo.com","pubcid.org"],n=[];return e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if(-1===t.indexOf(e.source)){let t=e.uids.map((t=>({id:t.id,ext:{rtiPartner:e.source}})));n.push({source:e.source,uids:t})}}catch(t){(0,i.yN)(`Triplelift: Error attempting to add ${e} to bid request`,t)}})),n}function rs(e,t,n,i){return e.map(function(e){return t=>t&&t.userId&&t.userId[e]}(t)).filter(os(t)).map(function(e,t){return n=>({source:e,uids:[{id:n.id?n.id:n,ext:{rtiPartner:t}}]})}(n,i))}const os=e=>(t,n,r)=>{let o=!!t&&((0,i.d8)(t)?!!t:(0,i.PO)(t)&&!(0,i.kJ)(t)&&!(0,i.xb)(t)&&t.id&&(0,i.d8)(t.id)&&!!t.id);return o||void 0===r[0]||(0,i.yN)(`Triplelift: invalid ${e} userId format`),o};function as(e){return e.filter(ss).map((function(e){return{w:e[0],h:e[1]}}))}function ss(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,Le.dX)(Wa),window.pubtech_pbjs.installedModules.push("tripleliftBidAdapter");const ds="iab",cs=1e4,us=2;let ls,ps,fs,ms,gs,hs,bs=!1;const ys={iab:function(e){let{onSuccess:t,onError:n,onEvent:r}=e;function o(e,o){(0,i.PN)("Received a response from CMP",e),o?(r(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||Is(e,{onSuccess:t,onError:n})):n("CMP unable to register callback function.  Please check CMP setup.")}const a={},{cmpFrame:s,cmpFunction:d}=function(){let e,t,n=window;for(;;){try{if("function"==typeof n.__tcfapi){t=n.__tcfapi,e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}();if(!s)return n("TCF2 CMP not found.");"function"==typeof d?((0,i.PN)("Detected CMP API is directly accessible, calling it now..."),d("addEventListener",us,o)):((0,i.PN)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,n){const i="__tcfapi",r=`${i}Call`;function o(e){const t=`${i}Return`,n="string"==typeof e.data&&(0,u.q9)(e.data,t)?JSON.parse(e.data):e.data;if(n[t]&&n[t].callId){const e=n[t];a.hasOwnProperty(e.callId)&&a[e.callId](e.returnValue,e.success)}}window[i]=function(e,n,i,o){const s=Math.random()+"",d={[r]:{command:e,version:n,parameter:o,callId:s}};a[s]=i,t.postMessage(d,"*")},window.addEventListener("message",o,!1),window[i](e,us,n)}("addEventListener",s,o))},static:function(e){let{onSuccess:t,onError:n}=e;Is(ms,{onSuccess:t,onError:n})}};function vs(e){let t,n,i=!1,r=null,o=!1;function a(e){null!=r&&clearTimeout(r),i||null==e||(0===e?t():r=setTimeout(t,e))}function s(t,n,r){if(a(null),i=!0,K.rp.setConsentData(t),"function"==typeof e){for(var o=arguments.length,s=new Array(o>3?o-3:0),d=3;d<o;d++)s[d-3]=arguments[d];e(n,r,...s)}}if(!(0,u.q9)(Object.keys(ys),ls))return void s(null,!1,`CMP framework (${ls}) is not a supported framework.  Aborting consentManagement module and resuming auction.`);const d={onSuccess:e=>s(e,!1),onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];s(null,!0,e,...n)},onEvent:function(e){n=e,o||(o=!0,null!=gs&&a(gs))}};t=()=>{const e=e=>{s(e,!1,(o?"Timeout waiting for user action on CMP":"CMP did not load")+", continuing auction...")};Is(n,{onSuccess:e,onError:()=>e(Ts(void 0))})},ys[ls](d),null!=gs&&o||a(ps)}const _s=(0,X.g3)("gdpr",(function(e,t){var n;n=function(n,r){if(r){let e=i.yN;n&&(e=i.H,r=`${r} Canceling auction as per consentManagement config.`);for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e(r,...a)}n?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,i.H)("Error executing bidsBackHandler")):e.call(this,t)},hs?((0,i.PN)("User consent information already known.  Pulling internally stored information..."),n(!1)):vs(n)}));function Is(e,t){let{onSuccess:n,onError:r}=t;"static"===ls&&(e=e.getTCData),!function(){const t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:fs,n=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||n&&(0,i.d8)(n)))}()?n(Ts(e)):r("CMP returned unexpected value during lookup process.",e)}function Ts(e){return hs={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:fs},e&&e.addtlConsent&&(0,i.d8)(e.addtlConsent)&&(hs.addtlConsent=e.addtlConsent),hs.apiVersion=us,hs}p.vc.getConfig("consentManagement",(e=>function(e){(e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"==typeof e?((0,i.d8)(e.cmpApi)?ls=e.cmpApi:(ls=ds,(0,i.PN)(`consentManagement config did not specify cmp.  Using system default setting (${ds}).`)),(0,i.hj)(e.timeout)?ps=e.timeout:(ps=cs,(0,i.PN)(`consentManagement config did not specify timeout.  Using system default setting (${cs}).`)),gs=(0,i.hj)(e.actionTimeout)?e.actionTimeout:null,fs=!0===e.defaultGdprScope,(0,i.PN)("consentManagement module has been activated..."),"static"===ls&&((0,i.PO)(e.consentData)?(ms=e.consentData,ps=0):(0,i.H)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),bs||pubtech_pbjs.requestBids.before(_s,50),bs=!0,K.rp.enable(),vs()):(0,i.yN)("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement))),se.before((function(e,t){return e(t.then((e=>{const t=K.rp.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&o(e,"regs.ext.gdpr",t.gdprApplies?1:0),o(e,"user.ext.consent",t.consentString)),e})))})),_n({type:fn,name:"gdprAddtlConsent",fn:function(e,t){var n;const i=null===(n=t.gdprConsent)||void 0===n?void 0:n.addtlConsent;i&&"string"==typeof i&&o(e,"user.ext.ConsentedProvidersSettings.consented_providers",i)}}),window.pubtech_pbjs.installedModules.push("consentManagement");const Es="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",ws=4;var Ss,Cs=[],As={},xs=!1,Os=!0,ks="USD",Ds=!1,Rs={},Ns={};const Bs=(()=>{let e;function t(){e=(0,z.P)()}return t(),{done:()=>e.resolve(),reset:t,promise:()=>e.promise}})();function Ps(e){let t=Es;if("object"==typeof e.rates&&(Rs.conversions=e.rates,xs=!0,Os=!1),"object"==typeof e.defaultRates&&(Ss=e.defaultRates,Rs.conversions=Ss,xs=!0),"string"==typeof e.adServerCurrency){(0,i.PN)("enabling currency support",arguments),ks=e.adServerCurrency,e.conversionRateFile&&((0,i.PN)("currency using override conversionRateFile:",e.conversionRateFile),t=e.conversionRateFile);const r=t.indexOf("$$TODAY$$");if(-1!==r){const e=new Date;let n=`${e.getMonth()+1}`,i=`${e.getDate()}`;n.length<2&&(n=`0${n}`),i.length<2&&(i=`0${i}`);const o=`${e.getFullYear()}${n}${i}`;t=`${t.substring(0,r)}${o}${t.substring(r+9,t.length)}`}!function(e){As={},Ds=!0,(0,i.PN)("Installing addBidResponse decorator for currency module",arguments),(0,n.R)().convertCurrency=(e,t,n)=>parseFloat(e)*qs(t,n),(0,S.v5)("addBidResponse").before(js,100),Os?(Os=!1,(0,Br.h)(e,{success:function(e){try{Rs=JSON.parse(e),(0,i.PN)("currencyRates set to "+JSON.stringify(Rs)),As={},xs=!0,Ms(),Bs.done()}catch(t){Us("Failed to parse currencyRates response: "+e)}},error:function(){Us(...arguments),Bs.done()}})):Bs.done()}(t)}else(0,i.PN)("disabling currency support"),function(){(0,i.PN)("Uninstalling addBidResponse decorator for currency module",arguments),(0,S.v5)("addBidResponse").getHooks({hook:js}).remove(),delete(0,n.R)().convertCurrency,ks="USD",As={},Ds=!1,xs=!1,Os=!0,Rs={},Ns={}}();"object"==typeof e.bidderCurrencyDefault&&(Ns=e.bidderCurrencyDefault)}function Us(e){Ss?((0,i.yN)(e),(0,i.yN)("Currency failed loading rates, falling back to currency.defaultRates")):(0,i.H)(e)}p.vc.getConfig("currency",(e=>Ps(e.currency)));const js=(0,X.A)("currency",(function(e,t,n,r){if(!n)return e.call(this,t,n,r);let o=n.bidderCode||n.bidder;if(Ns[o]){let e=Ns[o];n.currency&&e!==n.currency?(0,i.yN)(`Currency default '${o}: ${e}' ignored. adapter specified '${n.currency}'`):n.currency=e}if(n.currency||((0,i.yN)('Currency not specified on bid.  Defaulted to "USD"'),n.currency="USD"),n.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*qs(this.currency,e)).toFixed(3)},n.currency===ks)return e.call(this,t,n,r);Cs.push(function(e,t,n){return function(){let r=n[1];if(void 0!==r&&"currency"in r&&"cpm"in r){let e=r.currency;try{let t=qs(e);1!==t&&(r.cpm=(parseFloat(r.cpm)*t).toFixed(4),r.currency=ks)}catch(e){(0,i.yN)("Returning NO_BID, getCurrencyConversion threw error: ",e),n[1]=n[2](d.REJECTION_REASON.CANNOT_CONVERT_CURRENCY)}}return e.apply(t,n)}}(e,this,[t,n,r])),!Ds||xs?Ms():e.untimed.bail(Bs.promise())}));function Ms(){for(;Cs.length>0;)Cs.shift()()}function qs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ks;var n,r=null;let o=`${e}->${t}`;if(o in As)r=As[o],(0,i.ji)("Using conversionCache value "+r+" for "+o);else if(!1===Ds){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");r=1}else if(e===t)r=1;else if(e in Rs.conversions){if(!(t in(n=Rs.conversions[e])))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");r=n[t],(0,i.PN)("getCurrencyConversion using direct "+e+" to "+t+" conversionRate "+r)}else if(t in Rs.conversions){if(!(e in(n=Rs.conversions[t])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");r=Ls(1/n[e],ws),(0,i.PN)("getCurrencyConversion using reciprocal "+e+" to "+t+" conversionRate "+r)}else{var a=Object.keys(Rs.conversions)[0];if(!(e in Rs.conversions[a]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/Rs.conversions[a][e];if(!(t in Rs.conversions[a]))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");r=Ls(s*Rs.conversions[a][t],ws),(0,i.PN)("getCurrencyConversion using intermediate "+e+" thru "+a+" to "+t+" conversionRate "+r)}return o in As||((0,i.ji)("Adding conversionCache value "+r+" for "+o),As[o]=r),r}function Ls(e,t){var n=1;for(let e=0;e<t;e++)n+="0";return Math.round(e*n)/n}_n({type:fn,name:"currency",fn:function(e,t,n){Ds&&(e.cur=e.cur||[n.currency||ks])}}),window.pubtech_pbjs.installedModules.push("currency");const zs=(0,n.R)();const Fs=(0,S.z3)("sync",(()=>{})),$s={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},Hs={},Zs={ri:J.nH};function Gs(e,t,n){return(0,r.Z)(t,`${n}.description_url`)||Zs.ri().page}function Ws(e,t,n){const o=e&&e.adserverTargeting||{};let s={};const c=t&&t.adUnit;if(c){let e=M.getAllTargeting(c.code);s=e?e[c.code]:{}}const u=Object.assign({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},s,o);a.j8(d.EVENTS.SET_TARGETING,{[c.code]:u});const l=(0,r.Z)(t,"params.cust_params"),p=Object.assign({},u,l);let f=encodeURIComponent((0,i.Yp)(p));return n&&(f=n+"%26"+f),f}p.vc.getConfig("brandCategoryTranslation.translationFile")&&(0,S.v5)("registerAdserver").before((function(e){e.call(this,"dfp")})),function(e,t){zs.adServers=zs.adServers||{},zs.adServers[e]=zs.adServers[e]||{},Object.keys(t).forEach((n=>{zs.adServers[e][n]?(0,i.yN)(`Attempting to add an already registered function property ${n} for AdServer ${e}.`):zs.adServers[e][n]=t[n]}))}("dfp",{buildVideoUrl:function(e){if(!e.params&&!e.url)return void(0,i.H)("A params object or a url is required to use pubtech_pbjs.adServers.dfp.buildVideoUrl");const t=e.adUnit,n=e.bid||M.getWinningBids(t.code)[0];let o={};if(e.url&&(o=(0,i.en)(e.url,{noDecodeWholeURL:!0}),(0,i.xb)(e.params)))return function(e,t,n){const r=Gs(t,e,"search");r&&(e.search.description_url=r);return e.search.cust_params=Ws(t,n,e.search.cust_params),(0,i.Q2)(e)}(o,n,e);const a={correlator:Date.now(),sz:(0,i.sF)((0,r.Z)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},s=o.search,d=s&&s.sz;d&&(a.sz=d+"|"+a.sz);let c=Ws(n,e,s&&s.cust_params);const u=Object.assign({},$s,o.search,a,e.params,{cust_params:c}),l=Gs(n,e,"params");l&&(u.description_url=l);const p=K.rp.getConsentData();p&&("boolean"==typeof p.gdprApplies&&(u.gdpr=Number(p.gdprApplies)),p.consentString&&(u.gdpr_consent=p.consentString),p.addtlConsent&&(u.addtl_consent=p.addtlConsent));const f=K.nX.getConsentData();if(f&&(u.us_privacy=f),K.TJ.getConsentData(),!u.ppid){const e=Fs();null!=e&&(u.ppid=e)}return(0,i.Q2)(Object.assign({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},o,{search:u}))},buildAdpodVideoUrl:function(){let{code:e,params:t,callback:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t||!n)return void(0,i.H)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl");const o={correlator:Date.now(),sz:function(e){let t=c.K.getAdUnits().filter((t=>t.code===e)),n=(0,r.Z)(t[0],"mediaTypes.video.playerSize");return(0,i.sF)(n).join("|")}(e),url:encodeURIComponent(location.href)};Hs.getTargeting({codes:[e],callback:function(r,a){if(r)return void n(r,null);let s={[Hs.TARGETING_KEY_PB_CAT_DUR]:void 0,[Hs.TARGETING_KEY_CACHE_ID]:void 0},d={};a[e]&&(d=a[e].reduce(((e,t)=>(Object.keys(t)[0]===Hs.TARGETING_KEY_PB_CAT_DUR?e[Hs.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[Hs.TARGETING_KEY_PB_CAT_DUR]?e[Hs.TARGETING_KEY_PB_CAT_DUR]+","+t[Hs.TARGETING_KEY_PB_CAT_DUR]:t[Hs.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===Hs.TARGETING_KEY_CACHE_ID&&(e[Hs.TARGETING_KEY_CACHE_ID]=t[Hs.TARGETING_KEY_CACHE_ID]),e)),s));let c=encodeURIComponent((0,i.Yp)(d));const u=Object.assign({},$s,o,t,{cust_params:c}),l=K.rp.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(u.gdpr=Number(l.gdprApplies)),l.consentString&&(u.gdpr_consent=l.consentString),l.addtlConsent&&(u.addtl_consent=l.addtlConsent));const p=K.nX.getConsentData();p&&(u.us_privacy=p);const f=(0,i.Q2)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:u});n(null,f)}})},getAdpodTargeting:e=>Hs.getTargeting(e)}),(0,S.Bx)("adpod",Hs),window.pubtech_pbjs.installedModules.push("dfpAdServerVideo");__webpack_require__(232);var Vs=void 0;let Ks={},Xs=!1;const Js=e=>{const{customGptSlotMatching:t}=Ks;if(!(0,i.T9)())return;const n=e.reduce(((e,t)=>(e[t.code]=t,e)),{});window.googletag.pubads().getSlots().forEach((e=>{const r=(0,u.sE)(Object.keys(n),t?t(e):(0,i.zV)(e));if(r){const t=n[r];t.ortb2Imp=t.ortb2Imp||{},t.ortb2Imp.ext=t.ortb2Imp.ext||{},t.ortb2Imp.ext.data=t.ortb2Imp.ext.data||{};const i=t.ortb2Imp.ext.data;i.adserver=i.adserver||{},i.adserver.name="gam",i.adserver.adslot=Ys(e.getAdUnitPath())}}))},Ys=e=>(p.vc.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e,Qs=(e,t)=>{const n=e.ortb2Imp.ext.data;if(n.pbadslot)return n.pbadslot;if((0,i.T9)()){var r=window.googletag.pubads().getSlots().filter((e=>e.getAdUnitPath()===t));if(0!==r.length)return 1===r.length?t:`${t}#${e.code}`}},ed=e=>{const t=e.ortb2Imp.ext.data,{customPbAdSlot:n}=Ks;if(!t.pbadslot)if(n)t.pbadslot=n(e.code,(0,r.Z)(t,"adserver.adslot"));else{try{const n=document.getElementById(e.code);if(n.dataset.adslotid)return void(t.pbadslot=n.dataset.adslotid)}catch(e){}if(!(0,r.Z)(t,"adserver.adslot"))return t.pbadslot=e.code,!0;t.pbadslot=t.adserver.adslot}},td=function(e,t){Js(t);const{useDefaultPreAuction:n,customPreAuction:i}=Ks;t.forEach((e=>{e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};const t=e.ortb2Imp.ext;if(i||n){let o,a=(0,r.Z)(t,"data.adserver.adslot");i?o=i(e,a):n&&(o=Qs(e,a)),o&&(t.gpid=t.data.pbadslot=o)}else{const n=ed(e);t.gpid||n||(t.gpid=t.data.pbadslot)}}));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return e.call(Vs,t,...a)},nd=e=>{Ks=(0,i.ei)(e,["enabled",e=>!1!==e,"customGptSlotMatching",e=>"function"==typeof e&&e,"customPbAdSlot",e=>"function"==typeof e&&e,"customPreAuction",e=>"function"==typeof e&&e,"useDefaultPreAuction",e=>!0===e]),Ks.enabled?Xs||((0,S.v5)("makeBidRequests").before(td),Xs=!0):((0,i.PN)("GPT Pre-Auction: Turning off module"),Ks={},(0,S.v5)("makeBidRequests").getHooks({hook:td}).remove(),Xs=!1)};function id(e,t,i){if(t===i)return e;let r=e;if("function"==typeof(0,n.R)().convertCurrency)try{r=(0,n.R)().convertCurrency(e,t,i)}catch(e){}return r}p.vc.getConfig("gptPreAuction",(e=>nd(e.gptPreAuction))),nd({}),window.pubtech_pbjs.installedModules.push("gptPreAuction");var rd=__webpack_require__(182);const od="Price Floors",ad=(0,Br.O)(1e4);let sd=["gptSlot","adUnitCode","size","domain","mediaType"],dd=!1,cd=!1,ud={},ld=[],pd={};function fd(e,t){let{index:n=c.K.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(null==e?void 0:e.adUnitCode)||n.getAdUnit(t).code}let md={size:(e,t)=>(0,i.s)(t.size)||"*",mediaType:(e,t)=>t.mediaType||"banner",gptSlot:(e,t)=>function(e){let{index:t=c.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.getAdUnit({transactionId:e});return"gam"===(0,r.Z)(n,"ortb2Imp.ext.data.adserver.name")&&n.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||(0,i.ky)(fd(e,t)).gptSlot,domain:(()=>{let e;return function(){return null==e&&(e=(0,i.en)((0,J.nH)().topmostLocation,{noDecodeWholeURL:!0}).hostname),e}})(),adUnitCode:(e,t)=>fd(e,t)};function gd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t,n){return e.reduce(((e,i)=>{let r=md[i](t,n)||"*";return e.push("*"===r?["*"]:[r.toLowerCase(),"*"]),e}),[])}((0,r.Z)(e,"schema.fields")||[],t,n);if(!i.length)return{matchingFloor:e.default};let a=i.map((e=>e[0])).join("-"),s=(0,r.Z)(e,`matchingInputs.${a}`);if(s)return{...s};let d=(c=i,l=(0,r.Z)(e,"schema.delimiter")||"|",c.reduce(((e,t)=>{let n=[];return e.map((e=>{t.map((t=>{n.push(e+l+t)}))})),n})).sort(((e,t)=>e.split("*").length-t.split("*").length)));var c,l;let p=(0,u.sE)(d,(t=>e.values.hasOwnProperty(t))),f={floorMin:e.floorMin||0,floorRuleValue:isNaN(e.values[p])?e.default:e.values[p],matchingData:d[0],matchingRule:p};return"number"==typeof(0,r.Z)(t,"ortb2Imp.ext.prebid.floorMin")&&(f.floorMin=t.ortb2Imp.ext.prebid.floorMin),f.matchingFloor=Math.max(f.floorMin,f.floorRuleValue),o(e,`matchingInputs.${a}`,{...f}),f}function hd(e,t,n){return parseFloat((0,rd.O)(e,{...t,cpm:e},n))}const bd={banner:e=>(0,r.Z)(e,"mediaTypes.banner.sizes")||[],video:e=>(0,r.Z)(e,"mediaTypes.video.playerSize")||[],native:e=>(0,r.Z)(e,"mediaTypes.native.image.sizes")?[(0,r.Z)(e,"mediaTypes.native.image.sizes")]:[]};function yd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,r=pd[t.auctionId];if(!r||r.skipped)return{};e=function(e,t){let n=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===n.length&&(t.mediaType=n[0]),"*"===t.size&&-1!==n.indexOf(t.mediaType)&&bd[t.mediaType]&&1===bd[t.mediaType](e).length&&(t.size=bd[t.mediaType](e)[0]),t}(t,e);let o=gd(r.data,{...t},{mediaType:e.mediaType,size:e.size}),a=e.currency||r.data.currency;if(o.matchingFloor&&a!==r.data.currency)try{o.matchingFloor=(0,n.R)().convertCurrency(o.matchingFloor,r.data.currency,a)}catch(e){(0,i.yN)(`${od}: Unable to get currency conversion for getFloor for bidder ${t.bidder}. You must have currency module enabled with defaultRates in your currency config`),a=r.data.currency}if(r.enforcement.bidAdjustment&&o.matchingFloor){const e=C.S.get(t.bidder,"inverseBidAdjustment");if(e)o.matchingFloor=e(o.matchingFloor,t);else{let e=hd(o.matchingFloor,null,t);o.matchingFloor=e?function(e,t){const n=Math.pow(10,10);return e*n/(t*n)*(e*n)/n}(o.matchingFloor,e):o.matchingFloor}}return o.matchingFloor?{floor:(s=o.matchingFloor,d=4,Math.ceil((parseFloat(s)*Math.pow(10,d)).toFixed(1))/Math.pow(10,d)),currency:a}:{};var s,d}function vd(e,t){let n=(0,i.I8)(e);return n.schema.delimiter=e.schema.delimiter||"|",n.values=function(e,t){let n=e.schema.fields,i=e.schema.delimiter,r=t&&-1===n.indexOf("adUnitCode")&&n.unshift("adUnitCode");return Object.keys(e.values).reduce(((n,o)=>(n[(r?`${t}${i}${o}`:o).toLowerCase()]=e.values[o],n)),{})}(n,t),n.currency=n.currency||"USD",n}function _d(e,t){let n=(0,i.I8)(ud);if(2===(0,r.Z)(n,"data.floorsSchemaVersion")){let{modelGroups:e,...t}=n.data;n.data=Object.assign(t,function(e,t){let n=Math.floor(Math.random()*t+1);for(let t=0;t<e.length;t++)if(n-=e[t].modelWeight,n<=0)return e[t]}(e,t.modelWeightSum))}let o=0===Object.keys((0,r.Z)(n,"data.values")||{}).length;if(n.data=o?function(e){return e.reduce(((e,t)=>{if(wd(t.floors))if(e.values){let n=vd(t.floors,t.code).values;Object.assign(e.values,n)}else(e=vd(t.floors,t.code)).location="adUnit";else null!=t.floors&&(0,i.yN)(`adUnit '${t.code}' provides an invalid \`floor\` definition, it will be ignored for floor calculations`,t);return e}),{})}(e):vd(n.data),0===Object.keys((0,r.Z)(n,"data.values")||{}).length)n.skipped=!0;else{const e=(0,i.rD)("pbjs_skipRate")||n.skipRate,t=100*Math.random()<parseFloat(e);n.skipped=t}return n.hasOwnProperty("floorMin")&&(n.data.floorMin=n.floorMin),function(e,t,n){e.forEach((e=>{e.bids.forEach((e=>{t.skipped?delete e.getFloor:e.getFloor=yd,e.auctionId=n,e.floorData={skipped:t.skipped,skipRate:t.skipRate,floorMin:t.floorMin,modelVersion:(0,r.Z)(t,"data.modelVersion"),modelWeight:(0,r.Z)(t,"data.modelWeight"),modelTimestamp:(0,r.Z)(t,"data.modelTimestamp"),location:(0,r.Z)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:ud.fetchStatus}}))}))}(e,n,t),n}function Id(e){e.hasExited||(ld=ld.filter((t=>t.timer!==e.timer)),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,i.DO)(),pd[e.reqBidsConfigObj.auctionId]=_d(e.reqBidsConfigObj.adUnits||(0,n.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function Td(e){return t=(0,r.Z)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((e=>-1!==sd.indexOf(e)))||((0,i.H)(`${od}: Fields recieved do not match allowed fields`),0))&&(n=e,o=e.schema.fields.length,a=e.schema.delimiter||"|","object"==typeof n.values&&(n.values=Object.keys(n.values).reduce(((e,t)=>(function(e,t,n,i){return"string"==typeof e&&e.split(i).length===n&&"number"==typeof t}(t,n.values[t],o,a)&&(e[t]=n.values[t]),e)),{}),Object.keys(n.values).length>0));var t,n,o,a}const Ed={1:e=>Td(e),2:e=>!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((t=>!("number"!=typeof t.modelWeight||!Td(t))&&(e.modelWeightSum+=t.modelWeight,!0))))};function wd(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof Ed[e.floorsSchemaVersion]?((0,i.H)(`${od}: Unknown floorsSchemaVersion: `,e.floorsSchemaVersion),!1):Ed[e.floorsSchemaVersion](e))}function Sd(e,t){if(e&&"object"==typeof e&&wd(e))return(0,i.PN)(`${od}: A ${t} set the auction floor data set to `,e),{...e,location:t};(0,i.H)(`${od}: The floors data did not contain correct values`,e)}const Cd=(0,X.g3)("priceFloors",(function(e,t){const n={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};ud.auctionDelay>0&&dd?(n.timer=setTimeout((()=>{(0,i.yN)(`${od}: Fetch attempt did not return in time for auction`),ud.fetchStatus="timeout",Id(n)}),ud.auctionDelay),ld.push(n)):Id(n)}));function Ad(){ld.forEach((e=>{clearTimeout(e.timer),Id(e)})),ld=[]}function xd(e){let t;dd=!1,ud.fetchStatus="success";try{t=JSON.parse(e)}catch(n){t=e}const n=Sd(t,"fetch");n&&(ud.data=n,ud.skipRate=(0,i.hj)(n.skipRate)?n.skipRate:ud.skipRate,ud.floorProvider=n.floorProvider||ud.floorProvider),Ad()}function Od(e){dd=!1,ud.fetchStatus="error",(0,i.H)(`${od}: Fetch errored with: `,e),Ad()}function kd(e){var t;ud=(0,i.ei)(e,["floorMin","enabled",e=>!1!==e,"auctionDelay",e=>e||0,"floorProvider",t=>(0,r.Z)(e,"data.floorProvider",t),"endpoint",e=>e||{},"skipRate",()=>isNaN((0,r.Z)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate,"enforcement",e=>(0,i.ei)(e||{},["enforceJS",e=>!1!==e,"enforcePBS",e=>!0===e,"floorDeals",e=>!0===e,"bidAdjustment",e=>!1!==e]),"additionalSchemaFields",e=>{return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((e=>{-1===sd.indexOf(e)&&"function"==typeof t[e]&&(sd.push(e),md[e]=t[e])}))):void 0;var t},"data",e=>e&&Sd(e,"setConfig")||ud.data]),ud.enabled?((t=ud.endpoint).url&&!dd?"GET"!==(t.method||"GET")?(0,i.H)(`${od}: 'GET' is the only request method supported at this time!`):(ad(t.url,{success:xd,error:Od},null,{method:"GET"}),dd=!0):dd&&(0,i.yN)(`${od}: A fetch is already occuring. Skipping.`),cd||(a.on(d.EVENTS.AUCTION_END,(e=>{setTimeout((()=>delete pd[e.auctionId]),3e3)})),(0,n.R)().requestBids.before(Cd,50),(0,S.v5)("addBidResponse").before(Dd,(0,i.eB)()?4:50),cd=!0)):((0,i.PN)(`${od}: Turning off module`),ud={},pd={},(0,S.v5)("addBidResponse").getHooks({hook:Dd}).remove(),(0,n.R)().requestBids.getHooks({hook:Cd}).remove(),cd=!1)}const Dd=(0,X.A)("priceFloors",(function(e,t,o,a){let s=pd[o.auctionId];if(!s||!o||s.skipped)return e.call(this,t,o,a);const u=c.K.index.getBidRequest(o);let l,p=gd(s.data,u,{...o,size:[o.width,o.height]});if(!p.matchingFloor)return(0,i.yN)(`${od}: unable to determine a matching price floor for bidResponse`,o),e.call(this,t,o,a);let f=s.data.currency.toUpperCase(),m=o.currency||"USD";if(f===m.toUpperCase())l=o.cpm;else if(o.originalCurrency&&f===o.originalCurrency.toUpperCase())l=o.originalCpm;else try{l=(0,n.R)().convertCurrency(o.cpm,m.toUpperCase(),f)}catch(n){return(0,i.H)(`${od}: Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ${o}`),e.call(this,t,o,a)}if(l=hd(l,o,u),function(e,t,n,i){n.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:i,enforcements:{...e.enforcement},matchedFields:{}},e.data.schema.fields.forEach(((i,r)=>{let o=t.matchingData.split(e.data.schema.delimiter)[r];n.floorData.matchedFields[i]=o}))}(s,p,o,l),function(e,t,n){let i=!1!==(0,r.Z)(e,"enforcement.enforceJS"),o=!0===(0,r.Z)(e,"enforcement.floorDeals")||!n.dealId,a=n.floorData.cpmAfterAdjustments<t.matchingFloor;return i&&a&&o}(s,p,o)){var g;const n=a(d.REJECTION_REASON.FLOOR_NOT_MET);return(0,i.yN)(`${od}: ${n.bidderCode}'s Bid Response for ${t} was rejected due to floor not met (adjusted cpm: ${null==o||null===(g=o.floorData)||void 0===g?void 0:g.cpmAfterAdjustments}, floor: ${null==p?void 0:p.matchingFloor})`,o),e.call(this,t,n,a)}return e.call(this,t,o,a)}));p.vc.getConfig("floors",(e=>kd(e.floors))),_n({type:mn,name:"bidfloor",fn:function(e,t,n){if("function"==typeof t.getFloor){let r,o;try{({currency:r,floor:o}=t.getFloor({currency:n.currency||p.vc.getConfig("currency.adServerCurrency")||"USD",mediaType:n.mediaType||"*",size:"*"}))}catch(e){return void(0,i.yN)("Cannot compute floor for bid",t)}o=parseFloat(o),null==r||null==o||isNaN(o)||Object.assign(e,{bidfloor:o,bidfloorcur:r})}}}),_n({type:mn,name:"extPrebidFloors",fn:function(e,t,n){if(null!=e.bidfloor){var i,r,a,s,d,c,u,l,p,f;let{floorMinCur:t,floorMin:m}=n.reqContext.floorMin||{};null==t&&(t=e.bidfloorcur);const g=(null===(i=e.ext)||void 0===i||null===(r=i.prebid)||void 0===r||null===(a=r.floors)||void 0===a?void 0:a.floorMinCur)||(null===(s=e.ext)||void 0===s||null===(d=s.prebid)||void 0===d?void 0:d.floorMinCur)||t,h=(null===(c=e.ext)||void 0===c||null===(u=c.prebid)||void 0===u||null===(l=u.floors)||void 0===l?void 0:l.floorMin)||(null===(p=e.ext)||void 0===p||null===(f=p.prebid)||void 0===f?void 0:f.floorMin),b=id(e.bidfloor,e.bidfloorcur,t),y=!(!h||!g)&&id(h,g,t),v=y&&y<b?y:b;o(e,"ext.prebid.floors.floorMin",v),(null==m||m>v)&&(m=v),n.reqContext.floorMin={floorMin:m,floorMinCur:t}}},dialects:[yn],priority:-1}),_n({type:fn,name:"extPrebidFloors",fn:function(e,t,n){var r,a,s;cd&&o(e,"ext.prebid.floors.enabled",(null===(r=e.ext)||void 0===r||null===(a=r.prebid)||void 0===a||null===(s=a.floors)||void 0===s?void 0:s.enabled)||!1),null!=n&&n.floorMin&&(0,i.Ee)(e,{ext:{prebid:{floors:n.floorMin}}})},dialects:[yn]}),window.pubtech_pbjs.installedModules.push("priceFloors");const Rd="Invalid schain object found: ",Nd=" should be a string",Bd=" should be an Integer",Pd=" should be an object",Ud=" should be an Array",jd={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Md=[];function qd(e,t){let n=jd.STRICT;if(function(e){return!(void 0===e||!(0,i.PO)(e)&&((0,i.H)(Rd+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if((0,i.d8)(e.validation)&&-1!=Md.indexOf(e.validation)&&(n=e.validation),n===jd.OFF)return e.config;if(function(e,t){let n="Detected something wrong within an schain config:",r="";function o(e){r+="\n"+e}function a(){!0===t?(0,i.H)(n,e,r):(0,i.yN)(n,e,r)}if(!(0,i.PO)(e)&&(o("schain.config"+Pd),a(),t))return!1;if((0,i.hj)(e.complete)&&(0,i.U)(e.complete)||o("schain.config.complete"+Bd),(0,i.d8)(e.ver)||o("schain.config.ver"+Nd),(0,i.RI)(e,"ext")&&((0,i.PO)(e.ext)||o("schain.config.ext"+Pd)),(0,i.kJ)(e.nodes))e.nodes.forEach(((e,t)=>{(0,i.d8)(e.asi)||o(`schain.config.nodes[${t}].asi`+Nd),(0,i.d8)(e.sid)||o(`schain.config.nodes[${t}].sid`+Nd),(0,i.hj)(e.hp)&&(0,i.U)(e.hp)||o(`schain.config.nodes[${t}].hp`+Bd),(0,i.RI)(e,"rid")&&((0,i.d8)(e.rid)||o(`schain.config.nodes[${t}].rid`+Nd)),(0,i.RI)(e,"name")&&((0,i.d8)(e.name)||o(`schain.config.nodes[${t}].name`+Nd)),(0,i.RI)(e,"domain")&&((0,i.d8)(e.domain)||o(`schain.config.nodes[${t}].domain`+Nd)),(0,i.RI)(e,"ext")&&((0,i.PO)(e.ext)||o(`schain.config.nodes[${t}].ext`+Pd))}));else if(o("schain.config.nodes"+Ud),a(),t)return!1;return!(r.length>0&&(a(),t))}(e.config,!(n!==jd.STRICT)))return e.config;(0,i.H)(Rd+`due to the 'strict' validation setting, this schain config will not be passed to bidder '${t}'.  See above error for details.`)}return null}function Ld(e,t){const n=p.vc.getConfig("schain"),i=p.vc.getBidderConfig();t.forEach((e=>{let t=e.bidderCode,r=function(e){return i[e]&&i[e].schain||n}(t);e.bids.forEach((e=>{let n=qd(r,t);n&&(e.schain=n)}))})),e(t)}(0,i.yi)(jd,(e=>Md.push(e))),K.ZP.makeBidRequests.after(Ld),_n({type:fn,name:"sourceExtSchain",fn:function(e,t,n){if(!(0,r.Z)(e,"source.ext.schain")){const t=(0,r.Z)(n,"bidRequests.0.schain");t&&o(e,"source.ext.schain",t)}}}),window.pubtech_pbjs.installedModules.push("schain");const zd="User ID",Fd="cookie",$d="html5",Hd=500,Zd=0,Gd={name:"_pbjs_userid_consent_data",expires:30},Wd="_pbjs_id_optout",Vd=(0,V.eA)("userid");let Kd,Xd,Jd,Yd,Qd,ec,tc=!1,nc=[],ic=[],rc=[];const oc=(()=>{let e;return()=>(null==e&&(e=(0,X.V6)()),e)})();function ac(e){return oc().fork().renameWith((t=>[`userId.mod.${t}`,`userId.mods.${e}.${t}`]))}function sc(e){const t="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,n=e.config.storage.name;return function(e,i,r){Vd.setCookie(n+(e||""),i,r,"Lax",t)}}function dc(e,t){const n=e.config.storage;try{const r=new Date(Date.now()+864e5*n.expires).toUTCString(),o=(0,i.PO)(t)?JSON.stringify(t):t;if(n.type===Fd){const t=sc(e);t(null,o,r),"number"==typeof n.refreshInSeconds&&t("_last",(new Date).toUTCString(),r)}else n.type===$d&&(Vd.setDataInLocalStorage(`${n.name}_exp`,r),Vd.setDataInLocalStorage(n.name,encodeURIComponent(o)),"number"==typeof n.refreshInSeconds&&Vd.setDataInLocalStorage(`${n.name}_last`,(new Date).toUTCString()))}catch(e){(0,i.H)(e)}}function cc(e){let t=(0,i.EE)().setEidPermissions;"function"==typeof t&&(0,i.kJ)(e)&&t(function(e){let t=[];return e.filter((e=>(0,i.PO)(e.idObj)&&Object.keys(e.idObj).length)).forEach((e=>{Object.keys(e.idObj).forEach((n=>{(0,r.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&(0,r.Z)(Fe,n+".source")&&t.push({source:Fe[n].source,bidders:e.config.bidders})}))})),t}(e))}function uc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=t?`${e.name}_${t}`:e.name;let r;try{if(e.type===Fd)r=Vd.getCookie(n);else if(e.type===$d){const t=Vd.getDataFromLocalStorage(`${e.name}_exp`);""===t?r=Vd.getDataFromLocalStorage(n):t&&new Date(t).getTime()-Date.now()>0&&(r=decodeURIComponent(Vd.getDataFromLocalStorage(n)))}"string"==typeof r&&"{"===r.trim().charAt(0)&&(r=JSON.parse(r))}catch(e){(0,i.H)(e)}return r}function lc(e){const t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),(0,i._R)(JSON.stringify(t))}function pc(e,t){t=oc().fork().startTiming("userId.callbacks.total").stopBefore(t);const n=(0,i.yx)((()=>{clearTimeout(Xd),t()}),e.length);e.forEach((function(e){const t=ac(e.submodule.name).startTiming("callback").stopBefore(n);try{e.callback((function(n){n?(e.config.storage&&dc(e,n),e.idObj=e.submodule.decode(n,e.config),xc(e.idObj)):(0,i.PN)(`${zd}: ${e.submodule.name} - request id responded with an empty value`),t()}))}catch(n){(0,i.H)(`Error in userID module '${e.submodule.name}':`,n),t()}e.callback=void 0}))}function fc(e,t){[e].some((e=>!Array.isArray(e)||!e.length))||e.forEach((e=>{e.bids&&(0,i.kJ)(e.bids)&&e.bids.forEach((e=>{const n=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((e=>!e.config.bidders||!(0,i.kJ)(e.config.bidders)||(0,u.q9)(e.config.bidders,t))).filter((e=>(0,i.PO)(e.idObj)&&Object.keys(e.idObj).length)).reduce(((e,t)=>(Object.keys(t.idObj).forEach((n=>{e[n]=t.idObj[n]})),e)),{}):{}}(t,e.bidder);Object.keys(n).length&&(e.userId=n,e.userIdAsEids=He(n))}))}))}const mc={};let gc;function hc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc()||[];const t=Qd&&e.find((e=>e.source===Qd));if(t&&"string"==typeof(0,r.Z)(t,"uids.0.id")){const e=t.uids[0].id.replace(/[\W_]/g,"");if(e.length>=32&&e.length<=150)return e;(0,i.yN)(`User ID - Googletag Publisher Provided ID for ${Qd} is not between 32 and 150 characters - ${e}`)}}const bc=(0,X.g3)("userId",(function(e,t){let{delay:i=z.Z.timeout,getIds:r=Sc}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};z.Z.race([r().catch((()=>null)),i(Yd)]).then((()=>{fc(t.adUnits||(0,n.R)().adUnits,Kd),oc().join((0,X.Bf)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(this,t)}))}));function yc(){return function(e){if(!Array.isArray(e)||!e.length)return{};const t=e.filter((e=>(0,i.PO)(e.idObj)&&Object.keys(e.idObj).length)).reduce(((e,t)=>(Object.keys(t.idObj).forEach((n=>{e[n]=t.idObj[n]})),e)),{});return t}(Kd)}function vc(){return He(yc())}function _c(e){return He(function(e,t){if(!Array.isArray(e)||!e.length)return{};const n=e.filter((e=>{var n;return(0,i.PO)(e.idObj)&&Object.keys(e.idObj).length&&(null===(n=Fe[Object.keys(e.idObj)[0]])||void 0===n?void 0:n.source)===t}));return(0,i.xb)(n)?[]:n[0].idObj}(Kd,e))[0]}function Ic(e,t,n){return gc().then((()=>{let r={};if((0,i.LQ)(n)){(0,i.PN)(`${zd} - Getting encrypted signal from custom function : ${n.name} & source : ${e} `);const t=n(e);r[e]=t?Tc(t):null}else{const n=_c(e);(0,i.PN)(`${zd} - Getting encrypted signal for eids :${JSON.stringify(n)}`),(0,i.xb)(n)||(r[n.source]=!0===t?Tc(n):n.uids[0].id)}return(0,i.PN)(`${zd} - Fetching encrypted eids: ${r[e]}`),r[e]}))}function Tc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";if(1===t)n="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e);return`${t}||${n}`}function Ec(){if(!(0,i.T9)())return;window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];const e=p.vc.getConfig("userSync.encryptedSignalSources");if(e){const t=e.registerDelay||0;setTimeout((()=>{e.sources&&e.sources.forEach((e=>{let{source:t,encrypt:n,customFunc:i}=e;t.forEach((e=>{window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:()=>Ic(e,n,i)})}))}))}),t)}else(0,i.yN)(`${zd} - ESP : encryptedSignalSources config not defined under userSync Object`)}function wc(){let{submoduleNames:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return gc({refresh:!0,submoduleNames:e}).then((()=>(t&&(0,i.LQ)(t)&&t(),yc())))}function Sc(){return gc().then((()=>yc()),(e=>e===mc?Promise.resolve().then(Sc):((0,i.H)("Error initializing userId",e),z.Z.reject(e))))}const Cc=(0,S.z3)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function Ac(e,t,n,r){if(e.config.storage){let o,a=uc(e.config.storage),s=!1;if("number"==typeof e.config.storage.refreshInSeconds){const t=new Date(uc(e.config.storage,"last"));s=t&&Date.now()-t.getTime()>1e3*e.config.storage.refreshInSeconds}!a||s||r||!function(e,t){return null!=e&&e===lc(t)}(n,t)?o=e.submodule.getId(e.config,t,a):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,t,a)),(0,i.PO)(o)&&(o.id&&(dc(e,o.id),a=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),a&&(e.idObj=e.submodule.decode(a,e.config))}else if(e.config.value)e.idObj=e.config.value;else{const n=e.submodule.getId(e.config,t,void 0);(0,i.PO)(n)&&("function"==typeof n.callback&&(e.callback=n.callback),n.id&&(e.idObj=e.submodule.decode(n.id,e.config)))}xc(e.idObj)}function xc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yc();if(e&&Qd){const t=hc(He(e));t&&((0,i.T9)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function Oc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oc().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];const o=function(){const e=[];let t=!1;Vd.localStorageIsEnabled()&&(e.push($d),Vd.getDataFromLocalStorage(Wd)&&((0,i.PN)(`${zd} - opt-out localStorage found, storage disabled`),t=!0));Vd.cookiesAreEnabled()&&(e.push(Fd),Vd.getCookie(Wd)&&((0,i.PN)(`${zd} - opt-out cookie found, storage disabled`),t=!0));return new Set(t?[]:e)}();if(!(t=t.filter((e=>!e.config.storage||o.has(e.config.storage.type)))).length)return(0,i.yN)(`${zd} - no ID module is configured for one of the available storage types:`,Array.from(o)),[];let{userIdModules:a,hasValidated:s}=Cc(t,n);if(!s&&!(0,It.h)(n))return(0,i.yN)(`${zd} - gdpr permission not valid for local storage or cookies, exit module`),[];const d=function(){try{return Vd.getCookie(Gd.name)}catch(e){(0,i.H)(e)}}();!function(e){try{const t=new Date(Date.now()+864e5*Gd.expires).toUTCString();Vd.setCookie(Gd.name,lc(e),t,"Lax")}catch(e){(0,i.H)(e)}}(n);const c=a.reduce(((e,t)=>ac(t.submodule.name).measureTime("init",(()=>{try{Ac(t,n,d,r),e.push(t)}catch(e){(0,i.H)(`Error in userID module '${t.submodule.name}':`,e)}return e}))),[]);return c.length&&cc(c),c.forEach(kc.bind(null,e)),c}))}function kc(e,t){let n=!1;for(let i=0;i<e.length;i++)if(t.config.name.toLowerCase()===e[i].config.name.toLowerCase()){n=!0,e[i]=t;break}n||e.push(t)}const Dc=new Set([$d,Fd]);function Rc(){const e=function(e,t){return Array.isArray(e)?e.reduce(((e,t)=>(!t||(0,i.jH)(t.name)||(t.storage&&!(0,i.jH)(t.storage.type)&&!(0,i.jH)(t.storage.name)&&Dc.has(t.storage.type)||(0,i.PO)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e)),[]):[]}(ic);if(!e.length)return;const t=rc.filter((e=>!(0,u.sE)(nc,(t=>t.name===e.name))));nc.splice(0,nc.length),t.map((t=>{const n=(0,u.sE)(e,(e=>e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())));return n&&t.name!==n.name&&(n.name=t.name),t.findRootDomain=Q,n?{submodule:t,config:n,callback:void 0,idObj:void 0}:null})).filter((e=>null!==e)).forEach((e=>nc.push(e))),!tc&&nc.length&&((0,n.R)().requestBids.before(bc,40),K.ZP.callDataDeletionRequest.before(Nc),Fs.after((e=>e(hc()))),(0,i.PN)(`${zd} - usersync config updated for ${nc.length} submodules: `,nc.map((e=>e.submodule.name))),tc=!0)}function Nc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(0,i.PN)("UserID: received data deletion request; deleting all stored IDs..."),nc.forEach((e=>{if("function"==typeof e.submodule.onDataDeletionRequest)try{e.submodule.onDataDeletionRequest(e.config,e.idObj,...n)}catch(t){(0,i.H)(`Error calling onDataDeletionRequest for ID submodule ${e.submodule.name}`,t)}!function(e){var t,n;let r,o;switch(null===(t=e.config)||void 0===t||null===(n=t.storage)||void 0===n?void 0:n.type){case Fd:const t=sc(e),n=new Date(Date.now()-864e5).toUTCString();r=e=>t(e,"",n),o=["","_last"];break;case $d:r=t=>Vd.removeDataFromLocalStorage(e.config.storage.name+t),o=["","_last","_exp"]}r&&o.forEach((e=>{try{r(e)}catch(e){(0,i.H)(e)}}))}(e)})),e.apply(this,n)}function Bc(e){return function(){return Promise.resolve(e.apply(this,arguments))}}function Pc(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Uc(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}!function(e){let{delay:t=z.Z.timeout}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qd=void 0,nc=[],ic=[],tc=!1,Kd=[],gc=function(){let{delay:e=z.Z.timeout}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,z.P)(),n=(0,z.P)();let r,o,s=!1;function c(e){return o=oc().fork(),null!=r&&r.reject(mc),r=(0,z.P)(),z.Z.race([e,r.promise]).finally(o.startTiming("userId.total"))}let u=Kd,l=nc;function p(e){return function(){if(u===Kd&&l===nc)return e(...arguments)}}function f(){return K.rp.promise.finally(o.startTiming("userId.init.gdpr"))}let m=c(z.Z.all([S.Cd,t.promise]).then(f).then(p((e=>{Oc(u,l,e)}))).then((()=>n.promise.finally(o.startTiming("userId.callbacks.pending")))).then(p((()=>{const e=u.filter((e=>(0,i.LQ)(e.callback)));if(e.length)return new z.Z((t=>pc(e,t)))}))));return function(){let{refresh:i=!1,submoduleNames:r=null,ready:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o&&!s&&(s=!0,t.resolve(),Yd>0?n.resolve():a.on(d.EVENTS.AUCTION_END,(function t(){a.S1(d.EVENTS.AUCTION_END,t),e(Jd).then(n.resolve)}))),i&&s&&(m=c(m.catch((()=>null)).then(f).then(p((e=>{const t=Oc(u,l.filter((e=>null==r||r.includes(e.submodule.name))),e,!0).filter((e=>null!=e.callback));if(t.length)return new z.Z((e=>pc(t,e)))}))))),m}}({delay:t}),null!=ec&&ec(),rc=[],ec=e.getConfig("userSync",(e=>{const t=e.userSync;Qd=t.ppid,t&&t.userIds&&(ic=t.userIds,Jd=(0,i.hj)(t.syncDelay)?t.syncDelay:Hd,Yd=(0,i.hj)(t.auctionDelay)?t.auctionDelay:Zd,Rc(),gc({ready:!0}))})),(0,n.R)().getUserIds=yc,(0,n.R)().getUserIdsAsEids=vc,(0,n.R)().getEncryptedEidsForSource=Bc(Ic),(0,n.R)().registerSignalSources=Ec,(0,n.R)().refreshUserIds=Bc(wc),(0,n.R)().getUserIdsAsync=Bc(Sc),(0,n.R)().getUserIdsAsEidBySource=_c}(p.vc),(0,S.bA)("userId",(function(e){(0,u.sE)(rc,(t=>t.name===e.name))||(rc.push(e),Rc(),gc({refresh:!0,submoduleNames:[e.name]}))})),_n({type:fn,name:"userExtEids",fn:function(e,t,n){const i=(0,r.Z)(n,"bidRequests.0.userIdAsEids");i&&o(e,"user.ext.eids",i)}}),window.pubtech_pbjs.installedModules.push("userId");const jc=131,Mc=30,qc="id5id",Lc=`${qc}_privacy`,zc="html5",Fc="User ID - ID5 submodule: ",$c="https://id5-sync.com/api/config/prebid",Hc=["pbjs-id5id","id5id.1st","id5id"],Zc=(0,V.df)({gvlid:jc,moduleName:"id5Id"}),Gc={name:"id5Id",gvlid:jc,decode(e,t){let n,a=0;if(!e||"string"!=typeof e.universal_uid)return;n=e.universal_uid,a=e.link_type||a;let s={id5id:{uid:n,ext:{linkType:a}}};switch((0,r.Z)(e,"ab_testing.result")){case"control":(0,i.PN)(Fc+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),o(s,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,i.H)(Fc+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,i.PN)(Fc+"A/B Testing - user is NOT in the Control Group"),o(s,"id5id.ext.abTestingControlGroup",!1)}return(0,i.PN)(Fc+"Decoded ID",s),s},getId(e,t,n){if(!ru(e))return;if(!uu(t))return void(0,i.PN)(Fc+"Skipping ID5 local storage write because no consent given.");return{callback:function(r){new Yc(e,t,n,K.nX.getConsentData()).execute().then((e=>{r(e)})).catch((e=>{(0,i.H)(Fc+"getId fetch encountered an error",e),r()}))}}},extendId(e,t,n){if(ru(e),!uu(t))return(0,i.PN)(Fc+"No consent given for ID5 local storage writing, skipping nb increment."),n;return du(e&&e.params&&e.params.partner||0),(0,i.PN)(Fc+"using cached ID",n),n}};var Wc=new WeakSet,Vc=new WeakSet,Kc=new WeakSet,Xc=new WeakSet,Jc=new WeakSet;class Yc{constructor(e,t,n,i){Pc(this,Jc),Pc(this,Xc),Pc(this,Kc),Pc(this,Vc),Pc(this,Wc),this.submoduleConfig=e,this.gdprConsentData=t,this.cacheIdObj=n,this.usPrivacyData=i}execute(){return Uc(this,Vc,eu).call(this,this.submoduleConfig).then((e=>Uc(this,Kc,tu).call(this,e.extensionsCall).then((t=>Uc(this,Xc,nu).call(this,e.fetchCall,t))))).then((e=>{try{au(this.submoduleConfig.params.partner,0),e.privacy&&cu(Lc,JSON.stringify(e.privacy),Mc)}catch(e){(0,i.H)(Fc+e)}return e}))}}function Qc(e,t,n){return new Promise(((i,r)=>{(0,Br.h)(e,{success:function(e){i(e)},error:function(e){r(e)}},t,n)}))}function eu(e){let t=e.params.configUrl||$c;return Uc(this,Wc,Qc).call(this,t,JSON.stringify(e),{method:"POST"}).then((e=>{let t=JSON.parse(e);return(0,i.PN)(Fc+"config response received from the server",t),t}))}function tu(e){if(void 0===e)return Promise.resolve(void 0);let t=e.url,n=e.method||"GET",r="GET"===n?void 0:JSON.stringify(e.body||{});return Uc(this,Wc,Qc).call(this,t,r,{method:n}).then((e=>{let t=JSON.parse(e);return(0,i.PN)(Fc+"extensions response received from the server",t),t}))}function nu(e,t){let n=e.url,r=e.overrides||{},o={...Uc(this,Jc,iu).call(this),...r,extensions:t};return Uc(this,Wc,Qc).call(this,n,JSON.stringify(o),{method:"POST",withCredentials:!0}).then((e=>{let t=JSON.parse(e);return(0,i.PN)(Fc+"fetch response received from the server",t),t}))}function iu(){const e=this.submoduleConfig.params,t=this.gdprConsentData&&"boolean"==typeof this.gdprConsentData.gdprApplies&&this.gdprConsentData.gdprApplies?1:0,n=(0,J.nH)(),r=this.cacheIdObj&&this.cacheIdObj.signature?this.cacheIdObj.signature:function(){let e;return Hc.forEach((function(t){Zc.getCookie(t)&&(e=(0,i.dj)(Zc.getCookie(t))||e)})),e&&e.signature||""}(),o=du(e.partner),a={partner:e.partner,gdpr:t,nbPage:o,o:"pbjs",tml:n.topmostLocation,ref:n.ref,cu:n.canonicalUrl,top:n.reachedTop?1:0,u:n.stack[0]||window.location.href,v:"7.41.0",storage:this.submoduleConfig.storage};!t||void 0===this.gdprConsentData.consentString||(0,i.xb)(this.gdprConsentData.consentString)||(0,i.jH)(this.gdprConsentData.consentString)||(a.gdpr_consent=this.gdprConsentData.consentString),void 0===this.usPrivacyData||(0,i.xb)(this.usPrivacyData)||(0,i.jH)(this.usPrivacyData)||(a.us_privacy=this.usPrivacyData),void 0===r||(0,i.jH)(r)||(a.s=r),void 0===e.pd||(0,i.jH)(e.pd)||(a.pd=e.pd),void 0===e.provider||(0,i.jH)(e.provider)||(a.provider=e.provider);const s=e.abTesting||{enabled:!1};return s.enabled&&(a.ab_testing={enabled:!0,control_group_pct:s.controlGroupPct}),a}function ru(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==zc&&(0,i.yN)(Fc+`storage type recommended to be '${zc}'. In a future release this may become a strict requirement`),e.storage.name!==qc&&(0,i.yN)(Fc+`storage name recommended to be '${qc}'. In a future release this may become a strict requirement`),!0):((0,i.H)(Fc+"storage required to be set"),!1):((0,i.H)(Fc+"partner required to be defined as a number"),!1)}function ou(e){return`${qc}_${e}_nb`}function au(e,t){cu(ou(e),t,Mc)}function su(e){let t=function(e){const t=Zc.getDataFromLocalStorage(`${e}_exp`);if(""===t)return Zc.getDataFromLocalStorage(e);if(t&&new Date(t).getTime()-Date.now()>0)return Zc.getDataFromLocalStorage(e);return Zc.removeDataFromLocalStorage(e),null}(ou(e));return t?parseInt(t):0}function du(e){const t=su(e)+1;return au(e,t),t}function cu(e,t,n){Zc.setDataInLocalStorage(`${e}_exp`,function(e){return new Date(Date.now()+864e5*e).toUTCString()}(n)),Zc.setDataInLocalStorage(`${e}`,t)}function uu(e){const t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies,n=(0,r.Z)(e,"vendorData.purpose.consents.1"),i=(0,r.Z)(e,`vendorData.vendor.consents.${jc.toString()}`);return!!(!t||n&&i)}(0,S.Bx)("userId",Gc),window.pubtech_pbjs.installedModules.push("id5IdSystem");const lu="criteo",pu=(0,V.df)({gvlid:91,moduleName:lu}),fu="cto_bidid",mu="cto_bundle",gu="cto_dna_bundle",hu=new Date(0).toString(),bu=new Date((0,i.AB)()+33696e6).toString();function yu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.en)(e,{noDecodeWholeURL:!0});return t?`${n.hostname}`:`${n.protocol}://${n.hostname}${n.port?":"+n.port:""}/`}function vu(e){return pu.getCookie(e)||pu.getDataFromLocalStorage(e)}function _u(e,t,n){e&&t&&(pu.setDataInLocalStorage(e,t),Iu(e,t,bu,n,!0))}function Iu(e,t,n,i,r){const o=i.split(".");for(let i=0;i<o.length;++i){const a=o.slice(o.length-i-1,o.length).join(".");try{if(pu.setCookie(e,t,n,null,"."+a),r){const n=pu.getCookie(e);if(n&&n===t)break}}catch(e){}}}function Tu(e,t,n){const r=pu.cookiesAreEnabled(),o=pu.localStorageIsEnabled(),a=yu((0,J.nH)().page),s=yu(document.location.href,!0),d="undefined"!=typeof criteo_pubtag,c=function(e,t,n,i,r,o,a,s){return"https://gum.criteo.com/sid/json?origin=prebid"+(e?"&topUrl="+encodeURIComponent(e):"")+(t?"&domain="+encodeURIComponent(t):"")+(n?"&bundle="+encodeURIComponent(n):"")+(i?"&info="+encodeURIComponent(i):"")+(s?"&gdprString="+encodeURIComponent(s):"")+(r?"&cw=1":"")+(a?"&pbt=1":"")+(o?"&lsw=1":"")}(a,s,e.bundle,e.dnaBundle,r,o,d,t),u={success:e=>{const t=JSON.parse(e);if(t.pixels&&t.pixels.forEach((e=>function(e,t){t.writeBundleInStorage&&t.bundlePropertyName&&t.storageKeyName?(0,Br.h)(t.pixelUrl,{success:n=>{if(n){const i=JSON.parse(n);i&&i[t.bundlePropertyName]&&_u(t.storageKeyName,i[t.bundlePropertyName],e)}}},void 0,{method:"GET",withCredentials:!0}):(0,i.hq)(t.pixelUrl)}(s,e))),t.acwsUrl){("string"==typeof t.acwsUrl?[t.acwsUrl]:t.acwsUrl).forEach((e=>(0,i.hq)(e)))}else t.bundle&&_u(mu,t.bundle,s);if(t.bidId){_u(fu,t.bidId,s);const e={criteoId:t.bidId};n(e)}else Iu(r=fu,"",hu,s,!0),pu.removeDataFromLocalStorage(r),n();var r},error:e=>{(0,i.H)("criteoIdSystem: unable to sync user id",e),n()}};(0,Br.h)(c,u,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}const Eu={name:lu,gvlid:91,decode:e=>e,getId(e,t){const n=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?t.consentString:void 0;let i={bundle:vu(mu),dnaBundle:vu(gu),bidId:vu(fu)};return{id:i.bidId?{criteoId:i.bidId}:void 0,callback:e=>Tu(i,n,e)}}};(0,S.Bx)("userId",Eu),window.pubtech_pbjs.installedModules.push("criteoIdSystem");var wu=__webpack_require__(380);const Su=(0,V.df)({moduleName:"pubCommonId",gvlid:wu.$P}),Cu="cookie",Au="html5",xu="_pubcid_optout",Ou="PublisherCommonId";function ku(e,t){if(t===Cu)return Su.getCookie(e);if(t===Au&&Su.hasLocalStorage()){const t=Su.getDataFromLocalStorage(`${e}_exp`);if(!t)return Su.getDataFromLocalStorage(e);if(new Date(t).getTime()-Date.now()>0)return Su.getDataFromLocalStorage(e)}}function Du(e,t){return function(n){"function"==typeof t&&t(),n(e)}}function Ru(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return;const n=(0,i.en)(e);n.search.id=encodeURIComponent("pubcid:"+t);const r=(0,i.Q2)(n);return function(){(0,i.hq)(r)}}function Nu(){return!!(Su.cookiesAreEnabled()&&ku(xu,Cu)||Su.hasLocalStorage()&&ku(xu,Au))}const Bu={name:"sharedId",aliasName:"pubCommonId",gvlid:wu.$P,decode(e,t){if(Nu())return void(0,i.PN)("PubCommonId decode: Has opted-out");(0,i.PN)(" Decoded value PubCommonId "+e);return{pubcid:e}},getId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(Nu())return void(0,i.PN)("PubCommonId: Has opted-out");if(K.VP.getCoppa())return void(0,i.PN)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");const{params:{create:n=!0,pixelUrl:r}={}}=e;let o=t;if(!o){try{"object"==typeof window[Ou]&&(o=window[Ou].getId())}catch(e){}o||(o=n&&(0,i.wn)()?(0,i.DO)():void 0)}return{id:o,callback:Du(o,Ru(r,o))}},extendId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(Nu())return(0,i.PN)("PubCommonId: Has opted-out"),{id:void 0};if(K.VP.getCoppa())return void(0,i.PN)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");const{params:{extend:n=!1,pixelUrl:r}={}}=e;if(n){if(r){return{callback:Ru(r,t)}}return{id:t}}},domainOverride:function(){const e=document.domain.split("."),t=`_gd${Date.now()}`;for(let n,i,r=0;r<e.length;r++){const o=e.slice(r).join(".");if(Su.setCookie(t,"1",void 0,void 0,o),i=Su.getCookie(t),Su.setCookie(t,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,o),"1"!==i)return n;n=o}}};(0,S.Bx)("userId",Bu),window.pubtech_pbjs.installedModules.push("sharedIdSystem");const Pu="unifiedId",Uu={name:Pu,gvlid:21,decode:e=>e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0,getId(e){const t=e&&e.params||{};if(!t||"string"!=typeof t.partner&&"string"!=typeof t.url)return void(0,i.H)("User ID - unifiedId submodule requires either partner or url to be defined");const n=t.url||`https://match.adsrvr.org/track/rid?ttd_pid=${t.partner}&fmt=json`;return{callback:function(e){const t={success:t=>{let n;if(t)try{n=JSON.parse(t)}catch(e){(0,i.H)(e)}e(n)},error:t=>{(0,i.H)(`${Pu}: ID fetch encountered an error`,t),e()}};(0,Br.h)(n,t,void 0,{method:"GET",withCredentials:!0})}}}};function ju(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Mu(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),function(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}(n,"get"),Lu(e,n)}function qu(e,t){return Lu(e,Fu(e,t,"get"))}function Lu(e,t){return t.get?t.get.call(e):t.value}function zu(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Fu(e,t,"set"),n),n}function Fu(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(0,S.Bx)("userId",Uu),window.pubtech_pbjs.installedModules.push("unifiedIdSystem");var $u=new WeakMap,Hu=new WeakMap,Zu=new WeakMap;class Gu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ju(this,$u,{writable:!0,value:!1}),ju(this,Hu,{writable:!0,value:void 0}),ju(this,Zu,{writable:!0,value:""}),zu(this,Hu,e),!0===t&&zu(this,$u,!0),"string"==typeof n&&zu(this,Zu,n+" ")}debug(e){if(qu(this,$u)){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];qu(this,Hu).debug("%c Engine "+qu(this,Zu),Mu(Gu,Gu,Wu),e,"\n",...n)}}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];qu(this,Hu).trace("%c Engine "+qu(this,Zu),Mu(Gu,Gu,Vu),e,"\n",...n)}debugBanners(e){qu(this,Hu).debug("%c Pubtech.ai Banner Debug","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)");const t=[];let n=0;for(let i in e)null!=document.getElementById(i)&&(t.push(i),"O_SKIN"!==i&&n++),"VIP"!==i&&"O_INTERSTITIAL_G"!==i||t.push(i);qu(this,Hu).table(t);let i="red",r="troppo basso, monetizzazione compromessa!";n>=2&&n<=4?(i="orange",r="basso, monetizzazione sotto la media"):n>4&&n<6?(i="yellow",r="buono, monetizzazione nella norma"):n>=6&&(i="green",r="ottimale, monetizzazione al top"),qu(this,Hu).debug("%cIl numero dei banner in pagina è "+r,"color:"+i+";font-size: 14px;")}debugFormat(e){let t=["O_INTERSTITIAL","O_INTERSTITIAL_G","O_SKIN"];for(let n in e){if(t.includes(n))continue;const i=document.getElementById(n);if(null!=i){i.innerHTML=n;const t=e[n][0],r=t[1],o=t[0];i.style.cssText="line-height:"+r+"px;width:"+o+"px;height:"+r+"px;font-size:28px;font-weight:700;background-color:#cbcbcb;margin-top:15px;margin-bottom:15px;text-align:center;vertical-align:middle;"}}}}var Wu={writable:!0,value:"display: inline-block; color: #fff; background: #01bf7e; padding: 1px 4px; border-radius: 3px;"},Vu={writable:!0,value:"display: inline-block; color: #fff; background: #ce000f; padding: 1px 4px; border-radius: 3px;"};function Ku(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Xu(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Yu(e,t,"get"))}function Ju(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Yu(e,t,"set"),n),n}function Yu(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const Qu={MOBILE:"mobile",TABLET:"tablet",DESKTOP:"desktop"};var el=new WeakMap,tl=new WeakMap,nl=new WeakMap;function il(e){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}function rl(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Lax",r=new Date;r.setTime(r.getTime()+1e3*n*60);let o=r.toUTCString();const a=` ;domain=${function(e){let t="",n=2;const i="localhost"===e;i||0!==e.indexOf("www.")&&(e="www."+e);const r=e.split("."),o=/^[0-9]+$/.test(e.split(":")[0].split(".").join("")),a=r[r.length-2];i||o||(3<r.length&&a.length<4&&(n=3),t="."+e.split(".").reverse().slice(0,n).reverse().join("."));return t}(window.location.hostname)}`,s=o&&""!==o?` ;expires=${o}`:"",d=null!=i&&"none"==i.toLowerCase()?"; Secure":"";window.document.cookie=`${e}=${encodeURIComponent(t)}${s}; path=/${a}${i?`; SameSite=${i}`:""}${d}`}function ol(e,t){var n=1,i=il(e);i&&(i=parseInt(i),isNaN(i)||(n=i+1)),rl(e,n,t,null)}function al(){return(new Date).toLocaleTimeString("it-IT")}function sl(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function dl(e,t){return e.filter((function(e){return!t.includes(e)}))}function cl(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null!=e&&null!=e.parentNode&&(n?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.insertBefore(t,e))}function ul(e){const t=e.getBoundingClientRect();return t.top+(t.height+50)/2>0&&t.left>=0&&t.top+.45*t.height<(window.innerHeight||document.documentElement.clientHeight)&&t.left+t.width/2<(window.innerWidth||document.documentElement.clientWidth)}function ll(e,t,n){const i=e.getBoundingClientRect();let r=500;return null!==n?r=n:t===Qu.MOBILE&&(r=600),i.top-r<=(window.innerHeight||document.documentElement.clientHeight)}function pl(e){let t,n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s="",d="",c=document.createElement("div");return c.id=e,-1!==e.indexOf("C_")?(s="pubtech-adv-incontent pubtech-adv-bg",d="pubtech-adv-sticky"):!0===o?s="pubtech-adv-bg":!0===a&&(d="pubtech-adv-sticky"),i?(t=document.createElement("div"),n=document.createElement("div"),n.setAttribute("class",d),n.appendChild(c),t.appendChild(n),t.setAttribute("class","container_"+e+" pubtech-adv-container "+s)):t=c,"string"==typeof r&&t.setAttribute("style",r),t}window.pbjs=window.pbjs||{},qe.que=qe.que||[];const fl="km-h2uBS40wpYfw6fm649BUwy-g";window.confiant=window.confiant||{},window.confiant[fl]=window.confiant[fl]||{clientSettings:{}};var ml=window.confiant[fl].clientSettings||(window.confiant[fl].clientSettings={});window.confiant[fl].enable_integrations=["prebid"],ml.enable_integrations=["prebid"],ml.prebidNameSpace="pubtech_pbjs",window.ptechen=window.ptechen||{},window.ptechvip=window.ptechvip||{};var gl=gl||{};gl.queue=gl.queue||[],window.ptechen={ssp:{},sspVideo:{},disableAds:!1,isDebug:!1,loadAllTogether:!1,enableOtherVip:!1,vipVideoPlayer:{type:"brid",id:"16585"},width:screen.width,loadedEngine:0,refreshNumber:0,fixedT:void 0,endedT:!1,fixedTCont:null,amazon_slots:{},bidWonInterstitial:null,googleReady:0,tcfAvailable:!0,cmpVersion:null,getCurrentTime:function(){},debug:function(){},getDevice:function(){},insertOtherVip:function(){},loadVideo:function(){},loadExternalTools:function(){},insertAfter:function(){},insertBefore:function(){},setCookie:function(){},getCookie:function(){},findGetParameter:function(){},biddersBack:function(){},sendAdserverRequest:function(){},refreshBidAmazon:function(){},refreshBid:function(){},loadAsync:function(){},refreshBanner:function(){},loadEngine:function(){},trackView:function(){},setUpBids:function(){},autoRefresh:function(){},setSize:function(){},setUpVideoBids:function(){},load_infinite_ads:function(){},runOnScroll:function(){},addAmazonSlot:function(){},insertDynamicSlots:function(){},loadParallax:function(){},addFormats:function(){},invokeSeedTag:function(){},rpm:function(){},rpmUtils:function(){},setTargeting:function(){},additionalSectionTargeting:function(){},wrapFloorAd:function(){},loadFloorAd:function(){},checkRenderInterstitial:function(){},stickyFormat:function(){},invokeOutbrain:function(){},additionalMethods:function(){},device:null,device_for_ssp:null,forceDevice:null,fixedTTimeout:null,adStart:0,pubstack_id:null,interstitialCappingMinutes:5,interstitialCappingCookieName:"pt_icapping",interstitialCappingFrequency:3,disableInterstitialCapping:!1,requestManager:[],slots:{},formati_presenti:{},fullNameAd:null,SPurl:null,refreshMapping:{},autoRefreshSettings:{interval:3e4,adunits:[]},sizeMapping:{},lazyLoadingthreshold:null,count_infinite:null,amazon:{display:!1,displaySlots:null,video:!1,videoSlot:{VIP:null,PREROLL:null}},section_targeting:[],page_targeting:"",seedTagId:null,floorClose:!1,logPrebid:!1,cmpEnabled:!0,cmpUrl:null,ownStarter:!1,prebidConfig:{},customFloor:null,adKaoraPassback:null,rpmParams:{enabled:!1},adUnits:[],noprebid:[],disableFluid:!1,wid:null,loadedInterstitial:0,overlayPriority:!1,previewVip:!1,noLazy:{desktop:[],tablet:[],mobile:[],remove:{desktop:[],tablet:[],mobile:[]}},enableProfiling:!0,advLabel:!0,loadedFloorAd:0,enableAutoRefresh:!1,openInterstitial:!0,captifyId:null,prebidRequestTimeout:1800,trackPageView:!0,disableGAM:!1,checkBot:!1,siteCategory:null},ptechen.cmd=ptechen.cmd||[];const hl=new t,bl=["https://ib.adnxs.com","https://bidder.criteo.com","https://gum.criteo.com","https://as-sec.casalemedia.com","https://a.teads.tv"];for(var yl=0;yl<bl.length;yl++)hl.prefetchUrl(bl[yl]);hl.loadScript("https://cdn.confiant-integrations.net/km-h2uBS40wpYfw6fm649BUwy-g/gpt_and_prebid/config.js"),ptechen.pubstack_id="4f8315d4-123f-425f-8376-87e52358c333",ptechen.sellerId="215",ptechen.wid=ptechen.sellerId,ptechen.slug="ansait",ptechen.fullNameAd="/21832376849,316475115/ansait/ansait_",ptechen.videoTargeting="ansait",ptechen.openInterstitial=!0,ptechen.floorClose=!1,ptechen.enableOtherVip=!1,ptechen.inreadParams={dynamicPosition:!1},ptechen.amazon.display=!0,ptechen.amazon.displaySlots={T_1:!0,C_1:!0,C_2:!0,D_1:!0,D_2:!0,D_3:!0,D_4:!0,D_5:!0,D_6:!0,D_7:!0,S_1:!0,S_2:!0,O_INTERSTITIAL:!0},ptechen.enableAutoRefresh=!0,ptechen.autoRefreshSettings={interval:35e3,adunits:["T_1","C_1","C_2","C_3","C_4","C_5","C_6","C_7","C_8","D_1","D_2","D_3","D_4","D_5","D_6","D_7","D_8","B_1","B_2"]},ptechen.loadAllTogether=!0,ptechen.advLabel=!1,ptechen.noLazy={desktop:["T_1","D_1"],tablet:["T_1","D_1"],mobile:["C_1"]},ptechen.excludePages=["sito/notizie/sport/calcio/2023/02/09/calciomulta-di-1000-euro-a-patrice-evra-per-insulti-omofobi_e3ba96a3-39a9-4dbd-8548-80df1343ff15.html","calabria/notizie/2016/11/07/in-auto-con-fucile-clandestinoarrestato_e83d105e-1a57-4e05-81ea-b1ca42b56c74.html"],ptechen.blockAdsPages=[],ptechen.interstitialCappingMinutes=80,ptechen.interstitialCappingFrequency=1,ptechen.interstitialDelay=15,ptechen.nativeryFallbackInterstitial=!0,ptechen.blockOutbrainUrl=["vanityfair.it","vogue.it","toplastnews.com","wordsa.com","globnewsfinance.com","amica.it","wired.it","bet365.it","bet365.com","ad-italia.it","architecturaldigest.com","smarttelly.com","onedaily.com","onedaily.it","editorsnation.com","eurobet.live","oddschecker.com","eurobet.it","telehealthdave.com"];var vl,_l=function(e){var t=new XMLHttpRequest;t.open("POST","https://log.pubtech.ai/log.php"),t.setRequestHeader("Content-Type","application/json"),t.send(e)};try{-1===window.location.hostname.indexOf("ansa.it")&&-1===window.location.hostname.indexOf("ansalatina.com")&&-1===window.location.hostname.indexOf("ansabrasil.com.br")&&(_l(JSON.stringify({type:"website_url_ansa.it",text:window.location.hostname})),ptechen.disableGAM=!0,ptechen.disableAds=!0),vl=window.navigator.userAgent,new RegExp("(01h4x.com|360Spider|404checker|404enemy|80legs|ADmantX|AIBOT|ALittle\\ Client|ASPSeek|Abonti|Aboundex|Aboundexbot|Acunetix|AfD-Verbotsverfahren|AhrefsBot|AiHitBot|Aipbot|Alexibot|AllSubmitter|Alligator|AlphaBot|Anarchie|Anarchy|Anarchy99|Ankit|Anthill|Apexoo|Aspiegel|Asterias|Atomseobot|Attach|AwarioRssBot|AwarioSmartBot|BBBike|BDCbot|BDFetch|BLEXBot|BackDoorBot|BackStreet|BackWeb|Backlink-Ceck|BacklinkCrawler|Badass|Bandit|Barkrowler|BatchFTP|Battleztar\\ Bazinga|BetaBot|Bigfoot|Bitacle|BlackWidow|Black\\ Hole|Blackboard|Blow|BlowFish|Boardreader|Bolt|BotALot|Brandprotect|Brandwatch|Buck|Buddy|BuiltBotTough|BuiltWith|Bullseye|BunnySlippers|BuzzSumo|CATExplorador|CCBot|CODE87|CSHttp|Calculon|CazoodleBot|Cegbfeieh|CensysInspect|CheTeam|CheeseBot|CherryPicker|ChinaClaw|Chlooe|Citoid|Claritybot|Cliqzbot|Cloud\\ mapping|Cocolyzebot|Cogentbot|Collector|Copier|CopyRightCheck|Copyscape|Cosmos|Craftbot|Crawling\\ at\\ Home\\ Project|CrazyWebCrawler|Crescent|CrunchBot|Curious|Custo|CyotekWebCopy|DBLBot|DIIbot|DSearch|DTS\\ Agent|DataCha0s|DatabaseDriverMysqli|Demon|Deusu|Devil|Digincore|DigitalPebble|Dirbuster|Disco|Discobot|Discoverybot|Dispatch|DittoSpyder|DnBCrawler-Analytics|DnyzBot|DomCopBot|DomainAppender|DomainCrawler|DomainSigmaCrawler|DomainStatsBot|Domains\\ Project|Dotbot|Download\\ Wonder|Dragonfly|Drip|ECCP/1.0|EMail\\ Siphon|EMail\\ Wolf|EasyDL|Ebingbong|Ecxi|EirGrabber|EroCrawler|Evil|Exabot|Express\\ WebPictures|ExtLinksBot|Extractor|ExtractorPro|Extreme\\ Picture\\ Finder|EyeNetIE|Ezooms|FDM|FHscan|FemtosearchBot|Fimap|Firefox/7.0|FlashGet|Flunky|Foobot|Freeuploader|FrontPage|Fuzz|FyberSpider|Fyrebot|G-i-g-a-b-o-t|GT::WWW|GalaxyBot|Genieo|GermCrawler|GetRight|GetWeb|Getintent|Gigabot|Go!Zilla|Go-Ahead-Got-It|GoZilla|Gotit|GrabNet|Grabber|Grafula|GrapeFX|GrapeshotCrawler|GridBot|HEADMasterSEO|HMView|HTMLparser|HTTP::Lite|HTTrack|Haansoft|HaosouSpider|Harvest|Havij|Heritrix|Hloader|HonoluluBot|Humanlinks|HybridBot|IDBTE4M|IDBot|IRLbot|Iblog|Id-search|IlseBot|Image\\ Fetch|Image\\ Sucker|IndeedBot|Indy\\ Library|InfoNaviRobot|InfoTekies|Intelliseek|InterGET|InternetSeer|Internet\\ Ninja|Iria|Iskanie|IstellaBot|JOC\\ Web\\ Spider|JamesBOT|Jbrofuzz|JennyBot|JetCar|Jetty|JikeSpider|Joomla|Jorgee|JustView|Jyxobot|Kenjin\\ Spider|Keybot\\ Translation-Search-Machine|Keyword\\ Density|Kinza|Kozmosbot|LNSpiderguy|LWP::Simple|Lanshanbot|Larbin|Leap|LeechFTP|LeechGet|LexiBot|Lftp|LibWeb|Libwhisker|LieBaoFast|Lightspeedsystems|Likse|LinkScan|LinkWalker|Linkbot|LinkextractorPro|LinkpadBot|LinksManager|LinqiaMetadataDownloaderBot|LinqiaRSSBot|LinqiaScrapeBot|Lipperhey|Lipperhey\\ Spider|Litemage_walker|Lmspider|Ltx71|MFC_Tear_Sample|MIDown\\ tool|MIIxpc|MJ12bot|MQQBrowser|MSFrontPage|MSIECrawler|MTRobot|Mag-Net|Magnet|Mail.RU_Bot|Majestic-SEO|Majestic12|Majestic\\ SEO|MarkMonitor|MarkWatch|Mass\\ Downloader|Masscan|Mata\\ Hari|MauiBot|Mb2345Browser|MeanPath\\ Bot|Meanpathbot|Mediatoolkitbot|MegaIndex.ru|Metauri|MicroMessenger|Microsoft\\ Data\\ Access|Microsoft\\ URL\\ Control|Minefield|Mister\\ PiX|Moblie Safari|Mojeek|Mojolicious|MolokaiBot|Morfeus\\ Fucking\\ Scanner|Mozlila|Mr.4x3|Msrabot|Musobot|NICErsPRO|NPbot|Name\\ Intelligence|Nameprotect|Navroad|NearSite|Needle|Nessus|NetAnts|NetLyzer|NetMechanic|NetSpider|NetZIP|Net\\ Vampire|Netcraft|Nettrack|Netvibes|NextGenSearchBot|Nibbler|Niki-bot|Nikto|NimbleCrawler|Nimbostratus|Ninja|Nmap|Nuclei|Nutch|Octopus|Offline\\ Explorer|Offline\\ Navigator|OnCrawl|OpenLinkProfiler|OpenVAS|Openfind|Openvas|OrangeBot|OrangeSpider|OutclicksBot|OutfoxBot|PECL::HTTP|PHPCrawl|POE-Component-Client-HTTP|PageAnalyzer|PageGrabber|PageScorer|PageThing.com|Page\\ Analyzer|Pandalytics|Panscient|Papa\\ Foto|Pavuk|PeoplePal|Petalbot|Pi-Monster|Picscout|Picsearch|PictureFinder|Piepmatz|Pimonster|Pixray|PleaseCrawl|Pockey|ProPowerBot|ProWebWalker|Probethenet|Psbot|Pu_iN|Pump|PxBroker|PyCurl|QueryN\\ Metasearch|Quick-Crawler|RSSingBot|RankActive|RankActiveLinkBot|RankFlex|RankingBot|RankingBot2|Rankivabot|RankurBot|Re-re|ReGet|RealDownload|Reaper|RebelMouse|Recorder|RedesScrapy|RepoMonkey|Ripper|RocketCrawler|Rogerbot|SBIder|SEOkicks|SEOkicks-Robot|SEOlyticsCrawler|SEOprofiler|SEOstats|SISTRIX|SMTBot|SalesIntelligent|ScanAlert|Scanbot|ScoutJet|Scrapy|Screaming|ScreenerBot|ScrepyBot|Searchestate|SearchmetricsBot|Seekport|SemanticJuice|Semrush|SemrushBot|SentiBot|SeoSiteCheckup|SeobilityBot|Seomoz|Shodan|Siphon|SiteCheckerBotCrawler|SiteExplorer|SiteLockSpider|SiteSnagger|SiteSucker|Site\\ Sucker|Sitebeam|Siteimprove|Sitevigil|SlySearch|SmartDownload|Snake|Snapbot|Snoopy|SocialRankIOBot|Sociscraper|Sogou\\ web\\ spider|Sosospider|Sottopop|SpaceBison|Spammen|SpankBot|Spanner|Spbot|Spinn3r|SputnikBot|Sqlmap|Sqlworm|Sqworm|Steeler|Stripper|Sucker|Sucuri|SuperBot|SuperHTTP|Surfbot|SurveyBot|Suzuran|Swiftbot|Szukacz|T0PHackTeam|T8Abot|Teleport|TeleportPro|Telesoft|Telesphoreo|Telesphorep|TheNomad|The\\ Intraformant|Thumbor|TightTwatBot|Titan|Toata|Toweyabot|Tracemyfile|Trendiction|Trendictionbot|True_Robot|Turingos|Turnitin|TurnitinBot|TwengaBot|Twice|Typhoeus|URLy.Warning|URLy\\ Warning|UnisterBot|Upflow|V-BOT|VB\\ Project|VCI|Vacuum|Vagabondo|VelenPublicWebCrawler|VeriCiteCrawler|VidibleScraper|Virusdie|VoidEYE|Voil|Voltron|WASALive-Bot|WBSearchBot|WEBDAV|WISENutbot|WPScan|WWW-Collector-E|WWW-Mechanize|WWW::Mechanize|WWWOFFLE|Wallpapers|Wallpapers/3.0|WallpapersHD|WeSEE|WebAuto|WebBandit|WebCollage|WebCopier|WebEnhancer|WebFetch|WebFuck|WebGo\\ IS|WebImageCollector|WebLeacher|WebPix|WebReaper|WebSauger|WebStripper|WebSucker|WebWhacker|WebZIP|Web\\ Auto|Web\\ Collage|Web\\ Enhancer|Web\\ Fetch|Web\\ Fuck|Web\\ Pix|Web\\ Sauger|Web\\ Sucker|Webalta|WebmasterWorldForumBot|Webshag|WebsiteExtractor|WebsiteQuester|Website\\ Quester|Webster|Whack|Whacker|Whatweb|Who.is\\ Bot|Widow|WinHTTrack|WiseGuys\\ Robot|Wonderbot|Woobot|Wotbox|Wprecon|Xaldon\\ WebSpider|Xaldon_WebSpider|Xenu|YoudaoBot|Zade|Zauba|Zermelo|Zeus|Zitebot|ZmEu|ZoomBot|ZoominfoBot|ZumBot|ZyBorg|adscanner|archive.org_bot|arquivo-web-crawler|arquivo.pt|autoemailspider|backlink-check|cah.io.community|check1.exe|clark-crawler|coccocbot|cognitiveseo|com.plumanalytics|crawl.sogou.com|crawler.feedback|crawler4j|dataforseo.com|demandbase-bot|domainsproject.org|eCatch|evc-batch|facebookscraper|gopher|heritrix|instabid|internetVista\\ monitor|ips-agent|isitwp.com|iubenda-radar|linkdexbot|lwp-request|lwp-trivial|magpie-crawler|meanpathbot|mediawords|muhstik-scan|netEstate\\ NE\\ Crawler|oBot|page\\ scorer|pcBrowser|plumanalytics|polaris\\ version|probe-image-size|ripz|s1z.ru|satoristudio.net|scalaj-http|scan.lol|seobility|seocompany.store|seoscanners|seostar|serpstatbot|sexsearcher|sitechecker.pro|siteripz|sogouspider|sp_auditbot|spyfu|sysscan|tAkeOut|trendiction.com|trendiction.de|ubermetrics-technologies.com|voyagerx.com|webgains-bot|webmeup-crawler|webpros.com|webprosbot|x09Mozilla|x22Mozilla|xpymep1.exe|zauba.io|zgra)","i").test(vl)&&(ptechen.disableGAM=!0),-1!==document.referrer.indexOf("outbrain.com")&&(_l(JSON.stringify({type:"bad-referrer_"+window.location.hostname,text:document.referrer})),ptechen.disableGAM=!0);for(var Il=["lingo.com.ru","kadaza.com","eumetsat.int","ebike-mag.com","roamresearch.com"],Tl=0;Tl<Il.length;Tl++)if(-1!==document.referrer.indexOf(Il[Tl])){_l(JSON.stringify({type:"bad-referrer_"+window.location.hostname,text:document.referrer})),ptechen.disableGAM=!0;break}}catch(e){console.error(e)}ptechen.addFormats=function(){ptechen.findGetParameter("debug_pubtech")&&(ptechen.interstitialCappingMinutes=100,ptechen.interstitialCappingFrequency=100,ptechen.interstitialDelay=1,ptechen.ssp.outbrain=void 0,ptechen.ssp.criteo=void 0,ptechen.nativeryFallbackInterstitial=!0);var e=null,t=null;try{if(void 0!==window.WebsiteDetailContainer&&(t=window.WebsiteDetailContainer.pageType,e=window.WebsiteDetailContainer.categories,"mobile"===ptechen.device&&t&&e&&e.length>0&&(e.indexOf("scienzaetecnica_default")>-1||e.indexOf("motori_all")>-1||e.indexOf("lifestyle_home")>-1||e.indexOf("ambientenergia_general")>-1)&&"post"===t)){var n=document.createElement("div");n.setAttribute("data-size","300x250,fluid"),n.setAttribute("data-slot-id","C_"),n.setAttribute("class","adv-slot"),ptechen.insertBefore(document.querySelector("div.news-txt p:first-of-type"),n)}}catch(e){console.error(e)}function i(){!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//cdn.nativery.com/widget/js/nat.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}function r(e){try{const t=ptechen.autoRefreshSettings.adunits.indexOf(e);t>-1&&ptechen.autoRefreshSettings.adunits.splice(t,1)}catch(e){console.error(e)}}window._nat=window._nat||[],ptechen.loadNativeryInterstitial=function(){ptechen.nativeryHasAdInterstitial=!0,Al.debug("NATIVERY METHOD LOADED"),window.addEventListener("nativeryHasNoAds",(e=>{Al.debug("Nativery unfilled widget id: "+e.detail.widgetId),"63dd0e7199b58204608c5352"===e.detail.widgetId&&(ptechen.nativeryHasAdInterstitial=!1)}),!1),setTimeout((function(){var e=document.getElementById("nat_63dd0e7199b58204608c5352");Al.debug("Checking if nativery can render intro");var t=document.getElementById("O_INTERSTITIAL");null!==e&&""!==e.innerHTML&&null!==t&&!0===ptechen.nativeryHasAdInterstitial?(Al.debug("can render nativery interstitial"),t.innerHTML="",t.appendChild(e),ptechen.checkRenderInterstitial(!1)):(Al.debug("Nativery cannot render"),ptechen.noInterstitialToRender())}),3e3);var e=document.createElement("div");e.id="nat_63dd0e7199b58204608c5352",document.body.appendChild(e),window._nat.push(["id","63dd0e7199b58204608c5352"]),i()},!1===ptechen.enableProfiling&&(window.addEventListener("nativeryHasNoAds",(e=>{console.log(`The widget id is: ${e.detail.widgetId}`)}),!1),window.addEventListener("slotRenderEnded",(function(e){if(!0===e.detail.isEmpty){var n=e.detail.id,o=document.getElementById(n);null!==o&&(o.className=o.className.replace(/\badvblockshown\b/g,""),o.classList.add("advblockshown"),"desktop"===ptechen.device||"tablet"===ptechen.device?("T_1"===n&&(o.style.minHeight="165px",o.innerHTML='<div id="nat_62e151881aeba3d19027fdac"></div>',window._nat.push(["id","62e151881aeba3d19027fdac"]),r(n),i()),"D_1"===n&&(o.innerHTML='<div id="nat_62e150319b69c61d182ba96a"></div>',window._nat.push(["id","62e150319b69c61d182ba96a"]),i(),r(n))):"mobile"===ptechen.device&&"C_1"===n&&"post"!==t&&(o.innerHTML='<div id="nat_62e150319b69c61d182ba96a"></div>',window._nat.push(["id","62e150319b69c61d182ba96a"]),r(n),i()))}})));var o,a,s,d,c=0,u=0,l=0,p=document.querySelectorAll(".adv-slot");for(c=0;c<p.length;c++){var f=p[c];if(!f.classList.contains("visible-phone")||"desktop"!==ptechen.device){var m=f.getAttribute("data-slot-id"),g=null;null!==m&&("D_"===m?(l++,f.classList.add("container_"+m+l),g=pl(m+l,!1)):"C_"===m&&(u++,f.classList.add("container_"+m+u),g=pl(m+u,!1)));var h=f.getAttribute("data-size");null===h&&"mobile"===ptechen.device&&(h=f.getAttribute("data-size-mobile")),null!==m&&null!==h&&null!==g&&("300x100"===h&&"D_"===m?g.setAttribute("data-size","300x100,300x50,300x75,250x250,200x200,fluid"):"300x100,300x250"===h&&"D_"===m?g.setAttribute("data-size","300x250,300x100,300x50,300x75,250x250,200x200,fluid"):"300x250,300x600,fluid"===h&&"D_"===m?g.setAttribute("data-size","300x250,300x600,300x100,300x50,300x75,250x250,200x200,300x300,fluid"):"300x250,fluid"===h&&"C_"===m&&"desktop"===ptechen.device?g.setAttribute("data-size","300x250,300x100,300x50,300x75,250x250,200x200,320x50,320x100,336x280,fluid"):"300x250,fluid"===h&&"C_"===m&&"mobile"===ptechen.device?g.setAttribute("data-size","300x600,300x250,336x280,fluid"):"300x250,300x600,fluid"===h&&"C_"===m&&"mobile"===ptechen.device?g.setAttribute("data-size","300x600,300x250,336x280,fluid,300x300,250x250,200x200,160x600"):"300x250"===h&&"D_"===m&&g.setAttribute("data-size","300x250,300x100,300x50,300x75,250x250,200x200,fluid")),null!==g&&(a=g,null!==(o=f)&&o.appendChild(a))}}var b=document.head||document.getElementsByTagName("head")[0];if("mobile"===ptechen.device){s='@keyframes fadeIn {\n    0% {\n        opacity: 0\n    }\n\n    55% {\n        opacity: 0\n    }\n\n    100% {\n        opacity: 1\n    }\n}\ndiv#O_INTERSTITIAL, div#oIntLayer {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 9999999;\nopacity:0;}\n\ndiv#oIntLayer.pt-filled {z-index:9999999999;height:100%;width:100%;overflow:hidden;position:fixed;display:flex;justify-content: center;align-items:center;top:0;left:0;margin-top: 52px!important;\nmax-height: calc(100vh + 52px)!important;}\ndiv#O_INTERSTITIAL.pt-filled[data-google-query-id]::before, div#O_INTERSTITIAL[data-hb-query-id]::before {content: "";\n    width: 100%;\n    height: 52px;\n    margin-top: 0;\n    background: #333!important;\n    z-index: 999999999;\n    position: fixed;\n    top: 0;}\n    div#O_INTERSTITIAL.pt-filled[data-google-query-id], div#O_INTERSTITIAL[data-hb-query-id] {\n    max-height: 100%;\n    max-height: calc(100% - 0);\nmargin-top: 52px!important;\n    max-height: calc(100vh + 52px)!important;    position: fixed!important;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n\ndiv#O_INTERSTITIAL.pt-filled[data-google-query-id], div#O_INTERSTITIAL[data-hb-query-id] {\n    height: 100%;\n    width: 100%;\n    overflow: hidden\n}\n\n\ndiv#O_INTERSTITIAL.pt-filled {\n    z-index: 99999999998;\n    background: rgba(0,0,0,1);\n    animation: fadeIn 950ms ease-in;\nopacity:1;}\n\ndiv#O_INTERSTITIAL>div {\n    background-position: inherit!important;\n    background-repeat: inherit!important\n}\n\ndiv#O_INTERSTITIAL.pt-filled>div>iframe {\n    position: absolute!important;\n    top: calc(50% - 52px)!important;\n    left: 50%!important;\n    -webkit-transform: translateX(-50%)translateY(-50%)!important;\n    -moz-transform: translateX(-50%)translateY(-50%)!important;\n    -o-transform: translateX(-50%)translateY(-50%)!important;\n    transform: translateX(-50%)translateY(-50%)!important\n}\n\ndiv#O_INTERSTITIAL.pt-filled>div:first-child {\n    position: static\n}div#O_INTERSTITIAL.pt-hidden {display:none!important; visibility: hidden!important;}\n.beforeFadeIn {opacity:0;} .toFadeIn {animation: fadeIn 950ms ease-in;opacity:1;}\n.container_C_1 {height:625px; margin:35px 0;}\n#C_1 { display:block; align-items: flex-start;}\n#C_1 {position: -webkit-sticky!important;\n  position: sticky!important;top:95px;}\n.ptechFilledInterstitial {overflow:hidden;height:100%important;display:block;}\n.nat-title {display:none;}\n',d=document.createElement("style"),b.appendChild(d),d.appendChild(document.createTextNode(s));var y=document.createElement("div");y.id="oIntCont";var v=document.createElement("div");v.id="oIntLayer";var _=document.createElement("div");_.id="O_INTERSTITIAL",y.appendChild(_),y.appendChild(v),document.body.appendChild(y)}if(window.teads_analytics=window.teads_analytics||{},window.teads_analytics.analytics_tag_id="PUB_13375",window.teads_analytics.share=window.teads_analytics.share||function(){(window.teads_analytics.shared_data=window.teads_analytics.shared_data||[]).push(arguments)},hl.loadScript("https://a.teads.tv/analytics/tag.js",null,"teadsId"),"mobile"===ptechen.device&&window.innerHeight>=640&&ptechen.sizeMapping[ptechen.device].O_INTERSTITIAL.push([300,600]),"desktop"===ptechen.device&&ptechen.findGetParameter("google_preview")&&(ptechen.sizeMapping[ptechen.device].O_INTERSTITIAL=[1,2],(_=document.createElement("div")).id="O_INTERSTITIAL",document.body.appendChild(_)),!0===ptechen.enableProfiling){var I=function(e,t){console.log("VISIBILITY STATE ==> "+e),t||googletag.pubads().clearTargeting("tab_visible");var n="yes",i=window.location.href.indexOf("refresh_ce")>-1;"visible"===e||i?"visible"!==e&&i?(n="refresh_ce_no",t&&(n="refresh_ce_not_in_view")):"visible"===e&&i&&(n="refresh_ce_yes",t&&(n="refresh_ce_in_view")):n="no",googletag.pubads().setTargeting("tab_visible",n)};I(document.visibilityState,!0),document.addEventListener("visibilitychange",(()=>{I(document.visibilityState,!1)}));try{"visible"===document.visibilityState&&document.hasFocus()||setTimeout((function(){try{window.gtag("event","refresh_not_in_view")}catch(e){console.error(e)}}),4500)}catch(e){console.log(e)}}if(screen.width<=1e3){s="#F_M {bottom:0;right:0;position:fixed;} ",d=document.createElement("style"),b.appendChild(d),d.appendChild(document.createTextNode(s)),ptechen.sizeMapping[ptechen.device].F_M=[2,1];var T=document.createElement("div");T.id="F_M",document.body.appendChild(T)}if("desktop"===ptechen.device){s="#O_SKIN {top:0;right:0;position:fixed!important;max-width:1px!important;max-height:1px!important;}\n#banner970x250topx {height:282px;}\n.container_D_3, .container_D_4 { min-height:280px;}\n.container_D_3 {margin-top:35px;}\n.container_D_4 {margin-top:35px;margin-bottom:45px;}.container_D_5, .container_D_6, .container_D_7 {margin-top:35px;margin-bottom:35px;}#B_1 {height:280px;margin:40px 0;}",d=document.createElement("style"),b.appendChild(d),d.appendChild(document.createTextNode(s));var E=document.createElement("div");E.id="O_SKIN",ptechen.insertBefore(document.body.firstElementChild,E)}if("post"!==t&&null!==e&&-1===e.indexOf("hp_cultura")&&(ptechen.ssp.teads.openmarket.mobile.C_1={placementId:169429,pageId:155025}),ptechen.findGetParameter("creat")&&(qe.onEvent("bidWon",(function(e){console.log(e.bidderCode+" won the ad server auction for ad unit "+e.adUnitCode+" at "+e.cpm+" CPM"),console.log(e)})),qe.onEvent("adRenderSucceeded",(function(e){console.log("AD RENDERED SUCCEED"),console.log(e)}))),"desktop"===ptechen.device){var w={home:37824,cronaca:37825,motori:37826,terra_gusto:37829,travel:37831},S=37833;if(null!==e)for(var C=0;C<e.length;C++){if(-1!==e[C].indexOf("inviaggio")){S=w.travel;break}if(-1!==e[C].indexOf("cronaca")){S=w.cronaca;break}if(-1!==e[C].indexOf("motori")){S=w.motori;break}if(-1!==e[C].indexOf("terraegusto")){S=w.terra_gusto;break}if(-1!==e[C].indexOf("home")){S=w.home;break}}var A=document.createElement("script"),x=document.getElementsByTagName("head")[0];A.src="https://sac.ayads.co/sublime/"+S+"/prebid",A.setAttribute("data-cfasync","false"),x.insertBefore(A,x.firstChild),window.sublime=window.sublime||{},window.sublime.notifyId=window.sublime.notifyId||function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}(),window.sublime.notifyId,ptechen.ssp.sublime={O_SKIN:{zoneId:S,notifyId:window.sublime.notifyId}}}"mobile"===ptechen.device&&(ptechen.ssp.sublimeIntro={openmarket:{desktop:{O_INTERSTITIAL:{id:29139259,position:"above"}}}});var O=function(){if("desktop"===ptechen.device){if(!0===!0){ptechen.sizeMapping[ptechen.device].S_1=[[160,600]],ptechen.sizeMapping[ptechen.device].S_2=[[160,600]];d=document.createElement("style"),b.appendChild(d),d.appendChild(document.createTextNode(".pos-right-adv {\n    z-index: auto;\n    right: calc((100vw - 995px) / 2 + 1010px);\n    top: 120px;\n    position: fixed !important;\n    visibility: visible;\n    display: block;\n    margin: 0px;\n    padding: 0px;\n    border: 0px;\n    float: left;\n    overflow: visible;\n    transition-duration: 0s;\n    opacity: 1;\n    width: 160px;\n    min-width: 160px;\n    max-width: 160px;\n    height: 620px;\n    min-height: 620px;\n    max-height: 620px;\n}.pos-left-adv {\n    z-index: auto;\n    left: calc((100vw - 995px) / 2 + 1010px);\n    top: 120px;\n    position: fixed !important;\n    visibility: visible;\n    display: block;\n    margin: 0px;\n    padding: 0px;\n    border: 0px;\n    float: left;\n    overflow: visible;\n    transition-duration: 0s;\n    opacity: 1;\n    width: 160px;\n    min-width: 160px;\n    max-width: 160px;\n    height: 620px;\n    min-height: 620px;\n    max-height: 620px;\n}"));var e=document.createElement("div");e.id="S_1",e.setAttribute("class","pos-left-adv");var t=document.createElement("div");t.id="S_2",t.setAttribute("class","pos-right-adv"),ptechen.insertBefore(document.body.firstElementChild,e),ptechen.insertBefore(document.body.firstElementChild,t),function(){for(var e=["S_1","S_2"],t=0;t<e.length;t++){ptechen.formati_presenti[e[t]]={name:e[t],adUnit:ptechen.fullNameAd+e[t]};var n=e[t];!0===ptechen.enableProfiling&&(ptechen.slots[n]=googletag.defineSlot(ptechen.fullNameAd+n,ptechen.sizeMapping[ptechen.device][n],n).addService(googletag.pubads()).setTargeting("SPurl",ptechen.SPurl).setTargeting("Refresh","0").setTargeting(ptechen.videoTargeting,ptechen.section_targeting).setTargeting("pagina",ptechen.page_targeting).setCollapseEmptyDiv(!1));var i=ptechen.setUpBids(e[t]);qe.addAdUnits(i),ptechen.refreshBid([ptechen.formati_presenti[e[t]].name],[ptechen.slots[e[t]]])}}()}}};!0===ptechen.enableProfiling?googletag.pubads().addEventListener("slotRenderEnded",(function(e){e.isEmpty&&"O_SKIN"===e.slot.getSlotElementId()&&O()})):O()},ptechen.additionalMethods=function(){if(ptechen.findGetParameter("test_mgid")){var e=document.getElementById("D_1");e.innerHTML="",e.id="";var t=document.createElement("div");t.id="M830317ScriptRootC1409490",e.appendChild(t);var n=document.createElement("script");n.type="text/javascript",n.src="https://jsc.mgid.com/a/n/ansa.it.1409490.js",n.async=!0,e.appendChild(n),(e=document.getElementById("D_2")).innerHTML="",e.id="",(t=document.createElement("div")).id="M830317ScriptRootC1412668",e.appendChild(t),(n=document.createElement("script")).type="text/javascript",n.src="https://jsc.mgid.com/a/n/ansa.it.1412668.js",n.async=!0,e.appendChild(n)}},ptechen.setTargeting=function(){var e=[],t=!1,n=window.WebsiteDetailContainer.pageType;try{for(var i=0;i<window.WebsiteDetailContainer.categories.length;i++)e.push(window.WebsiteDetailContainer.categories[i].replace("hp_","").replace("_all","")),window.WebsiteDetailContainer.categories[i].indexOf("regioni")>-1?t=!0:window.WebsiteDetailContainer.categories[i].indexOf("_home")>-1?(n="section",e.push(window.WebsiteDetailContainer.categories[i].replace("_home",""))):window.WebsiteDetailContainer.categories[i].indexOf("_general")>-1||window.WebsiteDetailContainer.categories[i].indexOf("_default")>-1?(n="post",e.push(window.WebsiteDetailContainer.categories[i].replace("_general","").replace("_default",""))):window.WebsiteDetailContainer.categories[i].indexOf("sport")>-1&&e.push("sport")}catch(t){console.error(t),e=window.WebsiteDetailContainer.categories}try{googletag.pubads().setTargeting("ansa_page",n),googletag.pubads().setTargeting("ansa_categories",e),t&&googletag.pubads().setTargeting("ansa_region",window.location.pathname.split("/")[1])}catch(e){console.error(e)}},ptechen.sizeMapping={desktop:{T_1:[[970,250],[728,90],[970,90],[990,90],[990,250],"fluid"],B_1:[[970,250],[970,90],[728,90]],B_2:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_1:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_2:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_3:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_4:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_5:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_6:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_7:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_8:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],D_1:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600],"fluid"],D_2:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_3:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_4:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_5:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_6:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_7:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_8:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],D_9:[[300,250],[250,250],[200,200],[160,600],[120,600],[300,600]],O_SKIN:[[1,1],[1800,1e3]]},tablet:{T_1:[[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_1:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_2:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_3:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_4:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_5:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_6:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_7:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],C_8:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],B_1:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],B_2:[[300,250],[336,280],[250,250],[200,200],[468,60],[320,50],[320,100],[300,50],[300,100]],D_1:[[300,250],[336,280],[250,250],[200,200]],D_2:[[300,250],[336,280],[320,480],[250,250],[200,200]],D_3:[[300,250],[336,280],[250,250],[200,200]],D_4:[[300,250],[336,280],[250,250],[200,200]],D_5:[[300,250],[336,280],[250,250],[200,200]],D_6:[[300,250],[336,280],[250,250],[200,200]],D_7:[[300,250],[336,280],[250,250],[200,200]],D_8:[[300,250],[336,280],[250,250],[200,200]],D_9:[[300,250],[336,280],[250,250],[200,200]],O_INTERSTITIAL_G:[[1,1]]},mobile:{T_2:[[300,250],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100]],C_1:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300],"fluid"],C_2:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300],[300,600],[120,600],[160,600],"fluid"],C_3:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300]],C_4:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300]],C_5:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300],"fluid"],C_6:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300]],C_7:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300],"fluid"],C_8:[[300,250],[336,280],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100],[300,300],"fluid"],B_1:[[300,250],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100]],B_2:[[300,250],[250,250],[200,200],[320,50],[320,100],[300,50],[300,100]],D_1:[[300,250],[336,280],[250,250],[200,200]],D_2:[[300,250],[336,280],[250,250],[200,200],[300,600],[120,600],[160,600]],D_3:[[300,250],[336,280],[250,250],[200,200]],D_4:[[300,250],[336,280],[250,250],[200,200]],D_5:[[300,250],[336,280],[250,250],[200,200]],D_6:[[300,250],[336,280],[250,250],[200,200]],D_7:[[300,250],[336,280],[250,250],[200,200]],D_8:[[300,250],[336,280],[250,250],[200,200]],D_9:[[300,250],[336,280],[250,250],[200,200]],O_INTERSTITIAL_G:[[1,1]],O_INTERSTITIAL:[[300,250],[320,480],[1,2]]}},ptechen.ssp.smartadserver={siteId:521932,pageId:1631798,currency:"EUR",openmarket:{desktop:{T_1:114274,T_2:114275,C_1:114276,C_2:114277,C_3:114278,C_4:114279,C_5:114280,C_6:114281,C_7:114281,C_8:114281,D_1:114282,D_2:114283,D_3:114284,D_4:114284,D_5:114284,D_6:114284,D_7:114284,D_8:114284,S_1:114284,S_2:114284,B_1:114285,B_2:114286,F_D:114288,O_INTERSTITIAL:114292}}},ptechen.ssp.appnexus={openmarket:{desktop:{T_1:{id:26485488,position:"above"},T_2:{id:26485494,position:"above"},C_1:{id:26485495,position:"above"},C_2:{id:26485496,position:"above"},C_3:{id:26485497,position:"below"},C_4:{id:26485498,position:"below"},C_5:{id:26485500,position:"below"},C_6:{id:26485501,position:"below"},C_7:{id:26485515,position:"below"},C_8:{id:26485516,position:"below"},D_1:{id:26485502,position:"above"},D_2:{id:26485503,position:"below"},D_3:{id:26485508,position:"below"},D_4:{id:26485509,position:"below"},D_5:{id:26485510,position:"below"},D_6:{id:26485511,position:"below"},D_7:{id:26485513,position:"below"},D_8:{id:26485514,position:"below"},S_1:{id:26485514,position:"above"},S_2:{id:26485514,position:"above"},B_1:{id:26485519,position:"below"},B_2:{id:26485520,position:"below"},O_INTERSTITIAL:{id:26485523,position:"above"},F_D:{id:26485522,position:"above"}}}},ptechen.ssp.rubicon={accountId:"17356",openmarket:{desktop:{siteId:"434940",T_1:{id:"2489842",position:"atf"},T_2:{id:"2489846",position:"atf"},C_1:{id:"2489850",position:"atf"},C_2:{id:"2489854",position:"atf"},C_3:{id:"2489858",position:"btf"},C_4:{id:"2489862",position:"btf"},C_5:{id:"2489866",position:"btf"},C_6:{id:"2489870",position:"btf"},C_7:{id:"2489914",position:"btf"},C_8:{id:"2489916",position:"btf"},D_1:{id:"2489874",position:"atf"},D_2:{id:"2489878",position:"btf"},D_3:{id:"2489882",position:"btf"},D_4:{id:"2489918",position:"btf"},D_5:{id:"2489920",position:"btf"},D_6:{id:"2489922",position:"btf"},D_7:{id:"2489924",position:"btf"},D_8:{id:"2489926",position:"btf"},S_1:{id:"2489926",position:"atf"},S_2:{id:"2489926",position:"atf"},B_1:{id:"2489886",position:"btf"},B_2:{id:"2489890",position:"btf"},F_D:{id:"2489898",position:"atf"},O_INTERSTITIAL:{id:"2489928",position:"atf"},O_SKIN:{id:"2756146",position:"atf"}}}},ptechen.ssp.teads={openmarket:{desktop:{C_1:{placementId:169429,pageId:155025},C_2:{placementId:167017,pageId:152771},C_3:{placementId:167017,pageId:152771},C_4:{placementId:167017,pageId:152771},C_5:{placementId:167017,pageId:152771},C_6:{placementId:167017,pageId:152771},C_7:{placementId:167017,pageId:152771},C_8:{placementId:167017,pageId:152771},D_1:{placementId:169429,pageId:155025},D_2:{placementId:169429,pageId:155025},D_3:{placementId:168050,pageId:153711},D_4:{placementId:168050,pageId:153711},D_5:{placementId:168050,pageId:153711},D_6:{placementId:168050,pageId:153711},D_7:{placementId:168050,pageId:153711},D_8:{placementId:168050,pageId:153711},B_1:{placementId:168050,pageId:153711}},mobile:{C_2:{placementId:167018,pageId:152772},C_3:{placementId:167018,pageId:152772},C_4:{placementId:167018,pageId:152772},C_5:{placementId:167018,pageId:152772},C_6:{placementId:167018,pageId:152772},C_7:{placementId:167018,pageId:152772},C_8:{placementId:167018,pageId:152772},D_1:{placementId:167018,pageId:152772},D_2:{placementId:167018,pageId:152772},D_3:{placementId:167018,pageId:152772},D_4:{placementId:167018,pageId:152772},D_5:{placementId:167018,pageId:152772},D_6:{placementId:167018,pageId:152772},D_7:{placementId:167018,pageId:152772},D_8:{placementId:167018,pageId:152772}}}},ptechen.ssp.criteo={openmarket:{desktop:{T_2:8641,T_1:8641,F_D:8641,S_2:8641,S_1:8641,D_8:8641,D_7:8641,D_6:8641,D_5:8641,D_4:8641,D_3:8641,D_2:8641,D_1:8641,C_8:8641,C_7:8641,C_6:8641,C_5:8641,C_4:8641,C_3:8641,C_2:8641,C_1:8641,B_2:8641,B_1:8641,O_INTERSTITIAL:8641}}},ptechen.ssp.openx={openmarket:{desktop:{C_1:"557730278",C_2:"557730279",C_3:"557730280",C_4:"557730281",C_5:"557730282",C_6:"557730283",C_7:"557730284",C_8:"557730285",F_D:"557730297",O_INTERSTITIAL:"557730298",T_1:"557730276",T_2:"557730277",B_1:"557730294",B_2:"557730295",D_1:"557730286",D_2:"557730287",D_3:"557730288",D_4:"557730289",D_5:"557730290",D_6:"557730291",D_7:"557730292",D_8:"557730293",S_1:"557730293",S_2:"557730293"}}},ptechen.ssp.improvedigital={openmarket:{desktop:{O_INTERSTITIAL:22863284,C_1:22863295,C_6:22863295,D_1:22863293,T_1:22863289}}},ptechen.ssp.pubmatic={openmarket:{desktop:{publisherId:"159373",T_1:"4569783",T_2:"4569784",C_1:"4569785",C_2:"4569786",C_3:"4569787",C_4:"4569788",C_5:"4569789",C_6:"4569790",C_7:"4569791",C_8:"4569792",D_1:"4569793",D_2:"4569794",D_3:"4569795",D_4:"4569796",D_5:"4569797",D_6:"4569798",D_7:"4569799",D_8:"4569800",S_1:"4569800",S_2:"4569800",B_1:"4569803",B_2:"4569804",F_D:"4569802",O_INTERSTITIAL:"4569805"}}},ptechen.ssp.richaudience={openmarket:{desktop:{T_1:"liQAtBBAA5",T_2:"Ts5lBrnoN5",C_1:"eCsO8N5SHn",C_2:"NZTteoDn1J",C_3:"acybb75CUy",C_4:"wfhRne6Ojc",C_5:"UX5yatgq7H",C_6:"veKZPcI5fp",C_7:"9x75oaIJXo",C_8:"xU3DWgKc2U",D_1:"uAJEFrprSI",D_2:"bvCDuc1vq3",D_3:"6Fbya7AQMs",D_4:"Hm9wTHNFlA",D_5:"FPG2DrT4GL",D_6:"nZSxmCdFNr",D_7:"QGOBGfFfYh",D_8:"l8cWaMtwXD",S_1:"l8cWaMtwXD",S_2:"l8cWaMtwXD",B_1:"Ai2MjBWs72",B_2:"8mNOCGXRpb",F_D:"L0QicKUNvb",O_INTERSTITIAL:"e65EfdoBMg"}}},ptechen.ssp.ix={openmarket:{desktop:{T_1:"850621",T_2:"850622",C_1:"850620",C_2:"850623",C_3:"850619",C_4:"850626",C_5:"850625",C_6:"850624",C_7:"850627",C_8:"850628",B_1:"850637",B_2:"850638",D_1:"850629",D_2:"850630",D_3:"850631",D_4:"850632",D_5:"850633",D_6:"850634",D_7:"850635",D_8:"850636",S_1:"850636",S_2:"850636",F_D:"850640",O_INTERSTITIAL:"850641"}}},ptechen.ssp.adagio={C_1:1,C_2:1,C_3:1,C_4:1,C_5:1,C_6:1,C_7:1,C_8:1,D_1:1,D_2:1,D_3:1,D_4:1,D_5:1,D_6:1,D_7:1,D_8:1,T_1:1,T_2:1,B_1:1,B_2:1,S_1:1,S_2:1,F_D:1,O_INTERSTITIAL:1},ptechen.ssp.onetag={C_1:1,C_2:1,C_3:1,C_4:1,C_5:1,C_6:1,C_7:1,C_8:1,D_1:1,D_2:1,D_3:1,D_4:1,D_5:1,D_6:1,D_7:1,D_8:1,T_1:1,T_2:1,B_1:1,B_2:1,S_1:1,S_2:1,F_D:1,O_INTERSTITIAL:1},ptechen.ssp.triplelift={D_1:"ansa_300x600_prebid",D_2:"ansa_300x250_prebid",D_3:"ansa_300x250_prebid",C_1:"ansa_300x600_prebid",C_2:"ansa_300x250_prebid",T_1:"ansa_970x250_prebid",B_1:"ansa_970x250_prebid",O_INTERSTITIAL:"ansa_320x480_prebid"},ptechen.ssp.outbrain={T_1:"ATF-3/ansait_T_1",C_1:"ATF-2/ansait_C_1",C_2:"ATF-2/ansait_C_2",C_3:"BTF-2/ansait_C_3",C_4:"BTF-2/ansait_C_4",C_5:"BTF-2/ansait_C_5",C_6:"BTF-2/ansait_C_6",D_1:"ATF-3/ansait_D_1",D_2:"BTF-3/ansait_D_2",D_3:"BTF-3/ansait_D_3",D_4:"BTF-3/ansait_D_4",D_5:"BTF-3/ansait_D_5",D_6:"BTF-3/ansait_D_6",D_7:"BTF-3/ansait_D_7",D_8:"BTF-3/ansait_D_8",S_1:"BTF-3/ansait_D_8",S_2:"BTF-3/ansait_D_8",B_1:"BTF-3/ansait_B_1",O_INTERSTITIAL:"ATF-2/ansait_C_1"},ptechen.ssp.connectad={siteId:"1068746",openmarket:{desktop:{T_1:1,C_1:1,C_2:1,C_3:1,C_4:1,C_5:1,C_6:1,D_1:1,D_2:1,D_3:1,D_4:1,D_5:1,D_6:1,D_7:1,D_8:1,S_1:1,S_2:1,B_1:1}}};var El=function(e,t){t?"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||(e.purpose&&e.purpose.consents&&!0===e.purpose.consents[1]&&!0===e.purpose.consents[2]&&!0===e.purpose.consents[7]&&!0===e.purpose.consents[9]&&!0===e.purpose.consents[10]||(ptechen.enableProfiling=!1),window.dispatchEvent(new Event("cookie_accepted")),void 0!==ptechen.startAll?ptechen.startAll():ptechen.cmd.push((function(){ptechen.startAll()})),__tcfapi("removeEventListener",2,(function(){}),e.listenerId)):(ptechen.tcfAvailable=!1,void 0!==ptechen.startAll?ptechen.startAll():ptechen.cmd.push((function(){ptechen.startAll()})))};if("undefined"!=typeof __tcfapi)__tcfapi("addEventListener",2,El);else var wl=0,Sl=setInterval((function(){wl++,"undefined"!=typeof __tcfapi?(__tcfapi("addEventListener",2,El),clearInterval(Sl)):wl>=100&&(console.log("counter NOT added listener "+wl),ptechen.tcfAvailable=!1,clearInterval(Sl),void 0!==ptechen.startAll?ptechen.startAll():ptechen.cmd.push((function(){ptechen.startAll()})))}),100);qe.processQueue(),ptechen.insertAfter=function(e,t){cl(e,t,!0)},ptechen.insertBefore=function(e,t){cl(e,t,!1)},ptechen.getCookie=il,ptechen.setCookie=rl,ptechen.findGetParameter=function(e){const t=(n=window.location.search,n?n.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[n,i]=t.split("=");return/\[\]$/.test(n)?(n=n.replace("[]",""),e[n]=e[n]||[],e[n].push(i)):e[n]=i||"",e}),{}):{})[e];var n;return"string"==typeof t&&t.length>0?t:null};const Cl=new class{constructor(e,t){Ku(this,el,{writable:!0,value:Qu.MOBILE}),Ku(this,tl,{writable:!0,value:Qu.MOBILE}),Ku(this,nl,{writable:!0,value:Qu.MOBILE}),[Qu.DESKTOP,Qu.MOBILE].includes(t)?(Ju(this,el,t),Ju(this,tl,t)):this.isDesktopWidth(e)?(Ju(this,el,Qu.DESKTOP),Ju(this,tl,Qu.DESKTOP)):this.isTabletWidth(e)&&(Ju(this,el,Qu.TABLET),Ju(this,tl,Qu.DESKTOP)),this.isDesktopWidth(e)?Ju(this,nl,Qu.DESKTOP):this.isTabletWidth(e)&&Ju(this,nl,Qu.TABLET)}get device(){return Xu(this,el)}get deviceSSP(){return Xu(this,tl)}get trackedDevice(){return Xu(this,nl)}isDesktopWidth(e){return e>=1025}isTabletWidth(e){return e>=768&&e<1025}}(ptechen.width,ptechen.forceDevice);ptechen.device=Cl.device,ptechen.device_for_ssp=Cl.deviceSSP,(ptechen.findGetParameter("debug_pubtech")||ptechen.getCookie("debug_pubtech"))&&(ptechen.isDebug=!0,ptechen.logPrebid=!0);const Al=new Gu(window.console,ptechen.isDebug);Al.debug("Engine Custom (•_•)' v2.3 ♎"),window.googletag&&googletag.apiReady?qe.que.push((function(){ptechen.googleReady=1,window.dispatchEvent(new Event("googleGptReady"))})):googletag.cmd.push((function(){qe.que.push((function(){ptechen.googleReady=1,window.dispatchEvent(new Event("googleGptReady"))}))})),String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),ptechen.loadExternalTools=function(){var e,t,n,i,r;null!==ptechen.pubstack_id&&(e=window,t="Pubstack",n=ptechen.pubstack_id,(i=e.pbstck=e.pbstck||{}).sdk=i.sdk||{},(r=i.sdk[n]=i.sdk[n]||{}).g=t,r.q=r.q||[],e[t]={cmd:function(){var e=arguments;r.q.push(["cmd",e]),(r.p||[]).forEach((function(t){t(["cmd",e])}))}},hl.loadScript("https://boot.pbstck.com/v1/tag/"+ptechen.pubstack_id,null,"pubstack"))},ptechen.requestManager=[],ptechen.sendAdserverRequest=function(e,t){void 0!==ptechen.requestManager[e]?!0!==ptechen.requestManager[e].adserverRequestSent?(ptechen.requestManager[e].adserverRequestSent=!0,googletag.pubads().refresh([t])):Al.debug("== AMAZON ADSERVER REQUEST ALREADY SENT ==> ",e):Al.debug("== AMAZON ADSERVER REQUEST UNDEFINED ==> ",e)},ptechen.biddersBack=function(e,t){return ptechen.requestManager[e].aps&&ptechen.requestManager[e].prebid&&(Al.debug("== AMAZON: READY SEND AD REQUEST ==="),ptechen.sendAdserverRequest(e,t)),!0},ptechen.refreshBidAmazon=function(e,t,n){Al.debug("refresh bid amazon"),ptechen.requestManager[e]={adserverRequestSent:!1,aps:!1,prebid:!1},Al.debug(ptechen.requestManager);try{apstag.fetchBids({slots:[n],timeout:ptechen.prebidRequestTimeout},(function(){apstag.setDisplayBids(),ptechen.requestManager[e].aps=!0,Al.debug("== AMAZON REFRESHING ==> ",e),ptechen.biddersBack(e,t)})),qe.requestBids({timeout:ptechen.prebidRequestTimeout,adUnitCodes:[e],bidsBackHandler:function(){qe.setTargetingForGPTAsync([e]),ptechen.requestManager[e].prebid=!0,Al.debug("== PREBID REFRESHING ==> ",e),ptechen.biddersBack(e,t)}})}catch(n){Al.error(n),Al.debug("AMAZON ERROR ==> CLASSIC REFRESH BID"),qe.requestBids({timeout:ptechen.prebidRequestTimeout,adUnitCodes:[e],bidsBackHandler:function(){qe.setTargetingForGPTAsync([e]),googletag.pubads().refresh([t]),Al.debug("== REFRESHING ==> ",[e])}})}window.setTimeout((function(){ptechen.sendAdserverRequest(e,t)}),2e3)};var xl=function(e,t){if(""!==e&&0!==e.length)return!0===ptechen.amazon.display&&"undefined"!=typeof apstag&&1===e.length&&void 0!==e[0]&&void 0!==t[0]&&void 0!==ptechen.amazon_slots&&void 0!==ptechen.amazon_slots[e[0]]?(Al.debug("== AD UNIT FOUND FOR AMAZON STARTING......"),void ptechen.refreshBidAmazon(e[0],t[0],ptechen.amazon_slots[e[0]])):void qe.requestBids({timeout:ptechen.prebidRequestTimeout,adUnitCodes:e,bidsBackHandler:function(){qe.setTargetingForGPTAsync(e),googletag.pubads().refresh(t),Al.debug("== REFRESHING ==> ",e)}})},Ol=function(e,t){""!==e&&0!==e.length&&qe.requestBids({timeout:ptechen.prebidRequestTimeout,adUnitCodes:e,bidsBackHandler:function(){qe.setTargetingForGPTAsync(e),googletag.pubads().refresh(t),Al.debug("== REFRESHING ==> ",e)}})},kl=function(e){""!==e&&0!==e.length&&qe.requestBids({timeout:ptechen.prebidRequestTimeout,adUnitCodes:e,bidsBackHandler:function(){qe.setTargetingForGPTAsync(e),Al.debug("== REFRESHING ==> ",e);for(var t=0;t<e.length;t++)Rl(qe.getHighestCpmBids(e[t]),e[t])}})},Dl=function(e,t){var n=new CustomEvent("slotRenderEnded",{detail:{id:e,isEmpty:t},bubbles:!0});window.dispatchEvent(n)},Rl=function(e,t){if(0===e.length)return Al.error("no bid"),void Dl(t,!0);e=e[0];var n=document.getElementById(e.adUnitCode);if(null===n)return Dl(t,!0),Al.error("unable to find div for ad");n.innerHTML="",n.setAttribute("data-hb-query-id",e.adId);var i=document.createElement("div"),r="ifrm_"+e.adUnitCode,o=e.adId,a=document.createElement("iframe");a.setAttribute("id",r),a.setAttribute("scrolling","no"),a.setAttribute("style","border:0px;"),a.setAttribute("marginwidth","0"),a.setAttribute("marginheight","0"),a.setAttribute("height","0"),a.setAttribute("width","0"),i.appendChild(a),n.appendChild(i);var s=document.getElementById(r).contentWindow.document;Dl(t,!1),qe.renderAd(s,o)};ptechen.autoRefresh=function(){var e=function(e){ptechen.autoRefreshSettings.adunits.indexOf(e)>-1&&(void 0===ptechen.refreshMapping[e]?(ptechen.refreshMapping[e]={},ptechen.refreshMapping[e].count=1,ptechen.refreshMapping[e].tentative_view=1,ptechen.refreshMapping[e].time=(new Date).getTime()):(ptechen.refreshMapping[e].time=(new Date).getTime(),++ptechen.refreshMapping[e].count)),Al.debug(new Date+" == REFRESH == : slotRenderEnded, showing refreshMapping array"),Al.debug(ptechen.refreshMapping)};googletag.pubads().addEventListener("slotRenderEnded",(function(t){e(t.slot.getSlotElementId(),t.isEmpty)})),window.addEventListener("slotRenderEnded",(function(t){e(t.detail.id,t.detail.isEmpty)}));var t={},n=setInterval((function(){for(var e=[],i=[],r=[],o=0;o<ptechen.autoRefreshSettings.adunits.length;o++){let n=ptechen.autoRefreshSettings.adunits[o];if(void 0!==ptechen.refreshMapping[n]){var a=document.getElementById(n);if(!Object.prototype.hasOwnProperty.call(ptechen.sizeMapping[ptechen.device],n)||ptechen.refreshMapping[n].count>10||ptechen.refreshMapping[n].tentative_view>=45||null===a||void 0===ptechen.slots[n])r.push(n),Al.debug("== REFRESH == : "+n+" NOT MEETING CRITERIA, REMOVING");else if(ul(a)){if((new Date).getTime()-ptechen.refreshMapping[n].time>=ptechen.autoRefreshSettings.interval){if(2===ptechen.refreshMapping[n].count&&"T_1"===n)try{Al.debug("Reached 3 count for T_1, destroy"),googletag.destroySlots([ptechen.slots.T_1]),qe.removeAdUnit("T_1"),ptechen.sizeMapping[ptechen.device].T_1.push([300,250]),ptechen.sizeMapping[ptechen.device].T_1.push([300,100]),ptechen.sizeMapping[ptechen.device].T_1.push([300,50]),ptechen.sizeMapping[ptechen.device].T_1.push([320,50]),ptechen.sizeMapping[ptechen.device].T_1.push([320,100]),ptechen.sizeMapping[ptechen.device].T_1.push([468,60]),ptechen.sizeMapping[ptechen.device].T_1.push([200,200]);var s=ptechen.setUpBids("T_1");qe.addAdUnits(s),ptechen.slots.T_1=googletag.defineSlot(ptechen.fullNameAd+"T_1",ptechen.sizeMapping[ptechen.device].T_1,"T_1").addService(googletag.pubads()).setTargeting("SPurl",ptechen.SPurl).setTargeting("Refresh",ptechen.refreshMapping[n].count).setTargeting("pagina",ptechen.page_targeting).setCollapseEmptyDiv(!1),Al.debug("Defined slot, refresh")}catch(e){console.error(e)}e.push(ptechen.slots[n]),i.push(n),Al.debug(new Date+" == REFRESH == : AUTO REFRESHING "+n)}}else++ptechen.refreshMapping[n].tentative_view,Al.debug(new Date+" == REFRESH == : "+n+" NOT IN VIEW, ADDING TENTATIVE No. "+ptechen.refreshMapping[n].tentative_view)}else Al.debug(new Date+" == REFRESH == : "+n+" NOT DEFINED BECAUSE NOT CALLED EVEN ONCE. ADDING TENTATIVE"),void 0===t[n]&&(t[n]=0),t[n]<45?t[n]++:(Al.debug(new Date+" == REFRESH == : "+n+" NEVER LOADED, REMOVING"),r.push(n))}!function(e,t){if(Al.debug("Refreshing Adunit in autorefresh method "),e.length>0)for(let n=0;n<e.length;n++)Al.debug("Clear targeting for "+e[n]),t[n].clearTargeting("Refresh"),t[n].setTargeting("Refresh",ptechen.refreshMapping[e[n]].count.toString()),Al.debug("Get targeting keys ",t[n].getTargetingKeys()),Al.debug("autorefresh "+e[n]),ptechen.refreshBid([e[n]],[t[n]])}(i,e);for(let e=0;e<r.length;e++){var d=ptechen.autoRefreshSettings.adunits.indexOf(r[e]);ptechen.autoRefreshSettings.adunits.splice(d,1)}0===ptechen.autoRefreshSettings.adunits.length&&(Al.debug(new Date+" == REFRESH == : CLEARING INTERVAL AUTOREFRESH"),clearInterval(n))}),1e4)};var Nl={smartadserver:function(e,t,n){var i,r,o=Qu.DESKTOP,a=null,s=null;return void 0===t.siteId||"undefined"===t.pageId?null:(i=t.siteId,r=t.pageId,void 0!==e.openmarket&&void 0!==t.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(o=ptechen.device_for_ssp),void 0!==t.openmarket[o]&&void 0!==t.openmarket[o][n]&&(s=t.openmarket[o][n],a=e.openmarket)),null!==s&&null!==a?{bidder:a,params:{siteId:i,pageId:r,formatId:s,domain:"https://prg.smartadserver.com",currency:"EUR"}}:null)},appnexus:function(e,t,n){var i=Qu.DESKTOP;return void 0!==e.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{placement_id:t.openmarket[i][n].id,position:t.openmarket[i][n].position}}:void 0!==e.pbserver&&(void 0!==t.pbserver[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.pbserver&&void 0!==t.pbserver[i]&&void 0!==t.pbserver[i][n])?{bidder:e.pbserver,params:{placementId:t.pbserver[i][n].id,position:t.pbserver[i][n].position}}:null},rubicon:function(e,t,n){var i=Qu.DESKTOP;return void 0!==e.openmarket&&void 0!==t.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{accountId:t.accountId,siteId:t.openmarket[i].siteId,zoneId:t.openmarket[i][n].id,position:t.openmarket[i][n].position}}:null},teads:function(e,t,n){var i=Qu.DESKTOP;return void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n]?{bidder:e.openmarket,params:{pageId:t.openmarket[i][n].pageId,placementId:t.openmarket[i][n].placementId}}:null},ix:function(e,t,n){var i=Qu.DESKTOP;return void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n]?{bidder:e.openmarket,params:{siteId:t.openmarket[i][n]}}:null},improvedigital:function(e,t,n){var i=Qu.DESKTOP;return void 0!==t.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{placementId:t.openmarket[i][n],publisherId:974}}:null},seedtag:function(e,t,n){var i=Qu.DESKTOP,r="inArticle";return"F_M"===n?r="inScreen":null===n.match(/C_/g)&&(r="inBanner"),void 0!==t.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{adUnitId:t.openmarket[i][n],publisherId:t.publisherId,placement:r}}:null},criteo:function(e,t,n){var i=Qu.DESKTOP;return void 0!==t.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{networkId:t.openmarket[i][n],publisherSubId:ptechen.fullNameAd+n}}:null},pubmatic:function(e,t,n){var i=Qu.DESKTOP;return void 0!==e.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{publisherId:t.openmarket[i].publisherId,adSlot:t.openmarket[i][n]}}:null},connectad:function(e,t,n){var i=Qu.DESKTOP;return void 0!==e.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{networkId:"10047",siteId:t.siteId}}:null},openx:function(e,t,n){var i=Qu.DESKTOP;return void 0!==e.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{delDomain:"talksmedia-d.openx.net",unit:t.openmarket[i][n]}}:null},smilewanted:function(e,t,n){var i=Qu.DESKTOP;return void 0!==e.openmarket&&(void 0!==t.openmarket[Qu.MOBILE]&&(i=ptechen.device_for_ssp),void 0!==t.openmarket&&void 0!==t.openmarket[i]&&void 0!==t.openmarket[i][n])?{bidder:e.openmarket,params:{zoneId:t.openmarket[i][n],positionType:"infeed"}}:null},richaudience:function(e,t,n){return void 0!==t.openmarket&&void 0!==t.openmarket[Qu.DESKTOP]&&void 0!==t.openmarket[Qu.DESKTOP][n]?{bidder:e.openmarket,params:{pid:t.openmarket[Qu.DESKTOP][n],supplyType:"site"}}:null},invibes:function(e,t,n){return void 0!==t&&void 0!==t[ptechen.device_for_ssp]&&void 0!==t[ptechen.device_for_ssp][n]?{bidder:e.openmarket,params:{placementId:t[ptechen.device_for_ssp][n],customEndpoint:"https://bid4.videostep.com/Bid/VideoAdContent"}}:null},yahoossp:function(e,t,n){return void 0!==t&&void 0!==t[n]?{bidder:e,params:{dcn:t.siteId,pos:t[n]}}:null},adagio:function(e,t,n){return void 0!==t&&void 0!==t[n]?{bidder:e,params:{organizationId:"1098",site:ptechen.slug,placement:n,adUnitElementId:n,environment:ptechen.device}}:null},onetag:function(e,t,n){return void 0!==t&&void 0!==t[n]?{bidder:e,params:{pubId:"59fbfa9a15bf3b1",ext:{placement_name:ptechen.slug+"_"+n}}}:null},outbrain:function(e,t,n){return void 0!==t&&void 0!==t[n]?{bidder:e,params:{publisher:{id:"0055b984702ae2131ccb72cfc5e0cb4df4"},bcat:["IAB14-1","IAB15-1","IAB9-20","IAB7-44","IAB11","IAB11-4","IAB23","IAB26","IAB25","IAB7","IAB1-2","IAB12","IAB14","IAB15-5","IAB24","IAB1","IAB1-4","IAB13"],badv:ptechen.blockOutbrainUrl,tagid:t[n]}}:null},gumgum:function(e,t,n){return void 0!==t&&void 0!==t[n]&&void 0!==t.zoneId?{bidder:e,params:{zone:t.zoneId,slot:t[n]}}:null},triplelift:function(e,t,n){return void 0!==t&&void 0!==t[n]?{bidder:e,params:{inventoryCode:t[n]}}:null},sublime:function(e,t,n){return void 0!==t&&void 0!==t[n]?{bidder:e,params:{zoneId:t[n].zoneId,notifyId:t[n].notifyId}}:null}};for(ptechen.setUpBids=function(e,t,n){var i=e,r=null,o=null;void 0!==t&&(i=t);var a=ptechen.sizeMapping[ptechen.device][e].slice();void 0!==n&&(a=n);let s=a.indexOf("fluid");s>-1&&a.splice(s,1);var d={code:i,pubstack:{adUnitName:e,adUnitPath:ptechen.fullNameAd+e},mediaTypes:{banner:{sizes:a}},bids:[]};try{void 0!==ptechen.ssp.appnexus&&void 0!==ptechen.ssp.appnexus.openmarket&&(o="appnexus",!1===ptechen.enableProfiling&&(o="NoConsentAppnexus"),null!==(r=Nl.appnexus({openmarket:o},ptechen.ssp.appnexus,e))&&d.bids.push(r)),void 0!==ptechen.ssp.sublimeIntro&&void 0!==ptechen.ssp.sublimeIntro.openmarket&&(o="sublimeIntro",!1===ptechen.enableProfiling&&(o="NoConsentSublimeIntro"),null!==(r=Nl.appnexus({openmarket:o},ptechen.ssp.sublimeIntro,e))&&d.bids.push(r)),void 0!==ptechen.ssp.appnexus&&void 0!==ptechen.ssp.appnexus.pbserver&&(o="pbserver",!1===ptechen.enableProfiling&&(o="NoConsentPbserver"),null!==(r=Nl.appnexus({pbserver:o},ptechen.ssp.appnexus,e))&&d.bids.push(r)),void 0!==ptechen.ssp.teads&&(o="teads",!1===ptechen.enableProfiling&&(o="NoConsentTeads"),null!==(r=Nl.teads({openmarket:o},ptechen.ssp.teads,e))&&d.bids.push(r)),void 0!==ptechen.ssp.seedtag&&(o="seedtag",!1===ptechen.enableProfiling&&(o="NoConsentSeedtag"),null!==(r=Nl.seedtag({openmarket:o},ptechen.ssp.seedtag,e))&&d.bids.push(r)),void 0!==ptechen.ssp.ix&&(o="ix",!1===ptechen.enableProfiling&&(o="NoConsentIx"),null!==(r=Nl.ix({openmarket:o},ptechen.ssp.ix,e))&&d.bids.push(r)),void 0!==ptechen.ssp.criteo&&(o="criteo",!1===ptechen.enableProfiling&&(o="NoConsentCriteo"),null!==(r=Nl.criteo({openmarket:o},ptechen.ssp.criteo,e))&&d.bids.push(r)),void 0!==ptechen.ssp.openx&&(o="openx",!1===ptechen.enableProfiling&&(o="NoConsentOpenx"),null!==(r=Nl.openx({openmarket:o},ptechen.ssp.openx,e))&&d.bids.push(r)),void 0!==ptechen.ssp.rubicon&&void 0!==ptechen.ssp.rubicon.openmarket&&(o="rubicon",!1===ptechen.enableProfiling&&(o="NoConsentRubicon"),null!==(r=Nl.rubicon({openmarket:o},ptechen.ssp.rubicon,e))&&d.bids.push(r)),void 0!==ptechen.ssp.connectad&&(o="connectad",!1===ptechen.enableProfiling&&(o="NoConsentConnectad"),null!==(r=Nl.connectad({openmarket:o},ptechen.ssp.connectad,e))&&d.bids.push(r)),void 0!==ptechen.ssp.smartadserver&&(o="smartadserver",!1===ptechen.enableProfiling&&(o="NoConsentSmartadserver"),null!==(r=Nl.smartadserver({openmarket:o},ptechen.ssp.smartadserver,e))&&d.bids.push(r)),void 0!==ptechen.ssp.pubmatic&&(o="pubmatic",!1===ptechen.enableProfiling&&(o="NoConsentPubmatic"),null!==(r=Nl.pubmatic({openmarket:o},ptechen.ssp.pubmatic,e))&&d.bids.push(r)),void 0!==ptechen.ssp.improvedigital&&(o="improvedigital",!1===ptechen.enableProfiling&&(o="NoConsentImprovedigital"),null!==(r=Nl.improvedigital({openmarket:o},ptechen.ssp.improvedigital,e))&&d.bids.push(r)),void 0!==ptechen.ssp.smilewanted&&(o="smilewanted",!1===ptechen.enableProfiling&&(o="NoConsentSmilewanted"),null!==(r=Nl.smilewanted({openmarket:o},ptechen.ssp.smilewanted,e))&&d.bids.push(r)),void 0!==ptechen.ssp.richaudience&&(o="richaudience",!1===ptechen.enableProfiling&&(o="NoConsentRichaudience"),null!==(r=Nl.richaudience({openmarket:o},ptechen.ssp.richaudience,e))&&d.bids.push(r)),void 0!==ptechen.ssp.invibes&&(o="invibes",!1===ptechen.enableProfiling&&(o="NoConsentInvibes"),null!==(r=Nl.invibes({openmarket:o},ptechen.ssp.invibes,e))&&d.bids.push(r)),void 0!==ptechen.ssp.yahoossp&&(o="yahoossp",!1===ptechen.enableProfiling&&(o="NoConsentYahoossp"),null!==(r=Nl.yahoossp(o,ptechen.ssp.yahoossp,e))&&d.bids.push(r)),void 0!==ptechen.ssp.adagio&&(o="adagio",!1===ptechen.enableProfiling&&(o="NoConsentAdagio"),null!==(r=Nl.adagio(o,ptechen.ssp.adagio,e))&&d.bids.push(r)),void 0!==ptechen.ssp.onetag&&(o="onetag",!1===ptechen.enableProfiling&&(o="NoConsentOnetag"),null!==(r=Nl.onetag(o,ptechen.ssp.onetag,e))&&d.bids.push(r)),void 0!==ptechen.ssp.outbrain&&(o="outbrain",!1===ptechen.enableProfiling&&(o="NoConsentOutbrain"),null!==(r=Nl.outbrain(o,ptechen.ssp.outbrain,e))&&d.bids.push(r)),void 0!==ptechen.ssp.gumgum&&(o="gumgum",!1===ptechen.enableProfiling&&(o="NoConsentGumgum"),null!==(r=Nl.gumgum(o,ptechen.ssp.gumgum,e))&&d.bids.push(r)),void 0!==ptechen.ssp.triplelift&&(o="triplelift",!1===ptechen.enableProfiling&&(o="NoConsentTriplelift"),null!==(r=Nl.triplelift(o,ptechen.ssp.triplelift,e))&&d.bids.push(r)),void 0!==ptechen.ssp.sublime&&(o="sublime",!1===ptechen.enableProfiling&&(o="NoConsentSublime"),null!==(r=Nl.sublime(o,ptechen.ssp.sublime,e))&&d.bids.push(r))}catch(e){Al.error(e)}return Al.debug("==== BID CONTAINER ===="),Al.debug(d),d},ptechen.addAmazonSlot=function(e,t){var n=e;void 0!==t&&(n=t),null===e.match(/C_/g)&&null===e.match(/D_/g)&&null===e.match(/T_/g)&&null===e.match(/F_/g)&&null===e.match(/INTERSTITIAL/g)||(ptechen.amazon_slots[n]={slotID:n,slotName:ptechen.fullNameAd+e,sizes:ptechen.sizeMapping[ptechen.device][e]})},ptechen.trackView=function(){if(!0!==ptechen.disableAds&&!1!==ptechen.enableProfiling){var e=document.createElement("script"),t=document.getElementsByTagName("head")[0];e.src="https://plausible.pubtech.ai/js/plausible.js",e.setAttribute("data-cfasync","false"),e.setAttribute("data-domain","ansa.it"),e.setAttribute("defer","true"),t.insertBefore(e,t.firstChild)}},ptechen.loadEngine=function(){!0===ptechen.trackPageView&&ptechen.trackView(),ptechen.loadExternalTools(),!0===ptechen.enableProfiling?!0===ptechen.amazon.display?ptechen.refreshBid=xl:ptechen.refreshBid=Ol:ptechen.refreshBid=kl;try{var e=function(e){if(void 0!==e){var t=e.connection||e.mozConnection||e.webkitConnection;if(null!=t&&null!=t.effectiveType)return t.effectiveType}}(window.navigator);"slow-2g"!==e&&"2g"!==e||(ptechen.prebidRequestTimeout=3500),"3g"===e&&(ptechen.prebidRequestTimeout=3e3)}catch(e){Al.error(e)}!0!==ptechen.amazon.display&&!0!==ptechen.amazon.video||(!function(e,t,n,i,r,o,a){function s(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=n.createElement(i)).async=!0,o.src="https://c.amazon-adsystem.com/aax2/apstag.js",o.setAttribute("data-cfasync","false"),(a=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,a))}("apstag",window,document,"script"),apstag.init({pubID:"a5c784f6-3660-4fb4-ac92-1fbb63d9e44d",videoAdServer:"DFP",adServer:"googletag",isSelfServePub:!0,gdpr:{cmpTimeout:500},schain:{complete:1,ver:"1.0",nodes:[{asi:"talksmedia.it",sid:ptechen.sellerId,hp:1}]}})),Al.debug("loaded engine "+al());try{if("undefined"!=typeof ads_targeting_map&&null!==ads_targeting_map)void 0!==ads_targeting_map.category&&ads_targeting_map.category.length>=1&&(ptechen.section_targeting=ads_targeting_map.category),void 0!==ads_targeting_map.page&&""!==ads_targeting_map.page&&(ptechen.page_targeting=ads_targeting_map.page);else{var t=document.querySelector("meta[property='og:type']");if(null!==t){var n=t.getAttribute("content");null!==n&&"article"===n&&(ptechen.page_targeting="articolo")}void 0!==document.body&&void 0!==document.body.className&&(document.body.className.split(" ").indexOf("home")>=0?ptechen.page_targeting="homepage":void 0!==window.location&&void 0!==window.location.pathname&&("/"!==window.location.pathname&&""!==window.location.pathname||(ptechen.page_targeting="homepage"))),void 0!==window.location&&window.location.hostname.indexOf("forum")>=0&&(ptechen.page_targeting="forum");var i=function(e){if(null!==e){let n=e.getAttribute("content");if(null!==n&&""!==n){let e=n.split(",");for(var t=0;t<e.length;t++)ptechen.section_targeting.push(e[t].trim())}}};let e=document.querySelector("meta[property='og:section']"),r=document.querySelector("meta[property='article:section']");i(e),i(r)}}catch(e){Al.error(e)}try{ptechen.addFormats()}catch(e){Al.error(e)}if(void 0===ptechen.disableAds||!0!==ptechen.disableAds){if(!0===ptechen.isDebug||ptechen.findGetParameter("banner_debug")){console.log("%c Pubtech.ai Banner Debug","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)");var r=[],o=0;for(var a in ptechen.sizeMapping[ptechen.device])Object.prototype.hasOwnProperty.call(ptechen.sizeMapping[ptechen.device],a)&&(null!==document.getElementById(a)&&(r.push(a),"O_SKIN"!==a&&o++),"VIP"===a&&r.push(a),"O_INTERSTITIAL_G"===a&&r.push(a));console.table(r);var s="red",d="troppo basso, monetizzazione compromessa!";o>=2&&o<=4?(s="orange",d="basso, monetizzazione sotto la media"):o>4&&o<6?(s="yellow",d="buono, monetizzazione nella norma"):o>=6&&(s="green",d="ottimale, monetizzazione al top"),console.log("%cIl numero dei banner in pagina è "+d,"color:"+s+";font-size: 14px;")}if(ptechen.findGetParameter("format_preview")){for(let e in ptechen.sizeMapping[ptechen.device])if(Object.prototype.hasOwnProperty.call(ptechen.sizeMapping[ptechen.device],e)){if("O_INTERSTITIAL"===e||"O_INTERSTITIAL_G"===e||"O_SKIN"===e)continue;var c=document.getElementById(e);if(null!=c){c.innerHTML=e;let t=ptechen.sizeMapping[ptechen.device][e][0],n=t[1],i=t[0];c.style.cssText="line-height:"+n+"px;width:"+i+"px;height:"+n+"px;font-size:28px;font-weight:700;background-color:#cbcbcb;margin-top:15px;margin-bottom:15px;text-align:center;vertical-align:middle;"}}return!0}ptechen.loadedEngine=1;var u={buckets:[{precision:2,max:2,increment:.01},{precision:2,max:5,increment:.02},{precision:2,max:10,increment:.1},{precision:2,max:20,increment:.25}]};qe.aliasBidder("appnexus","pbserver"),!0===ptechen.enableProfiling&&qe.aliasBidder("appnexus","sublimeIntro"),!1===ptechen.enableProfiling&&(qe.aliasBidder("appnexus","NoConsentAppnexus"),qe.aliasBidder("pbserver","NoConsentPbserver"),qe.aliasBidder("teads","NoConsentTeads"),qe.aliasBidder("seedtag","NoConsentSeedtag"),qe.aliasBidder("ix","NoConsentIx"),qe.aliasBidder("criteo","NoConsentCriteo"),qe.aliasBidder("openx","NoConsentOpenx"),qe.aliasBidder("rubicon","NoConsentRubicon"),qe.aliasBidder("connectad","NoConsentConnectad"),qe.aliasBidder("smartadserver","NoConsentSmartadserver"),qe.aliasBidder("pubmatic","NoConsentPubmatic"),qe.aliasBidder("improvedigital","NoConsentImprovedigital"),qe.aliasBidder("smilewanted","NoConsentSmilewanted"),qe.aliasBidder("richaudience","NoConsentRichaudience"),qe.aliasBidder("invibes","NoConsentInvibes"),qe.aliasBidder("yahoossp","NoConsentYahoossp"),qe.aliasBidder("adagio","NoConsentAdagio"),qe.aliasBidder("onetag","NoConsentOnetag"),qe.aliasBidder("outbrain","NoConsentOutbrain"),qe.aliasBidder("gumgum","NoConsentGumgum"),qe.aliasBidder("triplelift","NoConsentTriplelift"),qe.aliasBidder("sublime","NoConsentSublime"),qe.aliasBidder("appnexus","NoConsentSublimeIntro")),ptechen.prebidConfig={bidderSequence:"fixed",enableSendAllBids:!1,targetingControls:{alwaysIncludeDeals:!0},useBidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache",ignoreBidderCacheKey:!0},improvedigital:{singleRequest:!0,usePrebidSizes:!0},rubicon:{netRevenue:!1,singleRequest:!0},yahoossp:{mode:"all"},outbrain:{bidderUrl:"https://b1h-euc1.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h-euc1.zemanta.com/usersync/prebid"},timeoutBuffer:400,userSync:{syncDelay:3e3,syncsPerBidder:5,aliasSyncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"},iframe:{bidders:"*",filter:"include"}},userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"_pubCommonId",expires:365,refreshInSeconds:604800}},{name:"criteo"},{name:"id5Id",params:{partner:306},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"unifiedId",params:{partner:"ymbefve"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:90}}]},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"talksmedia.it",sid:ptechen.sellerId,hp:1}]}},priceGranularity:u,mediaTypePriceGranularity:{video:{buckets:[{precision:2,max:2,increment:.02},{precision:2,max:10,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:30,increment:.25},{precision:2,max:70,increment:1}]},"video-outstream":u,banner:u,native:u},currency:{adServerCurrency:"EUR",granularityMultiplier:1,conversionRateFile:"https://static.pub-cdn.com/prebid/fixer.json",bidderCurrencyDefault:{appnexus:"USD",pbserver:"USD",connectad:"USD",ix:"USD",outbrain:"USD",richaudience:"USD",rubicon:"USD",yahoossp:"USD",gumgum:"USD",triplelift:"USD"},defaultRates:{USD:{EUR:.92}}}};var l,p="yahoossp",f="sublimeIntro";!1===ptechen.enableProfiling&&(ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentAppnexus="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentPbserver="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentConnectad="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentIx="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentOutbrain="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentImprovedigital="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentRichaudience="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentRubicon="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentYahoossp="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentGumgum="USD",ptechen.prebidConfig.currency.bidderCurrencyDefault.NoConsentTriplelift="USD",p="NoConsentYahoossp",f="NoConsentSublimeIntro"),!0===ptechen.logPrebid&&(ptechen.prebidConfig.debug=!0),!0===ptechen.tcfAvailable&&(ptechen.prebidConfig.consentManagement={cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}),ptechen.browser="notChrome";try{var m=window.chrome,g=window.navigator,h=g.vendor,b=void 0!==window.opr,y=g.userAgent.indexOf("Edg")>-1;(g.userAgent.match("CriOS")||null!=m&&"Google Inc."===h&&!1===b&&!1===y)&&(ptechen.browser="chrome")}catch(e){console.error(e)}ptechen.prebidConfig.floors={enforcement:{floorDeals:!1,bidAdjustment:!0},data:{currency:"EUR",skipRate:0,modelVersion:"1",schema:{fields:["adUnitCode","mediaType","size","browserType","refreshNumber","enableProfiling"]},values:{"*|banner|*|chrome|*|true":.05,"*|banner|*|notChrome|*|true":.03,"*|banner|*|*|*|false":.02,"T_1|banner|*|chrome|0|true":.08,"S_1|banner|*|*|*|true":.6,"S_2|banner|*|*|*|true":.6,"D_1|banner|*|chrome|0|true":.08,"*|video|*|*|*|*":1.2,"O_INTERSTITIAL|banner|*|chrome|*|true":.6,"O_INTERSTITIAL|banner|*|*|*|false":.1,"O_INTERSTITIAL|banner|*|notChrome|*|true":.4}},additionalSchemaFields:{browserType:function(){return ptechen.browser},refreshNumber:function(){return ptechen.refreshNumber.toString()},enableProfiling:function(){return ptechen.enableProfiling.toString()}}},qe.setConfig(ptechen.prebidConfig),qe.setBidderConfig({bidders:[p],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"pubtech.ai",sid:ptechen.sellerId,hp:1}]}}}}),qe.setBidderConfig({bidders:[f],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"takerate.com",sid:"w123915",hp:1,domain:"ansa.it",name:"Ansa.it"}]}}}}),qe.bidderSettings={standard:{storageAllowed:!0},smartadserver:{bidCpmAdjustment:function(e){return.8*e}},criteo:{bidCpmAdjustment:function(e){return 1*e}},appnexus:{bidCpmAdjustment:function(e,t){return void 0!==t.dealId&&""!==t.dealId?.7*e:.98*e}},pbserver:{bidCpmAdjustment:function(e){return.92*e}},rubicon:{bidCpmAdjustment:function(e,t){return void 0!==t.dealId&&""!==t.dealId?.58*e:.8*e}},teads:{bidCpmAdjustment:function(e){return 1*e}},improvedigital:{bidCpmAdjustment:function(e){return.78*e}},ix:{bidCpmAdjustment:function(e){return.98*e}},richaudience:{bidCpmAdjustment:function(e){return.96*e}},pubmatic:{bidCpmAdjustment:function(e){return 1*e}}},!1===ptechen.enableProfiling&&(qe.bidderSettings.NoConsentSmartadserver={bidCpmAdjustment:function(e){return.8*e}},qe.bidderSettings.NoConsentPbserver={bidCpmAdjustment:function(e){return.92*e}},qe.bidderSettings.NoConsentIx={bidCpmAdjustment:function(e){return.98*e}},qe.bidderSettings.NoConsentImprovedigital={bidCpmAdjustment:function(e){return.78*e}},qe.bidderSettings.NoConsentRichaudience={bidCpmAdjustment:function(e){return.96*e}},qe.bidderSettings.NoConsentInvibes={bidCpmAdjustment:function(e){return.9*e}},qe.bidderSettings.NoConsentRubicon={bidCpmAdjustment:function(e,t){return void 0!==t.dealId&&""!==t.dealId?.58*e:.8*e}}),!0===ptechen.isDebug&&qe.onEvent("bidResponse",(function(e){Al.debug("BID RESPONSE ",e)})),ptechen.SPurl=window.location.pathname.split("/")[1],""===ptechen.SPurl&&(ptechen.SPurl="home"),ptechen.pageview=null,-1===document.referrer.indexOf(window.location.hostname)?ptechen.pageview="0":ptechen.pageview="1",googletag.pubads().setTargeting("pageview",ptechen.pageview);try{ptechen.setTargeting()}catch(e){Al.error(e)}try{ptechen.additionalSectionTargeting()}catch(e){Al.error(e)}for(let e in ptechen.sizeMapping[ptechen.device])if(Object.prototype.hasOwnProperty.call(ptechen.sizeMapping[ptechen.device],e)){let t=null,n=null,i=null,r=null,o=[];t=document.getElementById(e);var v=null;if(null!=t){if(t.hasAttribute("data-size-"+ptechen.device_for_ssp)&&""!==t.getAttribute("data-size-"+ptechen.device_for_ssp)?v="data-size-"+ptechen.device_for_ssp:t.hasAttribute("data-size")&&""!==t.hasAttribute("data-size")&&(v="data-size"),null!==v)for(i=t.getAttribute(v).split(","),I=0;I<i.length;I++)r=null,"fluid"===i[I]?o.push("fluid"):(r=i[I].split("x"),void 0!==r[0]&&void 0!==r[1]&&o.push([parseInt(r[0]),parseInt(r[1])]));o.length>0&&(ptechen.sizeMapping[ptechen.device][e]=o),t.innerHTML="","O_SKIN"===e&&(t.style.cssText="max-width: 1px; max-height: 1px; overflow: hidden;"),n={name:e,adUnit:ptechen.fullNameAd+e},ptechen.formati_presenti[e]=n}}ptechen.adUnits=[],ptechen.noprebid=[];for(let e in ptechen.formati_presenti)if(Object.prototype.hasOwnProperty.call(ptechen.formati_presenti,e)){var _;null!==(_=ptechen.setUpBids(e))&&_.bids.length>0?ptechen.adUnits.push(_):ptechen.noprebid.push(e)}if(qe.addAdUnits(ptechen.adUnits),!0===ptechen.amazon.display){let e=ptechen.sizeMapping[ptechen.device];null!==ptechen.amazon.displaySlots&&(e=ptechen.amazon.displaySlots);for(let t in e)Object.prototype.hasOwnProperty.call(ptechen.sizeMapping[ptechen.device],t)&&ptechen.addAmazonSlot(t)}for(let e in ptechen.formati_presenti)Object.prototype.hasOwnProperty.call(ptechen.formati_presenti,e)&&null!==document.getElementById(e)&&(void 0===ptechen.slots[e]?(ptechen.slots[e]=googletag.defineSlot(ptechen.fullNameAd+e,ptechen.sizeMapping[ptechen.device][e],e).addService(googletag.pubads()).setTargeting("SPurl",ptechen.SPurl).setTargeting("Refresh","0").setTargeting(ptechen.videoTargeting,ptechen.section_targeting).setTargeting("pagina",ptechen.page_targeting).setCollapseEmptyDiv(!1),Al.debug("Adding "+ptechen.fullNameAd+e)):Al.debug("ALREADY ADDED ==> "+ptechen.fullNameAd+e));if(void 0!==ptechen.sizeMapping[ptechen.device].O_INTERSTITIAL_G){Al.debug("DEFINED ADEX INTERSTITIAL");try{ptechen.slots.O_INTERSTITIAL_G=googletag.defineOutOfPageSlot(ptechen.fullNameAd+"O_INTERSTITIAL_G",googletag.enums.OutOfPageFormat.INTERSTITIAL).addService(googletag.pubads()).setTargeting("SPurl",ptechen.SPurl).setTargeting("Refresh","0").setTargeting("pagina",ptechen.page_targeting)}catch(e){Al.error(e)}}googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.pubads().setCentering(!0),googletag.enableServices(),window.dispatchEvent(new Event("start_engine")),Al.debug("Start Engine "+al()),ptechen.device===Qu.DESKTOP?(l=["D_1","O_SKIN","F_D"],ptechen.noLazy.desktop.length>0&&(l=sl(l.concat(ptechen.noLazy.desktop))),void 0!==ptechen.noLazy.remove&&void 0!==ptechen.noLazy.remove.desktop&&(l=dl(l,ptechen.noLazy.remove.desktop))):ptechen.device===Qu.TABLET?(l=["T_1","F_D"],ptechen.noLazy.tablet.length>0&&(l=sl(l.concat(ptechen.noLazy.tablet))),void 0!==ptechen.noLazy.remove&&void 0!==ptechen.noLazy.remove.tablet&&(l=dl(l,ptechen.noLazy.remove.tablet))):(l=["T_1","F_M"],ptechen.noLazy.mobile.length>0&&(l=sl(l.concat(ptechen.noLazy.mobile))),void 0!==ptechen.noLazy.remove&&void 0!==ptechen.noLazy.remove.mobile&&(l=dl(l,ptechen.noLazy.remove.mobile)));for(var I=0;I<l.length;I++)void 0!==ptechen.formati_presenti[l[I]]&&null!==ptechen.formati_presenti[l[I]]&&(ptechen.refreshBid([ptechen.formati_presenti[l[I]].name],[ptechen.slots[l[I]]]),ptechen.formati_presenti[l[I]]=void 0);ptechen.loadGoogleInterstitial=function(){void 0!==ptechen.sizeMapping[ptechen.device].O_INTERSTITIAL_G&&ptechen.slots.O_INTERSTITIAL_G&&!0===ptechen.enableProfiling&&(Al.debug(ptechen.slots.O_INTERSTITIAL_G),Al.debug("SUCCESS ==> ABLE TO SERVE AS ADEX WEB INTERSTITIAL"),googletag.pubads().addEventListener("slotResponseReceived",(function(e){var t=e.slot;Al.debug("SLOT RESPONSE RECEIVED",t.getSlotElementId()),t===ptechen.slots.O_INTERSTITIAL_G&&(Al.debug("ADEX INTERSTITIAL IS",t.getResponseInformation()),googletag.pubads().addEventListener("impressionViewable",(function(e){var t=e.slot;Al.debug("Impression for slot",t.getSlotElementId(),"became viewable."),t===ptechen.slots.O_INTERSTITIAL_G&&(Al.debug("Setting Interstitial Cookie"),ol(ptechen.interstitialCappingCookieName,ptechen.interstitialCappingMinutes))})))})),googletag.display(ptechen.slots.O_INTERSTITIAL_G),googletag.pubads().refresh([ptechen.slots.O_INTERSTITIAL_G]))},ptechen.loadInterstitial=function(){if(!1===ptechen.disableInterstitialCapping){var e=ptechen.getCookie(ptechen.interstitialCappingCookieName),t=ptechen.interstitialCappingFrequency;if(e&&e>=t)return!0}void 0!==ptechen.formati_presenti.O_INTERSTITIAL&&void 0!==ptechen.slots.O_INTERSTITIAL&&0===ptechen.loadedInterstitial?(ptechen.loadedInterstitial++,Al.debug("== LOADING ==> HB O_INTERSTITIAL"),void 0!==ptechen.interstitialDelay&&!1===ptechen.googlePreview?setTimeout((function(){ptechen.refreshBid([ptechen.formati_presenti.O_INTERSTITIAL.name],[ptechen.slots.O_INTERSTITIAL])}),1e3*ptechen.interstitialDelay):ptechen.refreshBid([ptechen.formati_presenti.O_INTERSTITIAL.name],[ptechen.slots.O_INTERSTITIAL])):void 0===ptechen.sizeMapping[ptechen.device].O_INTERSTITIAL&&void 0!==ptechen.sizeMapping[ptechen.device].O_INTERSTITIAL_G&&ptechen.loadGoogleInterstitial()},ptechen.googlePreview=!1,null===ptechen.findGetParameter("google_preview")&&!1===ptechen.disableAds?(Al.debug("NO GOOGLE PREVIEW"),"mobile"===ptechen.device&&ptechen.loadInterstitial()):(ptechen.googlePreview=!0,ptechen.disableInterstitialCapping=!0,Al.debug("GOOGLE PREVIEW"),ptechen.loadInterstitial(!0));var T={};for(let e in ptechen.formati_presenti)Object.prototype.hasOwnProperty.call(ptechen.formati_presenti,e)&&void 0!==ptechen.formati_presenti[e]&&(T[e]=ptechen.formati_presenti[e]);if(ptechen.formati_presenti=T,ptechen.runOnScroll=function(){Al.debug("=== RUNNING ON SCROLL ===");var e=!0;for(var t in ptechen.formati_presenti)if("O_INTERSTITIAL"!==t&&"F_M"!==t&&"F_D"!==t){var n=null;if(Object.prototype.hasOwnProperty.call(ptechen.formati_presenti,t)){n=ptechen.formati_presenti[t];var i=document.getElementById(t);void 0!==n&&(e=!1,null===i?ptechen.formati_presenti[t]=void 0:ll(i,ptechen.device,ptechen.lazyLoadingthreshold)&&(Al.debug(t+" Div is in viewport refreshing"),ptechen.refreshBid([ptechen.formati_presenti[t].name],[ptechen.slots[t]]),ptechen.formati_presenti[t]=void 0))}}!0===e&&(Al.debug("=== RUN ON SCROLL COMPLETED ==="),window.removeEventListener("scroll",ptechen.runOnScroll))},"function"==typeof IntersectionObserver){Al.debug("USING INTERSECTION OBSERVER");var E="250px 15px 350px 15px";void 0!==ptechen.rootMarginIE&&(E=ptechen.rootMarginIE);var w=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){Al.debug(e.target.id+" Div is in viewport refreshing");var t=e.target.id;e.target.getAttribute("data-adslot")&&(t=e.target.getAttribute("data-adslot")),ptechen.refreshBid([ptechen.formati_presenti[t].name],[ptechen.slots[t]]),ptechen.formati_presenti[t]=void 0,w.unobserve(e.target)}}))}),{threshold:0,rootMargin:E});for(let e in ptechen.formati_presenti)if("O_INTERSTITIAL"!==e&&"F_M"!==e&&"F_D"!==e&&Object.prototype.hasOwnProperty.call(ptechen.formati_presenti,e)){var S=document.getElementById(e);null!==S&&w.observe(S)}}else window.addEventListener("scroll",ptechen.runOnScroll,{passive:!0});!0===ptechen.enableAutoRefresh&&ptechen.autoRefreshSettings.adunits.length>0&&ptechen.autoRefresh(),ptechen.bidWonFloorAd=null,ptechen.bidWonFloorAdHeight=0,ptechen.bidWonInterstitial=null,qe.onEvent("bidWon",(function(e){"O_INTERSTITIAL"===e.adUnitCode&&"rendered"===e.status&&(Al.debug("BID WON INTERSTITIAL "+e.bidderCode),Al.debug("SLOT ON RENDERED INTERSTITIAL"),ptechen.bidWonInterstitial=e.bidderCode),"F_M"===e.adUnitCode&&"rendered"===e.status&&(ptechen.bidWonFloorAd=e.bidderCode,ptechen.bidWonFloorAdHeight=e.height)})),ptechen.checkRenderInterstitial=function(e){Al.debug("=== ANALYZING RENDERING INTERSTITIAL ==="),ol(ptechen.interstitialCappingCookieName,ptechen.interstitialCappingMinutes);var t=document.getElementById("O_INTERSTITIAL");if(null!==document.getElementById("ovmcnt")||null!==document.getElementById("m-skin-cont"))return Al.debug("is a reservation.. skip rendering"),!0;Al.debug(ptechen.bidWonInterstitial);if(null!==ptechen.bidWonInterstitial&&["justpremium"].indexOf(ptechen.bidWonInterstitial)>-1)return Al.debug("the winner is an ssp with template: "+ptechen.bidWonInterstitial+" --\x3e not rendering template"),!0;Al.debug("the winner is NOT an ssp with template: "+ptechen.bidWonInterstitial+" --\x3e rendering template"),Al.debug("rendering template..."),Al.debug("rendering CUSTOM NEW template...");var n="0";window.innerHeight===window.screen.height&&navigator.userAgent.match(/instagram/i)&&(n="50px");try{document.body.classList.add("ptechFilledInterstitial")}catch(e){console.error(e)}var i=document.createElement("div");i.id="cont-close-interstitial",i.setAttribute("class","beforeFadeIn"),i.style.cssText="width: 25vw; height: 52px; position: fixed; top: "+n+"; right:0; z-index: 2147483647;";var r=document.createElement("div");r.innerHTML="x",r.id="close-ptech-interstitial",r.setAttribute("style","width: 32px;\n    height: 32px;\n    position: fixed;\n    z-index: 2147483647;\n    display: none;\n    justify-content: center!important;\n    align-items: center!important;\n    border-radius: 16px!important;\n    background: #000000;\n    color: #FFFFFF;\n    flex-direction: column;\n    font-size: 18px;\nright:13px!important;    border: 1px solid #FFFFFF;\n    font-family: sans-serif;top:8px!important;cursor:pointer;");var o=document.createElement("div");o.innerHTML="3",o.id="ptech-timer-interstitial",o.setAttribute("style","width: 32px;\n    height: 32px;\n    position: fixed;\n    z-index: 2147483647;\n    display: flex!important;\n    border-radius: 16px;\n    border: 1px solid rgb(255, 255, 255);\n    line-height: initial!important;\nfont-size:18px!important;\n    color: white;\n    font-weight: 700;top:10px!important;right:10px;cursor:pointer;align-items: center!important;\n    justify-content: center!important;");try{var a=document.getElementById("oIntLayer");(void 0===e||void 0!==e&&!0===e)&&a.setAttribute("class","pt-filled")}catch(e){console.error(e)}i.setAttribute("class","toFadeIn"),t.setAttribute("class","pt-filled"),setTimeout((function(){a.parentNode.removeChild(a),console.log("CLOSE INT LAYER")}),2e3);var s=function(){setTimeout((function(){try{t.setAttribute("class","pt-hidden");try{document.documentElement.style.overflow="visible",document.body.style.overflow="visible"}catch(e){}i.parentNode.removeChild(i),t.parentNode.removeChild(t);try{document.body.classList.remove("ptechFilledInterstitial")}catch(e){document.body.style.cssText=""}a.parentNode.removeChild(a)}catch(e){console.error(e)}}),90)};r.onclick=function(){return s()},i.appendChild(r),i.appendChild(o),document.body.appendChild(i);var d=3,c=setInterval((function(){d<=0?(clearInterval(c),o.style.display="none",r.style.display="flex"):o.innerHTML=d,d-=1}),500);return ptechen.findGetParameter("debug_pubtech")||setTimeout((function(){Al.debug("=== AUTO CLOSING INTERSTITIAL ==="),null!==document.getElementById("O_INTERSTITIAL")&&s()}),11e3),Al.debug("=== END ANALYZING RENDERING INTERSTITIAL ==="),!0},ptechen.noInterstitialToRender=function(){var e=document.getElementById("O_INTERSTITIAL");null!==e&&e.setAttribute("class","pt-hidden"),!0===ptechen.enableProfiling&&(Al.debug("EMPTY INTERSTITIAL LOADING GOOGLE INTERSTITIAL"),ptechen.loadGoogleInterstitial())};var C=[],A=function(e,t){Al.debug("FIRED ==> routineOperations"),Al.debug("ROUTING OPERATIONS: Div: "+e+" isEmpty: "+t);var n=document.getElementById(e);null!==n&&(n.className=n.className.replace(/\badvblockshown\b/g,""),!1===t&&"O_INTERSTITIAL"!==e&&"F_M"!==e&&"O_SKIN"!==e&&(n.classList.add("advblockshown"),"T_1"===e&&(n.style.minHeight="282px"))),!0===t&&"O_INTERSTITIAL"!==e&&-1===C.indexOf(e)&&void 0!==ptechen.formati_presenti[e]&&(Al.debug("First tentative empty, reloading Adunit: "+e),C.push(e),kl([ptechen.formati_presenti[e].name])),"O_INTERSTITIAL"===e&&(!1===t?(Al.debug("SLOT RENDERERED EVENT LOADING INTERSTITIAL RESPONSES"),!0===ptechen.openInterstitial&&ptechen.device===Qu.MOBILE&&(Al.debug("SLOT ON RENDERED INTERSTITIAL"),setTimeout((function(){ptechen.checkRenderInterstitial()}),300))):!0===t&&(Al.debug("INTERSTITIAL NOT RENDERED"),!0===ptechen.nativeryFallbackInterstitial&&"mobile"===ptechen.device?(Al.debug("LOADING NATIVERY"),ptechen.loadNativeryInterstitial()):ptechen.noInterstitialToRender()))};googletag.pubads().addEventListener("slotRenderEnded",(function(e){A(e.slot.getSlotElementId(),e.isEmpty)})),window.addEventListener("slotRenderEnded",(function(e){A(e.detail.id,e.detail.isEmpty)}));try{ptechen.additionalMethods()}catch(e){Al.error(e)}ptechen.loadDynamicAds=function(e){for(var t=[],n=document.querySelectorAll('.adv-slot[id^="C_"]'),i=0;i<n.length;i++)t.push(n[i].id);var r=null;if("ultimaora_article"===e?r=document.querySelector('article.news-open .adv-slot[data-slot-id^="C_"]:not([id])'):"ultimaora_list"===e&&(r=document.querySelector('.jscroll-added .adv-slot[data-slot-id^="C_"]:not([id])')),null!==r){var o="C_1_"+(t.length+1);if(null===document.getElementById(o)){r.id=o;var a=googletag.defineSlot(ptechen.fullNameAd+"C_1",[[300,250],[300,100],[300,50],[320,50],[320,100],[336,280],[250,250],[200,200]],o).addService(googletag.pubads()),s=ptechen.setUpBids("C_1",o,[[300,250],[300,100],[300,50],[320,50],[320,100],[336,280],[250,250],[200,200]]);qe.addAdUnits(s),ptechen.refreshBid([o],[a])}}};try{window.ptec=function(){var e=function(){if(null==window.ptec)return window.ptec={},t(),window.ptec;if("object"==typeof window.ptec&&Array.isArray(window.ptec.queue))return window.ptec.queue.forEach((function(e){e()})),t(),window.ptec;throw new Error("It seems that you are using my wonderful library in a wrong way.")}();return e;function t(){window.ptec.queue={},window.ptec.queue.push=function(e){e()},Object.freeze(window.ptec)}}()}catch(e){console.error(e)}}},ptechen.startAll=function(){if(1===ptechen.loadedEngine)return Al.error("Pubtech Engine already loaded");try{void 0!==ptechen.loadScripts&&"function"==typeof ptechen.loadScripts&&ptechen.loadScripts()}catch(e){Al.error(e)}var e=function(){var e=0;!0===ptechen.disableGAM&&(ptechen.enableProfiling=!1);try{window.WebsiteDetailContainer.categories.indexOf("pubbliredazionali_all")>-1&&(ptechen.disableAds=!0)}catch(e){console.error(e)}if(void 0!==ptechen.excludePages&&ptechen.excludePages.length>0||void 0!==ptechen.blockAdsPages&&ptechen.blockAdsPages.length>0){var t=window.location.pathname;for(e=0;e<ptechen.blockAdsPages.length;e++)if(t.indexOf("/"+ptechen.blockAdsPages[e])>-1){ptechen.disableAds=!0;break}if(!1===ptechen.disableAds){for(e=0;e<ptechen.excludePages.length;e++)if(t.indexOf("/"+ptechen.excludePages[e])>-1){ptechen.enableProfiling=!1,ptechen.trackPageView=!1;break}1===ptechen.googleReady?(Al.debug("loading directly"),ptechen.loadEngine()):(Al.debug("loading via event listener"),window.addEventListener("googleGptReady",ptechen.loadEngine))}}else!1===ptechen.disableAds&&(1===ptechen.googleReady?(Al.debug("loading directly"),ptechen.loadEngine()):(Al.debug("loading via event listener"),window.addEventListener("googleGptReady",ptechen.loadEngine)))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()};ptechen.cmd.length>0;)ptechen.cmd.shift()()}()})();